{"ast":null,"code":"'use strict';\n\nvar d3 = require('@plotly/d3');\nvar Color = require('../../components/color');\nvar Drawing = require('../../components/drawing');\nvar Colorscale = require('../../components/colorscale');\nfunction style(gd, calcTrace) {\n  if (calcTrace) styleTrace(gd, calcTrace);\n}\nfunction styleTrace(gd, calcTrace) {\n  var trace = calcTrace[0].trace;\n  var s = calcTrace[0].node3;\n  var locs = s.selectAll('.choroplethlocation');\n  var marker = trace.marker || {};\n  var markerLine = marker.line || {};\n  var sclFunc = Colorscale.makeColorScaleFuncFromTrace(trace);\n  locs.each(function (d) {\n    d3.select(this).attr('fill', sclFunc(d.z)).call(Color.stroke, d.mlc || markerLine.color).call(Drawing.dashLine, '', d.mlw || markerLine.width || 0).style('opacity', marker.opacity);\n  });\n  Drawing.selectedPointStyle(locs, trace);\n}\nfunction styleOnSelect(gd, calcTrace) {\n  var s = calcTrace[0].node3;\n  var trace = calcTrace[0].trace;\n  if (trace.selectedpoints) {\n    Drawing.selectedPointStyle(s.selectAll('.choroplethlocation'), trace);\n  } else {\n    styleTrace(gd, calcTrace);\n  }\n}\nmodule.exports = {\n  style: style,\n  styleOnSelect: styleOnSelect\n};","map":{"version":3,"names":["d3","require","Color","Drawing","Colorscale","style","gd","calcTrace","styleTrace","trace","s","node3","locs","selectAll","marker","markerLine","line","sclFunc","makeColorScaleFuncFromTrace","each","d","select","attr","z","call","stroke","mlc","color","dashLine","mlw","width","opacity","selectedPointStyle","styleOnSelect","selectedpoints","module","exports"],"sources":["E:/tog_workspace/TestFabric_main/TestFabric-main/node_modules/plotly.js/src/traces/choropleth/style.js"],"sourcesContent":["'use strict';\n\nvar d3 = require('@plotly/d3');\nvar Color = require('../../components/color');\nvar Drawing = require('../../components/drawing');\nvar Colorscale = require('../../components/colorscale');\n\nfunction style(gd, calcTrace) {\n    if(calcTrace) styleTrace(gd, calcTrace);\n}\n\nfunction styleTrace(gd, calcTrace) {\n    var trace = calcTrace[0].trace;\n    var s = calcTrace[0].node3;\n    var locs = s.selectAll('.choroplethlocation');\n    var marker = trace.marker || {};\n    var markerLine = marker.line || {};\n\n    var sclFunc = Colorscale.makeColorScaleFuncFromTrace(trace);\n\n    locs.each(function(d) {\n        d3.select(this)\n            .attr('fill', sclFunc(d.z))\n            .call(Color.stroke, d.mlc || markerLine.color)\n            .call(Drawing.dashLine, '', d.mlw || markerLine.width || 0)\n            .style('opacity', marker.opacity);\n    });\n\n    Drawing.selectedPointStyle(locs, trace);\n}\n\nfunction styleOnSelect(gd, calcTrace) {\n    var s = calcTrace[0].node3;\n    var trace = calcTrace[0].trace;\n\n    if(trace.selectedpoints) {\n        Drawing.selectedPointStyle(s.selectAll('.choroplethlocation'), trace);\n    } else {\n        styleTrace(gd, calcTrace);\n    }\n}\n\nmodule.exports = {\n    style: style,\n    styleOnSelect: styleOnSelect\n};\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,EAAE,GAAGC,OAAO,CAAC,YAAY,CAAC;AAC9B,IAAIC,KAAK,GAAGD,OAAO,CAAC,wBAAwB,CAAC;AAC7C,IAAIE,OAAO,GAAGF,OAAO,CAAC,0BAA0B,CAAC;AACjD,IAAIG,UAAU,GAAGH,OAAO,CAAC,6BAA6B,CAAC;AAEvD,SAASI,KAAKA,CAACC,EAAE,EAAEC,SAAS,EAAE;EAC1B,IAAGA,SAAS,EAAEC,UAAU,CAACF,EAAE,EAAEC,SAAS,CAAC;AAC3C;AAEA,SAASC,UAAUA,CAACF,EAAE,EAAEC,SAAS,EAAE;EAC/B,IAAIE,KAAK,GAAGF,SAAS,CAAC,CAAC,CAAC,CAACE,KAAK;EAC9B,IAAIC,CAAC,GAAGH,SAAS,CAAC,CAAC,CAAC,CAACI,KAAK;EAC1B,IAAIC,IAAI,GAAGF,CAAC,CAACG,SAAS,CAAC,qBAAqB,CAAC;EAC7C,IAAIC,MAAM,GAAGL,KAAK,CAACK,MAAM,IAAI,CAAC,CAAC;EAC/B,IAAIC,UAAU,GAAGD,MAAM,CAACE,IAAI,IAAI,CAAC,CAAC;EAElC,IAAIC,OAAO,GAAGb,UAAU,CAACc,2BAA2B,CAACT,KAAK,CAAC;EAE3DG,IAAI,CAACO,IAAI,CAAC,UAASC,CAAC,EAAE;IAClBpB,EAAE,CAACqB,MAAM,CAAC,IAAI,CAAC,CACVC,IAAI,CAAC,MAAM,EAAEL,OAAO,CAACG,CAAC,CAACG,CAAC,CAAC,CAAC,CAC1BC,IAAI,CAACtB,KAAK,CAACuB,MAAM,EAAEL,CAAC,CAACM,GAAG,IAAIX,UAAU,CAACY,KAAK,CAAC,CAC7CH,IAAI,CAACrB,OAAO,CAACyB,QAAQ,EAAE,EAAE,EAAER,CAAC,CAACS,GAAG,IAAId,UAAU,CAACe,KAAK,IAAI,CAAC,CAAC,CAC1DzB,KAAK,CAAC,SAAS,EAAES,MAAM,CAACiB,OAAO,CAAC;EACzC,CAAC,CAAC;EAEF5B,OAAO,CAAC6B,kBAAkB,CAACpB,IAAI,EAAEH,KAAK,CAAC;AAC3C;AAEA,SAASwB,aAAaA,CAAC3B,EAAE,EAAEC,SAAS,EAAE;EAClC,IAAIG,CAAC,GAAGH,SAAS,CAAC,CAAC,CAAC,CAACI,KAAK;EAC1B,IAAIF,KAAK,GAAGF,SAAS,CAAC,CAAC,CAAC,CAACE,KAAK;EAE9B,IAAGA,KAAK,CAACyB,cAAc,EAAE;IACrB/B,OAAO,CAAC6B,kBAAkB,CAACtB,CAAC,CAACG,SAAS,CAAC,qBAAqB,CAAC,EAAEJ,KAAK,CAAC;EACzE,CAAC,MAAM;IACHD,UAAU,CAACF,EAAE,EAAEC,SAAS,CAAC;EAC7B;AACJ;AAEA4B,MAAM,CAACC,OAAO,GAAG;EACb/B,KAAK,EAAEA,KAAK;EACZ4B,aAAa,EAAEA;AACnB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script"}