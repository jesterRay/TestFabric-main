{"ast":null,"code":"import _objectSpread from\"E:/tog_workspace/TestFabric_main/TestFabric-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useContext,useState}from'react';import{BsArrowRight}from'react-icons/bs';import{useHistory}from\"react-router-dom\";import{UserContext}from'../../App';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ServicesOneCard(_ref){let{index,categoryId,bgImg,icon,heading,btnText,defaultImg,alterImg}=_ref;const history=useHistory();const{setValues}=useContext(UserContext);const[imageToShow,setImageToShow]=useState(bgImg);const[attemptedImages,setAttemptedImages]=useState([]);function handleClick(){setValues(pre=>_objectSpread(_objectSpread({},pre),{},{categoryId:categoryId}));const urlHeading=heading.replaceAll(\" \",\"-\").replaceAll(\"/\",\"\")+\"-\"+categoryId;history.push(\"/product-by-subcategory/\".concat(urlHeading));}function onError(e){// Track the current failed image\nconst failedImage=e.target.src;setAttemptedImages(prev=>[...prev,failedImage]);// Try images in order: bgImg → alterImg → defaultImg → hide element\nif(alterImg&&!attemptedImages.includes(alterImg)){setImageToShow(alterImg);}else if(bgImg&&!attemptedImages.includes(bgImg)){setImageToShow(bgImg);}else if(defaultImg&&!attemptedImages.includes(defaultImg)){setImageToShow(defaultImg);}else{e.target.style.display='none';// Hide the image if all fail\n}}return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 col-xl-3 col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"single-service-card\",onClick:handleClick,style:{cursor:\"pointer\",borderRadius:\"12px\",minHeight:\"350px\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-thumb bg-cover\",style:{height:\"60%\",borderRadius:\"12px 12px 0 0\",overflow:\"hidden\",backgroundColor:\"#f5f5f5\"},children:/*#__PURE__*/_jsx(\"img\",{style:{height:\"100%\",width:\"100%\",objectFit:\"cover\"},src:imageToShow,onError:onError,alt:heading||\"Service Image\",loading:\"lazy\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"content\",style:{padding:\"15px\",borderRadius:\"0 0 12px 12px\"},children:[/*#__PURE__*/_jsx(\"h3\",{children:/*#__PURE__*/_jsxs(\"a\",{onClick:handleClick,children:[index,\". \",heading]})}),/*#__PURE__*/_jsxs(\"a\",{onClick:handleClick,className:\"read-btn\",children:[btnText,\" \",/*#__PURE__*/_jsx(BsArrowRight,{})]})]})]})});}export default ServicesOneCard;","map":{"version":3,"names":["React","useContext","useState","BsArrowRight","useHistory","UserContext","jsx","_jsx","jsxs","_jsxs","ServicesOneCard","_ref","index","categoryId","bgImg","icon","heading","btnText","defaultImg","alterImg","history","setValues","imageToShow","setImageToShow","attemptedImages","setAttemptedImages","handleClick","pre","_objectSpread","urlHeading","replaceAll","push","concat","onError","e","failedImage","target","src","prev","includes","style","display","className","children","onClick","cursor","borderRadius","minHeight","height","overflow","backgroundColor","width","objectFit","alt","loading","padding"],"sources":["E:/tog_workspace/TestFabric_main/TestFabric-main/src/components/Services1/ServicesOneCard.jsx"],"sourcesContent":["import React, { useContext, useState } from 'react';\nimport { BsArrowRight } from 'react-icons/bs';\nimport { useHistory } from \"react-router-dom\";\nimport { UserContext } from '../../App';\n\nfunction ServicesOneCard({ index, categoryId, bgImg, icon, heading, btnText, defaultImg, alterImg }) {\n    const history = useHistory();\n    const { setValues } = useContext(UserContext);\n    const [imageToShow, setImageToShow] = useState(bgImg);\n    const [attemptedImages, setAttemptedImages] = useState([]);\n\n    function handleClick() {\n        setValues((pre) => ({ ...pre, categoryId: categoryId }));\n        const urlHeading = heading.replaceAll(\" \", \"-\").replaceAll(\"/\", \"\") + \"-\" + (categoryId);\n        history.push(`/product-by-subcategory/${urlHeading}`);\n    }\n\n    function onError(e) {\n        // Track the current failed image\n        const failedImage = e.target.src;\n        setAttemptedImages(prev => [...prev, failedImage]);\n    \n        // Try images in order: bgImg → alterImg → defaultImg → hide element\n        if (alterImg && !attemptedImages.includes(alterImg)) {\n            setImageToShow(alterImg);\n        } else if (bgImg && !attemptedImages.includes(bgImg)) {\n            setImageToShow(bgImg);\n        } else if (defaultImg && !attemptedImages.includes(defaultImg)) {\n            setImageToShow(defaultImg);\n        } else {\n            e.target.style.display = 'none'; // Hide the image if all fail\n        }\n    }\n    \n\n    return (\n        <div className=\"col-md-6 col-xl-3 col-12\">\n            <div className=\"single-service-card\" onClick={handleClick} style={{ cursor: \"pointer\", borderRadius: \"12px\", minHeight: \"350px\" }}>\n                <div\n                    className=\"card-thumb bg-cover\"\n                    style={{\n                        height: \"60%\",\n                        borderRadius: \"12px 12px 0 0\",\n                        overflow: \"hidden\",\n                        backgroundColor: \"#f5f5f5\"\n                    }}\n                >\n                    <img \n                        style={{ height: \"100%\", width: \"100%\", objectFit: \"cover\" }} \n                        src={imageToShow}\n                        onError={onError} \n                        alt={heading || \"Service Image\"} \n                        loading=\"lazy\"\n                    />\n                </div>\n\n                <div className=\"content\" style={{ padding: \"15px\", borderRadius: \"0 0 12px 12px\" }}>\n                    <h3>\n                        <a onClick={handleClick}>{index}. {heading}</a>\n                    </h3>\n                    <a onClick={handleClick} className=\"read-btn\">\n                        {btnText} <BsArrowRight />\n                    </a>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default ServicesOneCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}