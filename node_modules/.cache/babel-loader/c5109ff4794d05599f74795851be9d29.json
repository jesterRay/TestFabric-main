{"ast":null,"code":"'use strict';\n\nvar d3 = require('@plotly/d3');\nvar Drawing = require('../../components/drawing');\nvar Color = require('../../components/color');\nvar DESELECTDIM = require('../../constants/interactions').DESELECTDIM;\nvar barStyle = require('../bar/style');\nvar resizeText = require('../bar/uniform_text').resizeText;\nvar styleTextPoints = barStyle.styleTextPoints;\nfunction style(gd, cd, sel) {\n  var s = sel ? sel : d3.select(gd).selectAll('g[class^=\"waterfalllayer\"]').selectAll('g.trace');\n  resizeText(gd, s, 'waterfall');\n  s.style('opacity', function (d) {\n    return d[0].trace.opacity;\n  });\n  s.each(function (d) {\n    var gTrace = d3.select(this);\n    var trace = d[0].trace;\n    gTrace.selectAll('.point > path').each(function (di) {\n      if (!di.isBlank) {\n        var cont = trace[di.dir].marker;\n        d3.select(this).call(Color.fill, cont.color).call(Color.stroke, cont.line.color).call(Drawing.dashLine, cont.line.dash, cont.line.width).style('opacity', trace.selectedpoints && !di.selected ? DESELECTDIM : 1);\n      }\n    });\n    styleTextPoints(gTrace, trace, gd);\n    gTrace.selectAll('.lines').each(function () {\n      var cont = trace.connector.line;\n      Drawing.lineGroupStyle(d3.select(this).selectAll('path'), cont.width, cont.color, cont.dash);\n    });\n  });\n}\nmodule.exports = {\n  style: style\n};","map":{"version":3,"names":["d3","require","Drawing","Color","DESELECTDIM","barStyle","resizeText","styleTextPoints","style","gd","cd","sel","s","select","selectAll","d","trace","opacity","each","gTrace","di","isBlank","cont","dir","marker","call","fill","color","stroke","line","dashLine","dash","width","selectedpoints","selected","connector","lineGroupStyle","module","exports"],"sources":["E:/tog_workspace/TestFabric_main/TestFabric-main/node_modules/plotly.js/src/traces/waterfall/style.js"],"sourcesContent":["'use strict';\n\nvar d3 = require('@plotly/d3');\n\nvar Drawing = require('../../components/drawing');\nvar Color = require('../../components/color');\nvar DESELECTDIM = require('../../constants/interactions').DESELECTDIM;\nvar barStyle = require('../bar/style');\nvar resizeText = require('../bar/uniform_text').resizeText;\nvar styleTextPoints = barStyle.styleTextPoints;\n\nfunction style(gd, cd, sel) {\n    var s = sel ? sel : d3.select(gd).selectAll('g[class^=\"waterfalllayer\"]').selectAll('g.trace');\n    resizeText(gd, s, 'waterfall');\n\n    s.style('opacity', function(d) { return d[0].trace.opacity; });\n\n    s.each(function(d) {\n        var gTrace = d3.select(this);\n        var trace = d[0].trace;\n\n        gTrace.selectAll('.point > path').each(function(di) {\n            if(!di.isBlank) {\n                var cont = trace[di.dir].marker;\n\n                d3.select(this)\n                    .call(Color.fill, cont.color)\n                    .call(Color.stroke, cont.line.color)\n                    .call(Drawing.dashLine, cont.line.dash, cont.line.width)\n                    .style('opacity', trace.selectedpoints && !di.selected ? DESELECTDIM : 1);\n            }\n        });\n\n        styleTextPoints(gTrace, trace, gd);\n\n        gTrace.selectAll('.lines').each(function() {\n            var cont = trace.connector.line;\n\n            Drawing.lineGroupStyle(\n                d3.select(this).selectAll('path'),\n                cont.width,\n                cont.color,\n                cont.dash\n            );\n        });\n    });\n}\n\nmodule.exports = {\n    style: style\n};\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,EAAE,GAAGC,OAAO,CAAC,YAAY,CAAC;AAE9B,IAAIC,OAAO,GAAGD,OAAO,CAAC,0BAA0B,CAAC;AACjD,IAAIE,KAAK,GAAGF,OAAO,CAAC,wBAAwB,CAAC;AAC7C,IAAIG,WAAW,GAAGH,OAAO,CAAC,8BAA8B,CAAC,CAACG,WAAW;AACrE,IAAIC,QAAQ,GAAGJ,OAAO,CAAC,cAAc,CAAC;AACtC,IAAIK,UAAU,GAAGL,OAAO,CAAC,qBAAqB,CAAC,CAACK,UAAU;AAC1D,IAAIC,eAAe,GAAGF,QAAQ,CAACE,eAAe;AAE9C,SAASC,KAAKA,CAACC,EAAE,EAAEC,EAAE,EAAEC,GAAG,EAAE;EACxB,IAAIC,CAAC,GAAGD,GAAG,GAAGA,GAAG,GAAGX,EAAE,CAACa,MAAM,CAACJ,EAAE,CAAC,CAACK,SAAS,CAAC,4BAA4B,CAAC,CAACA,SAAS,CAAC,SAAS,CAAC;EAC9FR,UAAU,CAACG,EAAE,EAAEG,CAAC,EAAE,WAAW,CAAC;EAE9BA,CAAC,CAACJ,KAAK,CAAC,SAAS,EAAE,UAASO,CAAC,EAAE;IAAE,OAAOA,CAAC,CAAC,CAAC,CAAC,CAACC,KAAK,CAACC,OAAO;EAAE,CAAC,CAAC;EAE9DL,CAAC,CAACM,IAAI,CAAC,UAASH,CAAC,EAAE;IACf,IAAII,MAAM,GAAGnB,EAAE,CAACa,MAAM,CAAC,IAAI,CAAC;IAC5B,IAAIG,KAAK,GAAGD,CAAC,CAAC,CAAC,CAAC,CAACC,KAAK;IAEtBG,MAAM,CAACL,SAAS,CAAC,eAAe,CAAC,CAACI,IAAI,CAAC,UAASE,EAAE,EAAE;MAChD,IAAG,CAACA,EAAE,CAACC,OAAO,EAAE;QACZ,IAAIC,IAAI,GAAGN,KAAK,CAACI,EAAE,CAACG,GAAG,CAAC,CAACC,MAAM;QAE/BxB,EAAE,CAACa,MAAM,CAAC,IAAI,CAAC,CACVY,IAAI,CAACtB,KAAK,CAACuB,IAAI,EAAEJ,IAAI,CAACK,KAAK,CAAC,CAC5BF,IAAI,CAACtB,KAAK,CAACyB,MAAM,EAAEN,IAAI,CAACO,IAAI,CAACF,KAAK,CAAC,CACnCF,IAAI,CAACvB,OAAO,CAAC4B,QAAQ,EAAER,IAAI,CAACO,IAAI,CAACE,IAAI,EAAET,IAAI,CAACO,IAAI,CAACG,KAAK,CAAC,CACvDxB,KAAK,CAAC,SAAS,EAAEQ,KAAK,CAACiB,cAAc,IAAI,CAACb,EAAE,CAACc,QAAQ,GAAG9B,WAAW,GAAG,CAAC,CAAC;MACjF;IACJ,CAAC,CAAC;IAEFG,eAAe,CAACY,MAAM,EAAEH,KAAK,EAAEP,EAAE,CAAC;IAElCU,MAAM,CAACL,SAAS,CAAC,QAAQ,CAAC,CAACI,IAAI,CAAC,YAAW;MACvC,IAAII,IAAI,GAAGN,KAAK,CAACmB,SAAS,CAACN,IAAI;MAE/B3B,OAAO,CAACkC,cAAc,CAClBpC,EAAE,CAACa,MAAM,CAAC,IAAI,CAAC,CAACC,SAAS,CAAC,MAAM,CAAC,EACjCQ,IAAI,CAACU,KAAK,EACVV,IAAI,CAACK,KAAK,EACVL,IAAI,CAACS,IACT,CAAC;IACL,CAAC,CAAC;EACN,CAAC,CAAC;AACN;AAEAM,MAAM,CAACC,OAAO,GAAG;EACb9B,KAAK,EAAEA;AACX,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script"}