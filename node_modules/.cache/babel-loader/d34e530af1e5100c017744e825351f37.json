{"ast":null,"code":"'use strict';\n\nvar isNumeric = require('fast-isnumeric');\nvar handleLabelDefaults = require('./label_defaults');\nvar Color = require('../../components/color');\nvar addOpacity = Color.addOpacity;\nvar opacity = Color.opacity;\nvar filterOps = require('../../constants/filter_ops');\nvar isArrayOrTypedArray = require('../../lib').isArrayOrTypedArray;\nvar CONSTRAINT_REDUCTION = filterOps.CONSTRAINT_REDUCTION;\nvar COMPARISON_OPS2 = filterOps.COMPARISON_OPS2;\nmodule.exports = function handleConstraintDefaults(traceIn, traceOut, coerce, layout, defaultColor, opts) {\n  var contours = traceOut.contours;\n  var showLines, lineColor, fillColor;\n  var operation = coerce('contours.operation');\n  contours._operation = CONSTRAINT_REDUCTION[operation];\n  handleConstraintValueDefaults(coerce, contours);\n  if (operation === '=') {\n    showLines = contours.showlines = true;\n  } else {\n    showLines = coerce('contours.showlines');\n    fillColor = coerce('fillcolor', addOpacity((traceIn.line || {}).color || defaultColor, 0.5));\n  }\n  if (showLines) {\n    var lineDfltColor = fillColor && opacity(fillColor) ? addOpacity(traceOut.fillcolor, 1) : defaultColor;\n    lineColor = coerce('line.color', lineDfltColor);\n    coerce('line.width', 2);\n    coerce('line.dash');\n  }\n  coerce('line.smoothing');\n  handleLabelDefaults(coerce, layout, lineColor, opts);\n};\nfunction handleConstraintValueDefaults(coerce, contours) {\n  var zvalue;\n  if (COMPARISON_OPS2.indexOf(contours.operation) === -1) {\n    // Requires an array of two numbers:\n    coerce('contours.value', [0, 1]);\n    if (!isArrayOrTypedArray(contours.value)) {\n      if (isNumeric(contours.value)) {\n        zvalue = parseFloat(contours.value);\n        contours.value = [zvalue, zvalue + 1];\n      }\n    } else if (contours.value.length > 2) {\n      contours.value = contours.value.slice(2);\n    } else if (contours.length === 0) {\n      contours.value = [0, 1];\n    } else if (contours.length < 2) {\n      zvalue = parseFloat(contours.value[0]);\n      contours.value = [zvalue, zvalue + 1];\n    } else {\n      contours.value = [parseFloat(contours.value[0]), parseFloat(contours.value[1])];\n    }\n  } else {\n    // Requires a single scalar:\n    coerce('contours.value', 0);\n    if (!isNumeric(contours.value)) {\n      if (isArrayOrTypedArray(contours.value)) {\n        contours.value = parseFloat(contours.value[0]);\n      } else {\n        contours.value = 0;\n      }\n    }\n  }\n}","map":{"version":3,"names":["isNumeric","require","handleLabelDefaults","Color","addOpacity","opacity","filterOps","isArrayOrTypedArray","CONSTRAINT_REDUCTION","COMPARISON_OPS2","module","exports","handleConstraintDefaults","traceIn","traceOut","coerce","layout","defaultColor","opts","contours","showLines","lineColor","fillColor","operation","_operation","handleConstraintValueDefaults","showlines","line","color","lineDfltColor","fillcolor","zvalue","indexOf","value","parseFloat","length","slice"],"sources":["E:/tog_workspace/TestFabric_main/TestFabric-main/node_modules/plotly.js/src/traces/contour/constraint_defaults.js"],"sourcesContent":["'use strict';\nvar isNumeric = require('fast-isnumeric');\n\nvar handleLabelDefaults = require('./label_defaults');\n\nvar Color = require('../../components/color');\nvar addOpacity = Color.addOpacity;\nvar opacity = Color.opacity;\n\nvar filterOps = require('../../constants/filter_ops');\nvar isArrayOrTypedArray = require('../../lib').isArrayOrTypedArray;\nvar CONSTRAINT_REDUCTION = filterOps.CONSTRAINT_REDUCTION;\nvar COMPARISON_OPS2 = filterOps.COMPARISON_OPS2;\n\nmodule.exports = function handleConstraintDefaults(traceIn, traceOut, coerce, layout, defaultColor, opts) {\n    var contours = traceOut.contours;\n    var showLines, lineColor, fillColor;\n\n    var operation = coerce('contours.operation');\n    contours._operation = CONSTRAINT_REDUCTION[operation];\n\n    handleConstraintValueDefaults(coerce, contours);\n\n    if(operation === '=') {\n        showLines = contours.showlines = true;\n    } else {\n        showLines = coerce('contours.showlines');\n        fillColor = coerce('fillcolor', addOpacity(\n            (traceIn.line || {}).color || defaultColor, 0.5\n        ));\n    }\n\n    if(showLines) {\n        var lineDfltColor = fillColor && opacity(fillColor) ?\n            addOpacity(traceOut.fillcolor, 1) :\n            defaultColor;\n        lineColor = coerce('line.color', lineDfltColor);\n        coerce('line.width', 2);\n        coerce('line.dash');\n    }\n\n    coerce('line.smoothing');\n\n    handleLabelDefaults(coerce, layout, lineColor, opts);\n};\n\nfunction handleConstraintValueDefaults(coerce, contours) {\n    var zvalue;\n\n    if(COMPARISON_OPS2.indexOf(contours.operation) === -1) {\n        // Requires an array of two numbers:\n        coerce('contours.value', [0, 1]);\n\n        if(!isArrayOrTypedArray(contours.value)) {\n            if(isNumeric(contours.value)) {\n                zvalue = parseFloat(contours.value);\n                contours.value = [zvalue, zvalue + 1];\n            }\n        } else if(contours.value.length > 2) {\n            contours.value = contours.value.slice(2);\n        } else if(contours.length === 0) {\n            contours.value = [0, 1];\n        } else if(contours.length < 2) {\n            zvalue = parseFloat(contours.value[0]);\n            contours.value = [zvalue, zvalue + 1];\n        } else {\n            contours.value = [\n                parseFloat(contours.value[0]),\n                parseFloat(contours.value[1])\n            ];\n        }\n    } else {\n        // Requires a single scalar:\n        coerce('contours.value', 0);\n\n        if(!isNumeric(contours.value)) {\n            if(isArrayOrTypedArray(contours.value)) {\n                contours.value = parseFloat(contours.value[0]);\n            } else {\n                contours.value = 0;\n            }\n        }\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}