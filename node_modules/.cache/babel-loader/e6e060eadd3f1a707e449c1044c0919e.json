{"ast":null,"code":"'use strict';\n\nvar Lib = require('../../lib');\nvar Color = require('../color');\n\n// defaults common to 'annotations' and 'annotations3d'\nmodule.exports = function handleAnnotationCommonDefaults(annIn, annOut, fullLayout, coerce) {\n  coerce('opacity');\n  var bgColor = coerce('bgcolor');\n  var borderColor = coerce('bordercolor');\n  var borderOpacity = Color.opacity(borderColor);\n  coerce('borderpad');\n  var borderWidth = coerce('borderwidth');\n  var showArrow = coerce('showarrow');\n  coerce('text', showArrow ? ' ' : fullLayout._dfltTitle.annotation);\n  coerce('textangle');\n  Lib.coerceFont(coerce, 'font', fullLayout.font);\n  coerce('width');\n  coerce('align');\n  var h = coerce('height');\n  if (h) coerce('valign');\n  if (showArrow) {\n    var arrowside = coerce('arrowside');\n    var arrowhead;\n    var arrowsize;\n    if (arrowside.indexOf('end') !== -1) {\n      arrowhead = coerce('arrowhead');\n      arrowsize = coerce('arrowsize');\n    }\n    if (arrowside.indexOf('start') !== -1) {\n      coerce('startarrowhead', arrowhead);\n      coerce('startarrowsize', arrowsize);\n    }\n    coerce('arrowcolor', borderOpacity ? annOut.bordercolor : Color.defaultLine);\n    coerce('arrowwidth', (borderOpacity && borderWidth || 1) * 2);\n    coerce('standoff');\n    coerce('startstandoff');\n  }\n  var hoverText = coerce('hovertext');\n  var globalHoverLabel = fullLayout.hoverlabel || {};\n  if (hoverText) {\n    var hoverBG = coerce('hoverlabel.bgcolor', globalHoverLabel.bgcolor || (Color.opacity(bgColor) ? Color.rgb(bgColor) : Color.defaultLine));\n    var hoverBorder = coerce('hoverlabel.bordercolor', globalHoverLabel.bordercolor || Color.contrast(hoverBG));\n    var fontDflt = Lib.extendFlat({}, globalHoverLabel.font);\n    if (!fontDflt.color) {\n      fontDflt.color = hoverBorder;\n    }\n    Lib.coerceFont(coerce, 'hoverlabel.font', fontDflt);\n  }\n  coerce('captureevents', !!hoverText);\n};","map":{"version":3,"names":["Lib","require","Color","module","exports","handleAnnotationCommonDefaults","annIn","annOut","fullLayout","coerce","bgColor","borderColor","borderOpacity","opacity","borderWidth","showArrow","_dfltTitle","annotation","coerceFont","font","h","arrowside","arrowhead","arrowsize","indexOf","bordercolor","defaultLine","hoverText","globalHoverLabel","hoverlabel","hoverBG","bgcolor","rgb","hoverBorder","contrast","fontDflt","extendFlat","color"],"sources":["E:/tog_workspace/TestFabric_main/TestFabric-main/node_modules/plotly.js/src/components/annotations/common_defaults.js"],"sourcesContent":["'use strict';\n\nvar Lib = require('../../lib');\nvar Color = require('../color');\n\n// defaults common to 'annotations' and 'annotations3d'\nmodule.exports = function handleAnnotationCommonDefaults(annIn, annOut, fullLayout, coerce) {\n    coerce('opacity');\n    var bgColor = coerce('bgcolor');\n\n    var borderColor = coerce('bordercolor');\n    var borderOpacity = Color.opacity(borderColor);\n\n    coerce('borderpad');\n\n    var borderWidth = coerce('borderwidth');\n    var showArrow = coerce('showarrow');\n\n    coerce('text', showArrow ? ' ' : fullLayout._dfltTitle.annotation);\n    coerce('textangle');\n    Lib.coerceFont(coerce, 'font', fullLayout.font);\n\n    coerce('width');\n    coerce('align');\n\n    var h = coerce('height');\n    if(h) coerce('valign');\n\n    if(showArrow) {\n        var arrowside = coerce('arrowside');\n        var arrowhead;\n        var arrowsize;\n\n        if(arrowside.indexOf('end') !== -1) {\n            arrowhead = coerce('arrowhead');\n            arrowsize = coerce('arrowsize');\n        }\n\n        if(arrowside.indexOf('start') !== -1) {\n            coerce('startarrowhead', arrowhead);\n            coerce('startarrowsize', arrowsize);\n        }\n        coerce('arrowcolor', borderOpacity ? annOut.bordercolor : Color.defaultLine);\n        coerce('arrowwidth', ((borderOpacity && borderWidth) || 1) * 2);\n        coerce('standoff');\n        coerce('startstandoff');\n    }\n\n    var hoverText = coerce('hovertext');\n    var globalHoverLabel = fullLayout.hoverlabel || {};\n\n    if(hoverText) {\n        var hoverBG = coerce('hoverlabel.bgcolor', globalHoverLabel.bgcolor ||\n            (Color.opacity(bgColor) ? Color.rgb(bgColor) : Color.defaultLine)\n        );\n\n        var hoverBorder = coerce('hoverlabel.bordercolor', globalHoverLabel.bordercolor ||\n            Color.contrast(hoverBG)\n        );\n\n        var fontDflt = Lib.extendFlat({}, globalHoverLabel.font);\n        if(!fontDflt.color) {\n            fontDflt.color = hoverBorder;\n        }\n\n        Lib.coerceFont(coerce, 'hoverlabel.font', fontDflt);\n    }\n\n    coerce('captureevents', !!hoverText);\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}