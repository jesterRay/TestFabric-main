{"ast":null,"code":"var _jsxFileName = \"E:\\\\tog_workspace\\\\TestFabric_main\\\\TestFabric-main\\\\src\\\\components\\\\ServiceDetails\\\\SearchPage.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom/';\nimport axios from 'axios';\nimport Footer3 from '../Footer3';\nimport Header3 from '../Header3';\nimport PageBanner from '../PageBanner';\nimport bannerBg from '../../assets/img/page-banner.jpg';\nimport { FaDraftingCompass } from 'react-icons/fa';\n// import AllSearch from '../SearchService/allSearch';\nimport SearchResultCard from '../SearchService/SearchResultCard';\nimport AllSearchResult from '../SearchService/AllSearchResult';\nimport \"../SearchService/SearchService.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SearchObj = {\n  1: {\n    type: 1,\n    url: 'search all other '\n  },\n  2: {\n    type: 2,\n    url: 'search_products'\n  },\n  3: {\n    type: 3,\n    url: 'search_methods'\n  },\n  4: {\n    type: 4,\n    url: 'search_subcategory'\n  },\n  5: {\n    type: 5,\n    url: 'search_test_methods'\n  }\n};\n\n// function to call get the products from api\nasync function searchFunction(type, value) {\n  let data = {};\n  try {\n    type = Number(type);\n    if (type === 1) {\n      // get the products\n      let products = await axios.get(`${process.env.REACT_APP_API_URL}${SearchObj[2].url}`, {\n        params: {\n          search: value\n        }\n      }).then(response => {\n        var _response$data;\n        return response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.data;\n      });\n      // get the methods\n      let test_standard = await axios.get(`${process.env.REACT_APP_API_URL}${SearchObj[3].url}`, {\n        params: {\n          search: value\n        }\n      }).then(response => {\n        var _response$data2;\n        return response === null || response === void 0 ? void 0 : (_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.data;\n      });\n      // get the subcategories\n      let subcategory = await axios.get(`${process.env.REACT_APP_API_URL}${SearchObj[4].url}`, {\n        params: {\n          search: value\n        }\n      }).then(response => {\n        var _response$data3;\n        return response === null || response === void 0 ? void 0 : (_response$data3 = response.data) === null || _response$data3 === void 0 ? void 0 : _response$data3.data;\n      });\n      let methods = await axios.get(`${process.env.REACT_APP_API_URL}${SearchObj[5].url}`, {\n        params: {\n          search: value\n        }\n      }).then(response => {\n        var _response$data4;\n        return response === null || response === void 0 ? void 0 : (_response$data4 = response.data) === null || _response$data4 === void 0 ? void 0 : _response$data4.data;\n      });\n\n      // merge the data\n      data = {\n        products,\n        test_standard,\n        subcategory,\n        methods\n      };\n    } else {\n      data = await axios.get(`${process.env.REACT_APP_API_URL}${SearchObj[type].url}`, {\n        params: {\n          search: value\n        }\n      }).then(response => {\n        var _response$data5;\n        return response === null || response === void 0 ? void 0 : (_response$data5 = response.data) === null || _response$data5 === void 0 ? void 0 : _response$data5.data;\n      });\n    }\n  } catch (error) {\n    console.error(\"Error fetching data:\", error);\n  }\n  return data;\n}\n\n// show the search result when user search for any product\nconst SearchPage = () => {\n  _s();\n  const [results, setResults] = useState(null);\n\n  // getting value from url\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const search = JSON.parse(searchParams.get('search'));\n\n  // useEffect to call the product api whenever search value from Url changes\n  useEffect(() => {\n    if (search.type && search.value) {\n      const fetchData = async () => {\n        const fetchedProducts = await searchFunction(search.type, search.value);\n        setResults(fetchedProducts);\n      };\n      fetchData();\n    }\n  }, [search.type, search.value]);\n  useEffect(() => {\n    console.log(results);\n  }, [results]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header3, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(PageBanner, {\n      bannerBg: bannerBg,\n      currentPage: \"Search\",\n      heading: \"Testfabric Search\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container d-flex flex-nowrap flex-column justify-content-center align-items-start py-5\",\n      style: {\n        minHeight: \"50vh\"\n      },\n      children: Number(search.type) === 1 ? /*#__PURE__*/_jsxDEV(AllSearchResult, {\n        searchResults: results,\n        search: search\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 25\n      }, this) : results && results.length > 0 ? results.map((data, index) => /*#__PURE__*/_jsxDEV(SearchResultCard, {\n        productId: data.product__ID,\n        thumbnail: data.product__ID,\n        defaultImg: process.env.REACT_APP_IMAGE_URL + 'images/product_testfabrics.jpg',\n        icon: /*#__PURE__*/_jsxDEV(FaDraftingCompass, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 39\n        }, this),\n        heading: data.product__Name,\n        text: data !== null && data !== void 0 && data.product__Description ? data.product__Description.slice(0, 95) + \"...\" : null,\n        subheading: data === null || data === void 0 ? void 0 : data.product__Number,\n        searchType: search.type\n      }, data.product__ID, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 29\n      }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"No data found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 23\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer3, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(SearchPage, \"SERhXLekMyqawN5zl9Pzt7h/+6M=\", false, function () {\n  return [useLocation];\n});\n_c = SearchPage;\nexport default SearchPage;\nvar _c;\n$RefreshReg$(_c, \"SearchPage\");","map":{"version":3,"names":["useEffect","useState","useLocation","axios","Footer3","Header3","PageBanner","bannerBg","FaDraftingCompass","SearchResultCard","AllSearchResult","jsxDEV","_jsxDEV","Fragment","_Fragment","SearchObj","type","url","searchFunction","value","data","Number","products","get","process","env","REACT_APP_API_URL","params","search","then","response","_response$data","test_standard","_response$data2","subcategory","_response$data3","methods","_response$data4","_response$data5","error","console","SearchPage","_s","results","setResults","location","searchParams","URLSearchParams","JSON","parse","fetchData","fetchedProducts","log","children","fileName","_jsxFileName","lineNumber","columnNumber","currentPage","heading","className","style","minHeight","searchResults","length","map","index","productId","product__ID","thumbnail","defaultImg","REACT_APP_IMAGE_URL","icon","product__Name","text","product__Description","slice","subheading","product__Number","searchType","_c","$RefreshReg$"],"sources":["E:/tog_workspace/TestFabric_main/TestFabric-main/src/components/ServiceDetails/SearchPage.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom/';\nimport axios from 'axios';\n\nimport Footer3 from '../Footer3';\nimport Header3 from '../Header3';\nimport PageBanner from '../PageBanner';\nimport bannerBg from '../../assets/img/page-banner.jpg';\nimport { FaDraftingCompass } from 'react-icons/fa';\n// import AllSearch from '../SearchService/allSearch';\nimport SearchResultCard from '../SearchService/SearchResultCard';\nimport AllSearchResult from '../SearchService/AllSearchResult';\nimport \"../SearchService/SearchService.css\";\n\n\nconst SearchObj = {\n    1: {\n        type: 1,\n        url: 'search all other ',\n    },\n    2: {\n        type: 2,\n        url: 'search_products',\n    },\n    3: {\n        type: 3,\n        url: 'search_methods',\n    },\n    4: {\n        type: 4,\n        url: 'search_subcategory',\n    },\n    5: {\n        type: 5,\n        url: 'search_test_methods',\n    },\n}\n\n\n// function to call get the products from api\nasync function  searchFunction(type, value) {\n    let data = {};\n  \n    try {\n        type = Number(type);\n        if(type === 1){\n            // get the products\n            let products = await axios.get(`${process.env.REACT_APP_API_URL}${SearchObj[2].url}`, {\n              params: { search: value },\n            }).then((response) => response?.data?.data);\n            // get the methods\n            let test_standard = await axios.get(`${process.env.REACT_APP_API_URL}${SearchObj[3].url}`, {\n                params: { search: value },\n            }).then((response) => response?.data?.data);\n            // get the subcategories\n            let subcategory = await axios.get(`${process.env.REACT_APP_API_URL}${SearchObj[4].url}`, {\n                params: { search: value },\n            }).then((response) => response?.data?.data);\n            let methods = await axios.get(`${process.env.REACT_APP_API_URL}${SearchObj[5].url}`, {\n                params: { search: value },\n            }).then((response) => response?.data?.data);\n\n            // merge the data\n            data = {products, test_standard, subcategory,methods};\n\n        }\n        else {\n            data = await axios.get(`${process.env.REACT_APP_API_URL}${SearchObj[type].url}`, {\n              params: { search: value },\n            }).then((response) => response?.data?.data);\n        }\n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n    }\n  \n    return data;\n  }\n  \n// show the search result when user search for any product\nconst SearchPage = () => {\n    \n    const [results,setResults] =  useState(null);\n\n    // getting value from url\n    const location = useLocation();\n    const searchParams = new URLSearchParams(location.search);\n    const search = JSON.parse(searchParams.get('search'));\n\n    \n    // useEffect to call the product api whenever search value from Url changes\n    useEffect(() => {\n        if (search.type && search.value) {\n            const fetchData = async () => {\n                const fetchedProducts = await searchFunction(search.type, search.value);\n                setResults(fetchedProducts);\n            };\n            fetchData();\n        }\n    }, [search.type, search.value]);\n\n    useEffect(()=>{\n        console.log(results);\n    },[results])\n\n\n    return(\n        <>\n            <Header3/>\n            <PageBanner bannerBg={bannerBg} currentPage=\"Search\" heading=\"Testfabric Search\" />\n\n            <div className='container d-flex flex-nowrap flex-column justify-content-center align-items-start py-5' style={{minHeight:\"50vh\"}}>\n                {\n                    Number(search.type) === 1 ?\n                        <AllSearchResult searchResults={results} search={search} />\n                    : results && results.length > 0 ?\n                        results.map((data, index) => (\n                            <SearchResultCard\n                                key={data.product__ID}\n                                productId={data.product__ID}\n                                thumbnail={data.product__ID}\n                                defaultImg={process.env.REACT_APP_IMAGE_URL + 'images/product_testfabrics.jpg'}\n                                icon={<FaDraftingCompass />}\n                                heading={data.product__Name}\n                                text={data?.product__Description ? data.product__Description.slice(0, 95) + \"...\" : null}\n                                subheading={data?.product__Number}\n                                searchType={search.type}\n                            /> \n                        ))\n                    : <div>No data found</div>\n                }\n            </div>\n \n            <Footer3/>\n        </>\n    );\n}\n\n\nexport default SearchPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}