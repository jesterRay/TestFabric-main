{"ast":null,"code":"import _objectSpread from\"E:/tog_workspace/TestFabric_main/TestFabric-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import axios from'axios';import'./CarrerCard.css';import{useHistory}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function CarrerCard(){const[data,setData]=useState([]);const[isLoading,setIsLoading]=useState(true);const[error,setError]=useState(null);const[expanded,setExpanded]=useState({});// Track which descriptions are expanded\nconst history=useHistory();// Fetch the careers data from the API\nuseEffect(()=>{const fetchData=async()=>{try{const response=await axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"careers\"));if(response.data.success){setData(response.data.data);}else{setError('Failed to fetch data');}}catch(error){setError('An error occurred while fetching data');}finally{setIsLoading(false);}};fetchData();},[]);// Toggle the expanded state for a specific career description\nconst toggleExpanded=id=>{setExpanded(prevState=>_objectSpread(_objectSpread({},prevState),{},{[id]:!prevState[id]}));};const handleNavigation=career=>{history.push({pathname:'/career-detail',state:{career}});};if(isLoading)return/*#__PURE__*/_jsx(\"div\",{});if(error)return/*#__PURE__*/_jsxs(\"div\",{children:[\"Error: \",error]});return/*#__PURE__*/_jsx(\"section\",{className:\"career-section section-padding\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"section-title text-left\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Careers\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Career Insights\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"career-cards-wrapper\",children:data.map(career=>/*#__PURE__*/_jsxs(\"div\",{onClick:()=>handleNavigation(career),className:\"career-card\",style:{cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"img\",{src:career.career_image,alt:career.career__Name,className:\"career-card-image\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"career-card-content\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"career-card-title\",children:career.career__Name}),/*#__PURE__*/_jsx(\"h3\",{className:\"career-card-abbreviation\",children:career.career__Abbriviation}),/*#__PURE__*/_jsxs(\"p\",{className:\"career-card-description\",children:[expanded[career.career__ID]?career.career__Description:\"\".concat(career.career__Description.slice(0,150),\"... \"),/*#__PURE__*/_jsx(\"span\",{className:\"read-more\",onClick:()=>toggleExpanded(career.career__ID),children:expanded[career.career__ID]?' Show Less':' more'})]})]})]},career.career__ID))})]})});}export default CarrerCard;","map":{"version":3,"names":["React","useEffect","useState","axios","useHistory","jsx","_jsx","jsxs","_jsxs","CarrerCard","data","setData","isLoading","setIsLoading","error","setError","expanded","setExpanded","history","fetchData","response","get","concat","process","env","REACT_APP_API_URL","success","toggleExpanded","id","prevState","_objectSpread","handleNavigation","career","push","pathname","state","children","className","map","onClick","style","cursor","src","career_image","alt","career__Name","career__Abbriviation","career__ID","career__Description","slice"],"sources":["E:/tog_workspace/TestFabric_main/TestFabric-main/src/components/Card/CarrerCard.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport './CarrerCard.css'\nimport { useHistory } from 'react-router-dom';\n\nfunction CarrerCard() {\n    \n    const [data, setData] = useState([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const [error, setError] = useState(null);\n    const [expanded, setExpanded] = useState({}); // Track which descriptions are expanded\n    const history = useHistory();\n    // Fetch the careers data from the API\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                const response = await axios.get(`${process.env.REACT_APP_API_URL}careers`);\n                if (response.data.success) {\n                    setData(response.data.data);\n                } else {\n                    setError('Failed to fetch data');\n                }\n            } catch (error) {\n                setError('An error occurred while fetching data');\n            } finally {\n                setIsLoading(false);\n            }\n        };\n\n        fetchData();\n    }, []);\n\n\n    // Toggle the expanded state for a specific career description\n    const toggleExpanded = (id) => {\n        setExpanded((prevState) => ({\n            ...prevState,\n            [id]: !prevState[id],\n        }));\n    };\n\n    const handleNavigation = (career) => {\n        history.push({ \n            pathname: '/career-detail',\n            state: {career}\n        });\n    }\n\n    if (isLoading) return <div></div>;\n    if (error) return <div>Error: {error}</div>;\n\n    return (\n        <section className=\"career-section section-padding\">\n            <div className=\"container\">\n                <div className=\"row\">\n                    <div className=\"col-12\">\n                        <div className=\"section-title text-left\">\n                            <span>Careers</span>\n                            \n                            <h1>Career Insights</h1>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Full Width Horizontal Career Cards */}\n                <div className=\"career-cards-wrapper\">\n                    {data.map((career) => (\n                        <div key={career.career__ID} onClick={() => handleNavigation(career)} \n                            className=\"career-card\" style={{cursor: 'pointer'}}>\n                            <img \n                                src={career.career_image} \n                                alt={career.career__Name} \n                                className=\"career-card-image\" \n                            />\n                            <div className=\"career-card-content\">\n                                <h2 className=\"career-card-title\">{career.career__Name}</h2>\n                                <h3 className=\"career-card-abbreviation\">{career.career__Abbriviation}</h3>\n                                <p className=\"career-card-description\">\n                                    {expanded[career.career__ID]\n                                        ? career.career__Description\n                                        : `${career.career__Description.slice(0, 150)}... `}\n                                    <span \n                                        className=\"read-more\" \n                                        onClick={() => toggleExpanded(career.career__ID)}\n                                    >\n                                        {expanded[career.career__ID] ? ' Show Less' : ' more'}\n                                    </span>\n                                </p>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            </div>\n        </section>\n    );\n}\n\nexport default CarrerCard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}