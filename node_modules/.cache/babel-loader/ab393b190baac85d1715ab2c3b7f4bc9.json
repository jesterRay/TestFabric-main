{"ast":null,"code":"'use strict';\n\nvar Lib = require('../../lib');\nvar handleGroupingDefaults = require('../scatter/grouping_defaults');\nvar handleText = require('../bar/defaults').handleText;\nvar handleXYDefaults = require('../scatter/xy_defaults');\nvar handlePeriodDefaults = require('../scatter/period_defaults');\nvar attributes = require('./attributes');\nvar Color = require('../../components/color');\nvar delta = require('../../constants/delta.js');\nvar INCREASING_COLOR = delta.INCREASING.COLOR;\nvar DECREASING_COLOR = delta.DECREASING.COLOR;\nvar TOTALS_COLOR = '#4499FF';\nfunction handleDirection(coerce, direction, defaultColor) {\n  coerce(direction + '.marker.color', defaultColor);\n  coerce(direction + '.marker.line.color', Color.defaultLine);\n  coerce(direction + '.marker.line.width');\n}\nfunction supplyDefaults(traceIn, traceOut, defaultColor, layout) {\n  function coerce(attr, dflt) {\n    return Lib.coerce(traceIn, traceOut, attributes, attr, dflt);\n  }\n  var len = handleXYDefaults(traceIn, traceOut, layout, coerce);\n  if (!len) {\n    traceOut.visible = false;\n    return;\n  }\n  handlePeriodDefaults(traceIn, traceOut, layout, coerce);\n  coerce('xhoverformat');\n  coerce('yhoverformat');\n  coerce('measure');\n  coerce('orientation', traceOut.x && !traceOut.y ? 'h' : 'v');\n  coerce('base');\n  coerce('offset');\n  coerce('width');\n  coerce('text');\n  coerce('hovertext');\n  coerce('hovertemplate');\n  var textposition = coerce('textposition');\n  handleText(traceIn, traceOut, layout, coerce, textposition, {\n    moduleHasSelected: false,\n    moduleHasUnselected: false,\n    moduleHasConstrain: true,\n    moduleHasCliponaxis: true,\n    moduleHasTextangle: true,\n    moduleHasInsideanchor: true\n  });\n  if (traceOut.textposition !== 'none') {\n    coerce('texttemplate');\n    if (!traceOut.texttemplate) coerce('textinfo');\n  }\n  handleDirection(coerce, 'increasing', INCREASING_COLOR);\n  handleDirection(coerce, 'decreasing', DECREASING_COLOR);\n  handleDirection(coerce, 'totals', TOTALS_COLOR);\n  var connectorVisible = coerce('connector.visible');\n  if (connectorVisible) {\n    coerce('connector.mode');\n    var connectorLineWidth = coerce('connector.line.width');\n    if (connectorLineWidth) {\n      coerce('connector.line.color');\n      coerce('connector.line.dash');\n    }\n  }\n  coerce('zorder');\n}\nfunction crossTraceDefaults(fullData, fullLayout) {\n  var traceIn, traceOut;\n  function coerce(attr) {\n    return Lib.coerce(traceOut._input, traceOut, attributes, attr);\n  }\n  if (fullLayout.waterfallmode === 'group') {\n    for (var i = 0; i < fullData.length; i++) {\n      traceOut = fullData[i];\n      traceIn = traceOut._input;\n      handleGroupingDefaults(traceIn, traceOut, fullLayout, coerce);\n    }\n  }\n}\nmodule.exports = {\n  supplyDefaults: supplyDefaults,\n  crossTraceDefaults: crossTraceDefaults\n};","map":{"version":3,"names":["Lib","require","handleGroupingDefaults","handleText","handleXYDefaults","handlePeriodDefaults","attributes","Color","delta","INCREASING_COLOR","INCREASING","COLOR","DECREASING_COLOR","DECREASING","TOTALS_COLOR","handleDirection","coerce","direction","defaultColor","defaultLine","supplyDefaults","traceIn","traceOut","layout","attr","dflt","len","visible","x","y","textposition","moduleHasSelected","moduleHasUnselected","moduleHasConstrain","moduleHasCliponaxis","moduleHasTextangle","moduleHasInsideanchor","texttemplate","connectorVisible","connectorLineWidth","crossTraceDefaults","fullData","fullLayout","_input","waterfallmode","i","length","module","exports"],"sources":["E:/tog_workspace/TestFabric_main/TestFabric-main/node_modules/plotly.js/src/traces/waterfall/defaults.js"],"sourcesContent":["'use strict';\n\nvar Lib = require('../../lib');\n\nvar handleGroupingDefaults = require('../scatter/grouping_defaults');\nvar handleText = require('../bar/defaults').handleText;\nvar handleXYDefaults = require('../scatter/xy_defaults');\nvar handlePeriodDefaults = require('../scatter/period_defaults');\nvar attributes = require('./attributes');\nvar Color = require('../../components/color');\nvar delta = require('../../constants/delta.js');\n\nvar INCREASING_COLOR = delta.INCREASING.COLOR;\nvar DECREASING_COLOR = delta.DECREASING.COLOR;\nvar TOTALS_COLOR = '#4499FF';\n\nfunction handleDirection(coerce, direction, defaultColor) {\n    coerce(direction + '.marker.color', defaultColor);\n    coerce(direction + '.marker.line.color', Color.defaultLine);\n    coerce(direction + '.marker.line.width');\n}\n\nfunction supplyDefaults(traceIn, traceOut, defaultColor, layout) {\n    function coerce(attr, dflt) {\n        return Lib.coerce(traceIn, traceOut, attributes, attr, dflt);\n    }\n\n    var len = handleXYDefaults(traceIn, traceOut, layout, coerce);\n    if(!len) {\n        traceOut.visible = false;\n        return;\n    }\n\n    handlePeriodDefaults(traceIn, traceOut, layout, coerce);\n    coerce('xhoverformat');\n    coerce('yhoverformat');\n\n    coerce('measure');\n\n    coerce('orientation', (traceOut.x && !traceOut.y) ? 'h' : 'v');\n    coerce('base');\n    coerce('offset');\n    coerce('width');\n\n    coerce('text');\n\n    coerce('hovertext');\n    coerce('hovertemplate');\n\n    var textposition = coerce('textposition');\n    handleText(traceIn, traceOut, layout, coerce, textposition, {\n        moduleHasSelected: false,\n        moduleHasUnselected: false,\n        moduleHasConstrain: true,\n        moduleHasCliponaxis: true,\n        moduleHasTextangle: true,\n        moduleHasInsideanchor: true\n    });\n\n\n    if(traceOut.textposition !== 'none') {\n        coerce('texttemplate');\n        if(!traceOut.texttemplate) coerce('textinfo');\n    }\n\n    handleDirection(coerce, 'increasing', INCREASING_COLOR);\n    handleDirection(coerce, 'decreasing', DECREASING_COLOR);\n    handleDirection(coerce, 'totals', TOTALS_COLOR);\n\n    var connectorVisible = coerce('connector.visible');\n    if(connectorVisible) {\n        coerce('connector.mode');\n        var connectorLineWidth = coerce('connector.line.width');\n        if(connectorLineWidth) {\n            coerce('connector.line.color');\n            coerce('connector.line.dash');\n        }\n    }\n    coerce('zorder');\n}\n\nfunction crossTraceDefaults(fullData, fullLayout) {\n    var traceIn, traceOut;\n\n    function coerce(attr) {\n        return Lib.coerce(traceOut._input, traceOut, attributes, attr);\n    }\n\n    if(fullLayout.waterfallmode === 'group') {\n        for(var i = 0; i < fullData.length; i++) {\n            traceOut = fullData[i];\n            traceIn = traceOut._input;\n\n            handleGroupingDefaults(traceIn, traceOut, fullLayout, coerce);\n        }\n    }\n}\n\nmodule.exports = {\n    supplyDefaults: supplyDefaults,\n    crossTraceDefaults: crossTraceDefaults\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}