{"ast":null,"code":"import React,{useContext}from'react';import{FaDraftingCompass}from'react-icons/fa';import ServicesTwoCard from'./SevicesTwoCard';import{UserContext}from'../../App';import{useApi}from'../../middleware/middleware';import{useHistory,useLocation}from'react-router-dom';import{extractIdFromUrlPath}from'../../helpers/concatUrlPath';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Services8(){const{values}=useContext(UserContext);const location=useLocation();const history=useHistory();// Retrieve categoryId and sucategoryId from context or localStorage\nconst categoryId=(values===null||values===void 0?void 0:values.categoryId)||localStorage.getItem('categoryId');let sucategoryId=extractIdFromUrlPath(location.pathname||'');//incase subcategory is not in url \nif(!sucategoryId)sucategoryId=(values===null||values===void 0?void 0:values.sucategoryId)||localStorage.getItem('sucategoryId');//either subcategory or category id is no available\nif(!sucategoryId||!categoryId)history.goBack();const{data,error,isLoading}=useApi('testfabrics_standard_products_by_subcategory',{methods:sucategoryId,standards:categoryId});return/*#__PURE__*/_jsx(\"section\",{className:\"our-service-wrapper section-padding mtm-30\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[(data===null||data===void 0?void 0:data.length)===0&&/*#__PURE__*/_jsx(\"h4\",{children:\"No Products Found\"}),data===null||data===void 0?void 0:data.map((data,index)=>{var _data$product__Descri;return/*#__PURE__*/_jsx(ServicesTwoCard,{productId:data.product__ID,thumbnail:data.product__ID,defaultImg:process.env.REACT_APP_IMAGE_URL+'images/product_testfabrics.jpg',icon:/*#__PURE__*/_jsx(FaDraftingCompass,{}),heading:\"\".concat(index+1,\". \").concat(data.product__Name),text:(data===null||data===void 0?void 0:(_data$product__Descri=data.product__Description)===null||_data$product__Descri===void 0?void 0:_data$product__Descri.slice(0,95))+\"...\",subheading:data===null||data===void 0?void 0:data.product__Number},data.product__ID);})]})})});}export default Services8;","map":{"version":3,"names":["React","useContext","FaDraftingCompass","ServicesTwoCard","UserContext","useApi","useHistory","useLocation","extractIdFromUrlPath","jsx","_jsx","jsxs","_jsxs","Services8","values","location","history","categoryId","localStorage","getItem","sucategoryId","pathname","goBack","data","error","isLoading","methods","standards","className","children","length","map","index","_data$product__Descri","productId","product__ID","thumbnail","defaultImg","process","env","REACT_APP_IMAGE_URL","icon","heading","concat","product__Name","text","product__Description","slice","subheading","product__Number"],"sources":["E:/tog_workspace/TestFabric_main/TestFabric-main/src/components/Services8/index.jsx"],"sourcesContent":["import React, {  useContext } from 'react';\nimport { FaDraftingCompass } from 'react-icons/fa';\nimport ServicesTwoCard from './SevicesTwoCard';\nimport { UserContext } from '../../App';\nimport { useApi } from '../../middleware/middleware';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { extractIdFromUrlPath } from '../../helpers/concatUrlPath';\nfunction Services8() {\n    const { values } = useContext(UserContext);\n    const location = useLocation();\n    const history = useHistory();\n    \n    // Retrieve categoryId and sucategoryId from context or localStorage\n    const categoryId = values?.categoryId || localStorage.getItem('categoryId');\n    let sucategoryId = extractIdFromUrlPath(location.pathname || '');\n    \n    //incase subcategory is not in url \n    if(!sucategoryId)\n        sucategoryId = values?.sucategoryId || localStorage.getItem('sucategoryId');\n    \n    //either subcategory or category id is no available\n    if(!sucategoryId || !categoryId) history.goBack();\n\n    const { data, error, isLoading } = useApi('testfabrics_standard_products_by_subcategory', {\n        methods: sucategoryId,\n        standards: categoryId\n    });\n\n    return (\n        <section className=\"our-service-wrapper section-padding mtm-30\">\n            <div className=\"container\">\n                <div className=\"row\">\n                    {data?.length === 0 && <h4>No Products Found</h4>}\n                    {data?.map((data, index) => (\n                        <ServicesTwoCard\n                            key={data.product__ID}\n                            productId={data.product__ID}\n                            thumbnail={data.product__ID}\n                            defaultImg={process.env.REACT_APP_IMAGE_URL + 'images/product_testfabrics.jpg'}\n                            icon={<FaDraftingCompass />}\n                            heading={`${index + 1}. ${data.product__Name}`}\n                            text={data?.product__Description?.slice(0, 95) + \"...\"}\n                            subheading={data?.product__Number}\n                        />\n                    ))}\n                </div>\n            </div>\n        </section>\n    );\n}\n\nexport default Services8;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAKC,UAAU,KAAQ,OAAO,CAC1C,OAASC,iBAAiB,KAAQ,gBAAgB,CAClD,MAAO,CAAAC,eAAe,KAAM,kBAAkB,CAC9C,OAASC,WAAW,KAAQ,WAAW,CACvC,OAASC,MAAM,KAAQ,6BAA6B,CACpD,OAASC,UAAU,CAAEC,WAAW,KAAQ,kBAAkB,CAC1D,OAASC,oBAAoB,KAAQ,6BAA6B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACnE,QAAS,CAAAC,SAASA,CAAA,CAAG,CACjB,KAAM,CAAEC,MAAO,CAAC,CAAGb,UAAU,CAACG,WAAW,CAAC,CAC1C,KAAM,CAAAW,QAAQ,CAAGR,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAS,OAAO,CAAGV,UAAU,CAAC,CAAC,CAE5B;AACA,KAAM,CAAAW,UAAU,CAAG,CAAAH,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEG,UAAU,GAAIC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,CAC3E,GAAI,CAAAC,YAAY,CAAGZ,oBAAoB,CAACO,QAAQ,CAACM,QAAQ,EAAI,EAAE,CAAC,CAEhE;AACA,GAAG,CAACD,YAAY,CACZA,YAAY,CAAG,CAAAN,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEM,YAAY,GAAIF,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,CAE/E;AACA,GAAG,CAACC,YAAY,EAAI,CAACH,UAAU,CAAED,OAAO,CAACM,MAAM,CAAC,CAAC,CAEjD,KAAM,CAAEC,IAAI,CAAEC,KAAK,CAAEC,SAAU,CAAC,CAAGpB,MAAM,CAAC,8CAA8C,CAAE,CACtFqB,OAAO,CAAEN,YAAY,CACrBO,SAAS,CAAEV,UACf,CAAC,CAAC,CAEF,mBACIP,IAAA,YAASkB,SAAS,CAAC,4CAA4C,CAAAC,QAAA,cAC3DnB,IAAA,QAAKkB,SAAS,CAAC,WAAW,CAAAC,QAAA,cACtBjB,KAAA,QAAKgB,SAAS,CAAC,KAAK,CAAAC,QAAA,EACf,CAAAN,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEO,MAAM,IAAK,CAAC,eAAIpB,IAAA,OAAAmB,QAAA,CAAI,mBAAiB,CAAI,CAAC,CAChDN,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEQ,GAAG,CAAC,CAACR,IAAI,CAAES,KAAK,QAAAC,qBAAA,oBACnBvB,IAAA,CAACP,eAAe,EAEZ+B,SAAS,CAAEX,IAAI,CAACY,WAAY,CAC5BC,SAAS,CAAEb,IAAI,CAACY,WAAY,CAC5BE,UAAU,CAAEC,OAAO,CAACC,GAAG,CAACC,mBAAmB,CAAG,gCAAiC,CAC/EC,IAAI,cAAE/B,IAAA,CAACR,iBAAiB,GAAE,CAAE,CAC5BwC,OAAO,IAAAC,MAAA,CAAKX,KAAK,CAAG,CAAC,OAAAW,MAAA,CAAKpB,IAAI,CAACqB,aAAa,CAAG,CAC/CC,IAAI,CAAE,CAAAtB,IAAI,SAAJA,IAAI,kBAAAU,qBAAA,CAAJV,IAAI,CAAEuB,oBAAoB,UAAAb,qBAAA,iBAA1BA,qBAAA,CAA4Bc,KAAK,CAAC,CAAC,CAAE,EAAE,CAAC,EAAG,KAAM,CACvDC,UAAU,CAAEzB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE0B,eAAgB,EAP7B1B,IAAI,CAACY,WAQb,CAAC,EACL,CAAC,EACD,CAAC,CACL,CAAC,CACD,CAAC,CAElB,CAEA,cAAe,CAAAtB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module"}