{"ast":null,"code":"'use strict';\n\nvar Lib = require('../../lib');\nvar attributes = require('./attributes');\nvar constants = require('./constants');\nvar dataUri = require('../../snapshot/helpers').IMAGE_URL_PREFIX;\nmodule.exports = function supplyDefaults(traceIn, traceOut) {\n  function coerce(attr, dflt) {\n    return Lib.coerce(traceIn, traceOut, attributes, attr, dflt);\n  }\n  coerce('source');\n  // sanitize source to only allow for data URI representing images\n  if (traceOut.source && !traceOut.source.match(dataUri)) delete traceOut.source;\n  traceOut._hasSource = !!traceOut.source;\n  var z = coerce('z');\n  traceOut._hasZ = !(z === undefined || !z.length || !z[0] || !z[0].length);\n  if (!traceOut._hasZ && !traceOut._hasSource) {\n    traceOut.visible = false;\n    return;\n  }\n  coerce('x0');\n  coerce('y0');\n  coerce('dx');\n  coerce('dy');\n  var cm;\n  if (traceOut._hasZ) {\n    coerce('colormodel', 'rgb');\n    cm = constants.colormodel[traceOut.colormodel];\n    coerce('zmin', cm.zminDflt || cm.min);\n    coerce('zmax', cm.zmaxDflt || cm.max);\n  } else if (traceOut._hasSource) {\n    traceOut.colormodel = 'rgba256';\n    cm = constants.colormodel[traceOut.colormodel];\n    traceOut.zmin = cm.zminDflt;\n    traceOut.zmax = cm.zmaxDflt;\n  }\n  coerce('zsmooth');\n  coerce('text');\n  coerce('hovertext');\n  coerce('hovertemplate');\n  traceOut._length = null;\n  coerce('zorder');\n};","map":{"version":3,"names":["Lib","require","attributes","constants","dataUri","IMAGE_URL_PREFIX","module","exports","supplyDefaults","traceIn","traceOut","coerce","attr","dflt","source","match","_hasSource","z","_hasZ","undefined","length","visible","cm","colormodel","zminDflt","min","zmaxDflt","max","zmin","zmax","_length"],"sources":["E:/tog_workspace/TestFabric_main/TestFabric-main/node_modules/plotly.js/src/traces/image/defaults.js"],"sourcesContent":["'use strict';\n\nvar Lib = require('../../lib');\nvar attributes = require('./attributes');\nvar constants = require('./constants');\nvar dataUri = require('../../snapshot/helpers').IMAGE_URL_PREFIX;\n\nmodule.exports = function supplyDefaults(traceIn, traceOut) {\n    function coerce(attr, dflt) {\n        return Lib.coerce(traceIn, traceOut, attributes, attr, dflt);\n    }\n    coerce('source');\n    // sanitize source to only allow for data URI representing images\n    if(traceOut.source && !traceOut.source.match(dataUri)) delete traceOut.source;\n    traceOut._hasSource = !!traceOut.source;\n\n    var z = coerce('z');\n    traceOut._hasZ = !(z === undefined || !z.length || !z[0] || !z[0].length);\n    if(!traceOut._hasZ && !traceOut._hasSource) {\n        traceOut.visible = false;\n        return;\n    }\n\n    coerce('x0');\n    coerce('y0');\n    coerce('dx');\n    coerce('dy');\n\n    var cm;\n    if(traceOut._hasZ) {\n        coerce('colormodel', 'rgb');\n        cm = constants.colormodel[traceOut.colormodel];\n        coerce('zmin', (cm.zminDflt || cm.min));\n        coerce('zmax', (cm.zmaxDflt || cm.max));\n    } else if(traceOut._hasSource) {\n        traceOut.colormodel = 'rgba256';\n        cm = constants.colormodel[traceOut.colormodel];\n        traceOut.zmin = cm.zminDflt;\n        traceOut.zmax = cm.zmaxDflt;\n    }\n\n    coerce('zsmooth');\n    coerce('text');\n    coerce('hovertext');\n    coerce('hovertemplate');\n\n    traceOut._length = null;\n\n    coerce('zorder');\n};\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,GAAG,GAAGC,OAAO,CAAC,WAAW,CAAC;AAC9B,IAAIC,UAAU,GAAGD,OAAO,CAAC,cAAc,CAAC;AACxC,IAAIE,SAAS,GAAGF,OAAO,CAAC,aAAa,CAAC;AACtC,IAAIG,OAAO,GAAGH,OAAO,CAAC,wBAAwB,CAAC,CAACI,gBAAgB;AAEhEC,MAAM,CAACC,OAAO,GAAG,SAASC,cAAcA,CAACC,OAAO,EAAEC,QAAQ,EAAE;EACxD,SAASC,MAAMA,CAACC,IAAI,EAAEC,IAAI,EAAE;IACxB,OAAOb,GAAG,CAACW,MAAM,CAACF,OAAO,EAAEC,QAAQ,EAAER,UAAU,EAAEU,IAAI,EAAEC,IAAI,CAAC;EAChE;EACAF,MAAM,CAAC,QAAQ,CAAC;EAChB;EACA,IAAGD,QAAQ,CAACI,MAAM,IAAI,CAACJ,QAAQ,CAACI,MAAM,CAACC,KAAK,CAACX,OAAO,CAAC,EAAE,OAAOM,QAAQ,CAACI,MAAM;EAC7EJ,QAAQ,CAACM,UAAU,GAAG,CAAC,CAACN,QAAQ,CAACI,MAAM;EAEvC,IAAIG,CAAC,GAAGN,MAAM,CAAC,GAAG,CAAC;EACnBD,QAAQ,CAACQ,KAAK,GAAG,EAAED,CAAC,KAAKE,SAAS,IAAI,CAACF,CAAC,CAACG,MAAM,IAAI,CAACH,CAAC,CAAC,CAAC,CAAC,IAAI,CAACA,CAAC,CAAC,CAAC,CAAC,CAACG,MAAM,CAAC;EACzE,IAAG,CAACV,QAAQ,CAACQ,KAAK,IAAI,CAACR,QAAQ,CAACM,UAAU,EAAE;IACxCN,QAAQ,CAACW,OAAO,GAAG,KAAK;IACxB;EACJ;EAEAV,MAAM,CAAC,IAAI,CAAC;EACZA,MAAM,CAAC,IAAI,CAAC;EACZA,MAAM,CAAC,IAAI,CAAC;EACZA,MAAM,CAAC,IAAI,CAAC;EAEZ,IAAIW,EAAE;EACN,IAAGZ,QAAQ,CAACQ,KAAK,EAAE;IACfP,MAAM,CAAC,YAAY,EAAE,KAAK,CAAC;IAC3BW,EAAE,GAAGnB,SAAS,CAACoB,UAAU,CAACb,QAAQ,CAACa,UAAU,CAAC;IAC9CZ,MAAM,CAAC,MAAM,EAAGW,EAAE,CAACE,QAAQ,IAAIF,EAAE,CAACG,GAAI,CAAC;IACvCd,MAAM,CAAC,MAAM,EAAGW,EAAE,CAACI,QAAQ,IAAIJ,EAAE,CAACK,GAAI,CAAC;EAC3C,CAAC,MAAM,IAAGjB,QAAQ,CAACM,UAAU,EAAE;IAC3BN,QAAQ,CAACa,UAAU,GAAG,SAAS;IAC/BD,EAAE,GAAGnB,SAAS,CAACoB,UAAU,CAACb,QAAQ,CAACa,UAAU,CAAC;IAC9Cb,QAAQ,CAACkB,IAAI,GAAGN,EAAE,CAACE,QAAQ;IAC3Bd,QAAQ,CAACmB,IAAI,GAAGP,EAAE,CAACI,QAAQ;EAC/B;EAEAf,MAAM,CAAC,SAAS,CAAC;EACjBA,MAAM,CAAC,MAAM,CAAC;EACdA,MAAM,CAAC,WAAW,CAAC;EACnBA,MAAM,CAAC,eAAe,CAAC;EAEvBD,QAAQ,CAACoB,OAAO,GAAG,IAAI;EAEvBnB,MAAM,CAAC,QAAQ,CAAC;AACpB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script"}