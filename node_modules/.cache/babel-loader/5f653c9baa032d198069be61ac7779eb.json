{"ast":null,"code":"'use strict';\n\nvar Ternary = require('./ternary');\nvar getSubplotCalcData = require('../../plots/get_data').getSubplotCalcData;\nvar counterRegex = require('../../lib').counterRegex;\nvar TERNARY = 'ternary';\nexports.name = TERNARY;\nvar attr = exports.attr = 'subplot';\nexports.idRoot = TERNARY;\nexports.idRegex = exports.attrRegex = counterRegex(TERNARY);\nvar attributes = exports.attributes = {};\nattributes[attr] = {\n  valType: 'subplotid',\n  dflt: 'ternary',\n  editType: 'calc',\n  description: ['Sets a reference between this trace\\'s data coordinates and', 'a ternary subplot.', 'If *ternary* (the default value), the data refer to `layout.ternary`.', 'If *ternary2*, the data refer to `layout.ternary2`, and so on.'].join(' ')\n};\nexports.layoutAttributes = require('./layout_attributes');\nexports.supplyLayoutDefaults = require('./layout_defaults');\nexports.plot = function plot(gd) {\n  var fullLayout = gd._fullLayout;\n  var calcData = gd.calcdata;\n  var ternaryIds = fullLayout._subplots[TERNARY];\n  for (var i = 0; i < ternaryIds.length; i++) {\n    var ternaryId = ternaryIds[i];\n    var ternaryCalcData = getSubplotCalcData(calcData, TERNARY, ternaryId);\n    var ternary = fullLayout[ternaryId]._subplot;\n\n    // If ternary is not instantiated, create one!\n    if (!ternary) {\n      ternary = new Ternary({\n        id: ternaryId,\n        graphDiv: gd,\n        container: fullLayout._ternarylayer.node()\n      }, fullLayout);\n      fullLayout[ternaryId]._subplot = ternary;\n    }\n    ternary.plot(ternaryCalcData, fullLayout, gd._promises);\n  }\n};\nexports.clean = function (newFullData, newFullLayout, oldFullData, oldFullLayout) {\n  var oldTernaryKeys = oldFullLayout._subplots[TERNARY] || [];\n  for (var i = 0; i < oldTernaryKeys.length; i++) {\n    var oldTernaryKey = oldTernaryKeys[i];\n    var oldTernary = oldFullLayout[oldTernaryKey]._subplot;\n    if (!newFullLayout[oldTernaryKey] && !!oldTernary) {\n      oldTernary.plotContainer.remove();\n      oldTernary.clipDef.remove();\n      oldTernary.clipDefRelative.remove();\n      oldTernary.layers['a-title'].remove();\n      oldTernary.layers['b-title'].remove();\n      oldTernary.layers['c-title'].remove();\n    }\n  }\n};\nexports.updateFx = function (gd) {\n  var fullLayout = gd._fullLayout;\n  fullLayout._ternarylayer.selectAll('g.toplevel').style('cursor', fullLayout.dragmode === 'pan' ? 'move' : 'crosshair');\n};","map":{"version":3,"names":["Ternary","require","getSubplotCalcData","counterRegex","TERNARY","exports","name","attr","idRoot","idRegex","attrRegex","attributes","valType","dflt","editType","description","join","layoutAttributes","supplyLayoutDefaults","plot","gd","fullLayout","_fullLayout","calcData","calcdata","ternaryIds","_subplots","i","length","ternaryId","ternaryCalcData","ternary","_subplot","id","graphDiv","container","_ternarylayer","node","_promises","clean","newFullData","newFullLayout","oldFullData","oldFullLayout","oldTernaryKeys","oldTernaryKey","oldTernary","plotContainer","remove","clipDef","clipDefRelative","layers","updateFx","selectAll","style","dragmode"],"sources":["E:/tog_workspace/TestFabric_main/TestFabric-main/node_modules/plotly.js/src/plots/ternary/index.js"],"sourcesContent":["'use strict';\n\nvar Ternary = require('./ternary');\n\nvar getSubplotCalcData = require('../../plots/get_data').getSubplotCalcData;\nvar counterRegex = require('../../lib').counterRegex;\nvar TERNARY = 'ternary';\n\nexports.name = TERNARY;\n\nvar attr = exports.attr = 'subplot';\n\nexports.idRoot = TERNARY;\n\nexports.idRegex = exports.attrRegex = counterRegex(TERNARY);\n\nvar attributes = exports.attributes = {};\nattributes[attr] = {\n    valType: 'subplotid',\n    dflt: 'ternary',\n    editType: 'calc',\n    description: [\n        'Sets a reference between this trace\\'s data coordinates and',\n        'a ternary subplot.',\n        'If *ternary* (the default value), the data refer to `layout.ternary`.',\n        'If *ternary2*, the data refer to `layout.ternary2`, and so on.'\n    ].join(' ')\n};\n\nexports.layoutAttributes = require('./layout_attributes');\n\nexports.supplyLayoutDefaults = require('./layout_defaults');\n\nexports.plot = function plot(gd) {\n    var fullLayout = gd._fullLayout;\n    var calcData = gd.calcdata;\n    var ternaryIds = fullLayout._subplots[TERNARY];\n\n    for(var i = 0; i < ternaryIds.length; i++) {\n        var ternaryId = ternaryIds[i];\n        var ternaryCalcData = getSubplotCalcData(calcData, TERNARY, ternaryId);\n        var ternary = fullLayout[ternaryId]._subplot;\n\n        // If ternary is not instantiated, create one!\n        if(!ternary) {\n            ternary = new Ternary({\n                id: ternaryId,\n                graphDiv: gd,\n                container: fullLayout._ternarylayer.node()\n            },\n                fullLayout\n            );\n\n            fullLayout[ternaryId]._subplot = ternary;\n        }\n\n        ternary.plot(ternaryCalcData, fullLayout, gd._promises);\n    }\n};\n\nexports.clean = function(newFullData, newFullLayout, oldFullData, oldFullLayout) {\n    var oldTernaryKeys = oldFullLayout._subplots[TERNARY] || [];\n\n    for(var i = 0; i < oldTernaryKeys.length; i++) {\n        var oldTernaryKey = oldTernaryKeys[i];\n        var oldTernary = oldFullLayout[oldTernaryKey]._subplot;\n\n        if(!newFullLayout[oldTernaryKey] && !!oldTernary) {\n            oldTernary.plotContainer.remove();\n            oldTernary.clipDef.remove();\n            oldTernary.clipDefRelative.remove();\n            oldTernary.layers['a-title'].remove();\n            oldTernary.layers['b-title'].remove();\n            oldTernary.layers['c-title'].remove();\n        }\n    }\n};\n\nexports.updateFx = function(gd) {\n    var fullLayout = gd._fullLayout;\n    fullLayout._ternarylayer\n        .selectAll('g.toplevel')\n        .style('cursor', fullLayout.dragmode === 'pan' ? 'move' : 'crosshair');\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}