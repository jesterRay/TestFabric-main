{"ast":null,"code":"import{useState,useEffect,useLayoutEffect}from'react';import{useHistory}from'react-router-dom';import axios from'axios';export function useApi(baseUrl,params){const history=useHistory();const[data,setData]=useState(null);const[error,setError]=useState(null);const[isLoading,setIsLoading]=useState(false);useLayoutEffect(()=>{setIsLoading(true);// console.log('Calling API:', baseUrl, params);\naxios.get(process.env.REACT_APP_API_URL+baseUrl,{params}).then(response=>{var _response$data;setData(response===null||response===void 0?void 0:(_response$data=response.data)===null||_response$data===void 0?void 0:_response$data.data);setIsLoading(false);// console.log('Calling Response Data:',baseUrl,\"_____\",response?.data?.data);\n}).catch(error=>{setError(error);// console.log('Calling Response Error:',baseUrl,\"_____\", error);\nsetIsLoading(false);// history.push('/')\n});return()=>{setData(null);setError(null);setIsLoading(false);};},[]);return{data,error,isLoading};}","map":{"version":3,"names":["useState","useEffect","useLayoutEffect","useHistory","axios","useApi","baseUrl","params","history","data","setData","error","setError","isLoading","setIsLoading","get","process","env","REACT_APP_API_URL","then","response","_response$data","catch"],"sources":["E:/tog_workspace/TestFabric_main/TestFabric-main/src/middleware/middleware.js"],"sourcesContent":["import { useState, useEffect, useLayoutEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\n\nexport function useApi(baseUrl, params) {\n    const history = useHistory()\n    const [data, setData] = useState(null);\n    const [error, setError] = useState(null);\n    const [isLoading, setIsLoading] = useState(false);\n\n    useLayoutEffect(() => {\n        setIsLoading(true);\n\n        // console.log('Calling API:', baseUrl, params);\n        axios\n            .get(process.env.REACT_APP_API_URL + baseUrl, { params })\n            .then(response => {\n                setData(response?.data?.data);\n                setIsLoading(false);\n                // console.log('Calling Response Data:',baseUrl,\"_____\",response?.data?.data);\n            })\n            .catch(error => {\n                setError(error);\n                // console.log('Calling Response Error:',baseUrl,\"_____\", error);\n                setIsLoading(false);\n                // history.push('/')\n            });\n            return(()=>{\n                setData(null)\n                setError(null)\n                setIsLoading(false)\n            })\n    }, []);\n\n    return { data, error, isLoading };\n}\n\n"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,CAAEC,eAAe,KAAQ,OAAO,CAC5D,OAASC,UAAU,KAAQ,kBAAkB,CAC7C,MAAO,CAAAC,KAAK,KAAM,OAAO,CAEzB,MAAO,SAAS,CAAAC,MAAMA,CAACC,OAAO,CAAEC,MAAM,CAAE,CACpC,KAAM,CAAAC,OAAO,CAAGL,UAAU,CAAC,CAAC,CAC5B,KAAM,CAACM,IAAI,CAAEC,OAAO,CAAC,CAAGV,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACW,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACa,SAAS,CAAEC,YAAY,CAAC,CAAGd,QAAQ,CAAC,KAAK,CAAC,CAEjDE,eAAe,CAAC,IAAM,CAClBY,YAAY,CAAC,IAAI,CAAC,CAElB;AACAV,KAAK,CACAW,GAAG,CAACC,OAAO,CAACC,GAAG,CAACC,iBAAiB,CAAGZ,OAAO,CAAE,CAAEC,MAAO,CAAC,CAAC,CACxDY,IAAI,CAACC,QAAQ,EAAI,KAAAC,cAAA,CACdX,OAAO,CAACU,QAAQ,SAARA,QAAQ,kBAAAC,cAAA,CAARD,QAAQ,CAAEX,IAAI,UAAAY,cAAA,iBAAdA,cAAA,CAAgBZ,IAAI,CAAC,CAC7BK,YAAY,CAAC,KAAK,CAAC,CACnB;AACJ,CAAC,CAAC,CACDQ,KAAK,CAACX,KAAK,EAAI,CACZC,QAAQ,CAACD,KAAK,CAAC,CACf;AACAG,YAAY,CAAC,KAAK,CAAC,CACnB;AACJ,CAAC,CAAC,CACF,MAAO,IAAI,CACPJ,OAAO,CAAC,IAAI,CAAC,CACbE,QAAQ,CAAC,IAAI,CAAC,CACdE,YAAY,CAAC,KAAK,CAAC,CACvB,CAAC,CACT,CAAC,CAAE,EAAE,CAAC,CAEN,MAAO,CAAEL,IAAI,CAAEE,KAAK,CAAEE,SAAU,CAAC,CACrC","ignoreList":[]},"metadata":{},"sourceType":"module"}