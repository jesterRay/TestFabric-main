{"ast":null,"code":"'use strict';\n\nvar d3 = require('@plotly/d3');\nvar Lib = require('../../lib');\nmodule.exports = function plot(gd, plotinfo, cdOHLC, ohlcLayer) {\n  var ya = plotinfo.yaxis;\n  var xa = plotinfo.xaxis;\n  var posHasRangeBreaks = !!xa.rangebreaks;\n  Lib.makeTraceGroups(ohlcLayer, cdOHLC, 'trace ohlc').each(function (cd) {\n    var plotGroup = d3.select(this);\n    var cd0 = cd[0];\n    var t = cd0.t;\n    var trace = cd0.trace;\n    if (trace.visible !== true || t.empty) {\n      plotGroup.remove();\n      return;\n    }\n    var tickLen = t.tickLen;\n    var paths = plotGroup.selectAll('path').data(Lib.identity);\n    paths.enter().append('path');\n    paths.exit().remove();\n    paths.attr('d', function (d) {\n      if (d.empty) return 'M0,0Z';\n      var xo = xa.c2p(d.pos - tickLen, true);\n      var xc = xa.c2p(d.pos + tickLen, true);\n      var x = posHasRangeBreaks ? (xo + xc) / 2 : xa.c2p(d.pos, true);\n      var yo = ya.c2p(d.o, true);\n      var yh = ya.c2p(d.h, true);\n      var yl = ya.c2p(d.l, true);\n      var yc = ya.c2p(d.c, true);\n      return 'M' + xo + ',' + yo + 'H' + x + 'M' + x + ',' + yh + 'V' + yl + 'M' + xc + ',' + yc + 'H' + x;\n    });\n  });\n};","map":{"version":3,"names":["d3","require","Lib","module","exports","plot","gd","plotinfo","cdOHLC","ohlcLayer","ya","yaxis","xa","xaxis","posHasRangeBreaks","rangebreaks","makeTraceGroups","each","cd","plotGroup","select","cd0","t","trace","visible","empty","remove","tickLen","paths","selectAll","data","identity","enter","append","exit","attr","d","xo","c2p","pos","xc","x","yo","o","yh","h","yl","l","yc","c"],"sources":["E:/tog_workspace/TestFabric_main/TestFabric-main/node_modules/plotly.js/src/traces/ohlc/plot.js"],"sourcesContent":["'use strict';\n\nvar d3 = require('@plotly/d3');\n\nvar Lib = require('../../lib');\n\nmodule.exports = function plot(gd, plotinfo, cdOHLC, ohlcLayer) {\n    var ya = plotinfo.yaxis;\n    var xa = plotinfo.xaxis;\n    var posHasRangeBreaks = !!xa.rangebreaks;\n\n    Lib.makeTraceGroups(ohlcLayer, cdOHLC, 'trace ohlc').each(function(cd) {\n        var plotGroup = d3.select(this);\n        var cd0 = cd[0];\n        var t = cd0.t;\n        var trace = cd0.trace;\n\n        if(trace.visible !== true || t.empty) {\n            plotGroup.remove();\n            return;\n        }\n\n        var tickLen = t.tickLen;\n\n        var paths = plotGroup.selectAll('path').data(Lib.identity);\n\n        paths.enter().append('path');\n\n        paths.exit().remove();\n\n        paths.attr('d', function(d) {\n            if(d.empty) return 'M0,0Z';\n\n            var xo = xa.c2p(d.pos - tickLen, true);\n            var xc = xa.c2p(d.pos + tickLen, true);\n            var x = posHasRangeBreaks ? (xo + xc) / 2 : xa.c2p(d.pos, true);\n\n            var yo = ya.c2p(d.o, true);\n            var yh = ya.c2p(d.h, true);\n            var yl = ya.c2p(d.l, true);\n            var yc = ya.c2p(d.c, true);\n\n            return 'M' + xo + ',' + yo + 'H' + x +\n                'M' + x + ',' + yh + 'V' + yl +\n                'M' + xc + ',' + yc + 'H' + x;\n        });\n    });\n};\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,EAAE,GAAGC,OAAO,CAAC,YAAY,CAAC;AAE9B,IAAIC,GAAG,GAAGD,OAAO,CAAC,WAAW,CAAC;AAE9BE,MAAM,CAACC,OAAO,GAAG,SAASC,IAAIA,CAACC,EAAE,EAAEC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,EAAE;EAC5D,IAAIC,EAAE,GAAGH,QAAQ,CAACI,KAAK;EACvB,IAAIC,EAAE,GAAGL,QAAQ,CAACM,KAAK;EACvB,IAAIC,iBAAiB,GAAG,CAAC,CAACF,EAAE,CAACG,WAAW;EAExCb,GAAG,CAACc,eAAe,CAACP,SAAS,EAAED,MAAM,EAAE,YAAY,CAAC,CAACS,IAAI,CAAC,UAASC,EAAE,EAAE;IACnE,IAAIC,SAAS,GAAGnB,EAAE,CAACoB,MAAM,CAAC,IAAI,CAAC;IAC/B,IAAIC,GAAG,GAAGH,EAAE,CAAC,CAAC,CAAC;IACf,IAAII,CAAC,GAAGD,GAAG,CAACC,CAAC;IACb,IAAIC,KAAK,GAAGF,GAAG,CAACE,KAAK;IAErB,IAAGA,KAAK,CAACC,OAAO,KAAK,IAAI,IAAIF,CAAC,CAACG,KAAK,EAAE;MAClCN,SAAS,CAACO,MAAM,CAAC,CAAC;MAClB;IACJ;IAEA,IAAIC,OAAO,GAAGL,CAAC,CAACK,OAAO;IAEvB,IAAIC,KAAK,GAAGT,SAAS,CAACU,SAAS,CAAC,MAAM,CAAC,CAACC,IAAI,CAAC5B,GAAG,CAAC6B,QAAQ,CAAC;IAE1DH,KAAK,CAACI,KAAK,CAAC,CAAC,CAACC,MAAM,CAAC,MAAM,CAAC;IAE5BL,KAAK,CAACM,IAAI,CAAC,CAAC,CAACR,MAAM,CAAC,CAAC;IAErBE,KAAK,CAACO,IAAI,CAAC,GAAG,EAAE,UAASC,CAAC,EAAE;MACxB,IAAGA,CAAC,CAACX,KAAK,EAAE,OAAO,OAAO;MAE1B,IAAIY,EAAE,GAAGzB,EAAE,CAAC0B,GAAG,CAACF,CAAC,CAACG,GAAG,GAAGZ,OAAO,EAAE,IAAI,CAAC;MACtC,IAAIa,EAAE,GAAG5B,EAAE,CAAC0B,GAAG,CAACF,CAAC,CAACG,GAAG,GAAGZ,OAAO,EAAE,IAAI,CAAC;MACtC,IAAIc,CAAC,GAAG3B,iBAAiB,GAAG,CAACuB,EAAE,GAAGG,EAAE,IAAI,CAAC,GAAG5B,EAAE,CAAC0B,GAAG,CAACF,CAAC,CAACG,GAAG,EAAE,IAAI,CAAC;MAE/D,IAAIG,EAAE,GAAGhC,EAAE,CAAC4B,GAAG,CAACF,CAAC,CAACO,CAAC,EAAE,IAAI,CAAC;MAC1B,IAAIC,EAAE,GAAGlC,EAAE,CAAC4B,GAAG,CAACF,CAAC,CAACS,CAAC,EAAE,IAAI,CAAC;MAC1B,IAAIC,EAAE,GAAGpC,EAAE,CAAC4B,GAAG,CAACF,CAAC,CAACW,CAAC,EAAE,IAAI,CAAC;MAC1B,IAAIC,EAAE,GAAGtC,EAAE,CAAC4B,GAAG,CAACF,CAAC,CAACa,CAAC,EAAE,IAAI,CAAC;MAE1B,OAAO,GAAG,GAAGZ,EAAE,GAAG,GAAG,GAAGK,EAAE,GAAG,GAAG,GAAGD,CAAC,GAChC,GAAG,GAAGA,CAAC,GAAG,GAAG,GAAGG,EAAE,GAAG,GAAG,GAAGE,EAAE,GAC7B,GAAG,GAAGN,EAAE,GAAG,GAAG,GAAGQ,EAAE,GAAG,GAAG,GAAGP,CAAC;IACrC,CAAC,CAAC;EACN,CAAC,CAAC;AACN,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script"}