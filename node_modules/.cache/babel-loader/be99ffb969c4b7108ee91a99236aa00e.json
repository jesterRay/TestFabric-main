{"ast":null,"code":"'use strict';\n\nvar createMesh = require('../../../stackgl_modules').gl_mesh3d;\nvar triangulate = require('../../../stackgl_modules').delaunay_triangulate;\nvar alphaShape = require('../../../stackgl_modules').alpha_shape;\nvar convexHull = require('../../../stackgl_modules').convex_hull;\nvar parseColorScale = require('../../lib/gl_format_color').parseColorScale;\nvar isArrayOrTypedArray = require('../../lib').isArrayOrTypedArray;\nvar str2RgbaArray = require('../../lib/str2rgbarray');\nvar extractOpts = require('../../components/colorscale').extractOpts;\nvar zip3 = require('../../plots/gl3d/zip3');\nfunction Mesh3DTrace(scene, mesh, uid) {\n  this.scene = scene;\n  this.uid = uid;\n  this.mesh = mesh;\n  this.name = '';\n  this.color = '#fff';\n  this.data = null;\n  this.showContour = false;\n}\nvar proto = Mesh3DTrace.prototype;\nproto.handlePick = function (selection) {\n  if (selection.object === this.mesh) {\n    var selectIndex = selection.index = selection.data.index;\n    if (selection.data._cellCenter) {\n      selection.traceCoordinate = selection.data.dataCoordinate;\n    } else {\n      selection.traceCoordinate = [this.data.x[selectIndex], this.data.y[selectIndex], this.data.z[selectIndex]];\n    }\n    var text = this.data.hovertext || this.data.text;\n    if (isArrayOrTypedArray(text) && text[selectIndex] !== undefined) {\n      selection.textLabel = text[selectIndex];\n    } else if (text) {\n      selection.textLabel = text;\n    }\n    return true;\n  }\n};\nfunction parseColorArray(colors) {\n  var b = [];\n  var len = colors.length;\n  for (var i = 0; i < len; i++) {\n    b[i] = str2RgbaArray(colors[i]);\n  }\n  return b;\n}\n\n// Unpack position data\nfunction toDataCoords(axis, coord, scale, calendar) {\n  var b = [];\n  var len = coord.length;\n  for (var i = 0; i < len; i++) {\n    b[i] = axis.d2l(coord[i], 0, calendar) * scale;\n  }\n  return b;\n}\n\n// Round indices if passed as floats\nfunction toRoundIndex(a) {\n  var b = [];\n  var len = a.length;\n  for (var i = 0; i < len; i++) {\n    b[i] = Math.round(a[i]);\n  }\n  return b;\n}\nfunction delaunayCells(delaunayaxis, positions) {\n  var d = ['x', 'y', 'z'].indexOf(delaunayaxis);\n  var b = [];\n  var len = positions.length;\n  for (var i = 0; i < len; i++) {\n    b[i] = [positions[i][(d + 1) % 3], positions[i][(d + 2) % 3]];\n  }\n  return triangulate(b);\n}\n\n// Validate indices\nfunction hasValidIndices(list, numVertices) {\n  var len = list.length;\n  for (var i = 0; i < len; i++) {\n    if (list[i] <= -0.5 || list[i] >= numVertices - 0.5) {\n      // Note: the indices would be rounded -0.49 is valid.\n      return false;\n    }\n  }\n  return true;\n}\nproto.update = function (data) {\n  var scene = this.scene;\n  var layout = scene.fullSceneLayout;\n  this.data = data;\n  var numVertices = data.x.length;\n  var positions = zip3(toDataCoords(layout.xaxis, data.x, scene.dataScale[0], data.xcalendar), toDataCoords(layout.yaxis, data.y, scene.dataScale[1], data.ycalendar), toDataCoords(layout.zaxis, data.z, scene.dataScale[2], data.zcalendar));\n  var cells;\n  if (data.i && data.j && data.k) {\n    if (data.i.length !== data.j.length || data.j.length !== data.k.length || !hasValidIndices(data.i, numVertices) || !hasValidIndices(data.j, numVertices) || !hasValidIndices(data.k, numVertices)) {\n      return;\n    }\n    cells = zip3(toRoundIndex(data.i), toRoundIndex(data.j), toRoundIndex(data.k));\n  } else if (data.alphahull === 0) {\n    cells = convexHull(positions);\n  } else if (data.alphahull > 0) {\n    cells = alphaShape(data.alphahull, positions);\n  } else {\n    cells = delaunayCells(data.delaunayaxis, positions);\n  }\n  var config = {\n    positions: positions,\n    cells: cells,\n    lightPosition: [data.lightposition.x, data.lightposition.y, data.lightposition.z],\n    ambient: data.lighting.ambient,\n    diffuse: data.lighting.diffuse,\n    specular: data.lighting.specular,\n    roughness: data.lighting.roughness,\n    fresnel: data.lighting.fresnel,\n    vertexNormalsEpsilon: data.lighting.vertexnormalsepsilon,\n    faceNormalsEpsilon: data.lighting.facenormalsepsilon,\n    opacity: data.opacity,\n    contourEnable: data.contour.show,\n    contourColor: str2RgbaArray(data.contour.color).slice(0, 3),\n    contourWidth: data.contour.width,\n    useFacetNormals: data.flatshading\n  };\n  if (data.intensity) {\n    var cOpts = extractOpts(data);\n    this.color = '#fff';\n    var mode = data.intensitymode;\n    config[mode + 'Intensity'] = data.intensity;\n    config[mode + 'IntensityBounds'] = [cOpts.min, cOpts.max];\n    config.colormap = parseColorScale(data);\n  } else if (data.vertexcolor) {\n    this.color = data.vertexcolor[0];\n    config.vertexColors = parseColorArray(data.vertexcolor);\n  } else if (data.facecolor) {\n    this.color = data.facecolor[0];\n    config.cellColors = parseColorArray(data.facecolor);\n  } else {\n    this.color = data.color;\n    config.meshColor = str2RgbaArray(data.color);\n  }\n\n  // Update mesh\n  this.mesh.update(config);\n};\nproto.dispose = function () {\n  this.scene.glplot.remove(this.mesh);\n  this.mesh.dispose();\n};\nfunction createMesh3DTrace(scene, data) {\n  var gl = scene.glplot.gl;\n  var mesh = createMesh({\n    gl: gl\n  });\n  var result = new Mesh3DTrace(scene, mesh, data.uid);\n  mesh._trace = result;\n  result.update(data);\n  scene.glplot.add(mesh);\n  return result;\n}\nmodule.exports = createMesh3DTrace;","map":{"version":3,"names":["createMesh","require","gl_mesh3d","triangulate","delaunay_triangulate","alphaShape","alpha_shape","convexHull","convex_hull","parseColorScale","isArrayOrTypedArray","str2RgbaArray","extractOpts","zip3","Mesh3DTrace","scene","mesh","uid","name","color","data","showContour","proto","prototype","handlePick","selection","object","selectIndex","index","_cellCenter","traceCoordinate","dataCoordinate","x","y","z","text","hovertext","undefined","textLabel","parseColorArray","colors","b","len","length","i","toDataCoords","axis","coord","scale","calendar","d2l","toRoundIndex","a","Math","round","delaunayCells","delaunayaxis","positions","d","indexOf","hasValidIndices","list","numVertices","update","layout","fullSceneLayout","xaxis","dataScale","xcalendar","yaxis","ycalendar","zaxis","zcalendar","cells","j","k","alphahull","config","lightPosition","lightposition","ambient","lighting","diffuse","specular","roughness","fresnel","vertexNormalsEpsilon","vertexnormalsepsilon","faceNormalsEpsilon","facenormalsepsilon","opacity","contourEnable","contour","show","contourColor","slice","contourWidth","width","useFacetNormals","flatshading","intensity","cOpts","mode","intensitymode","min","max","colormap","vertexcolor","vertexColors","facecolor","cellColors","meshColor","dispose","glplot","remove","createMesh3DTrace","gl","result","_trace","add","module","exports"],"sources":["E:/tog_workspace/TestFabric_main/TestFabric-main/node_modules/plotly.js/src/traces/mesh3d/convert.js"],"sourcesContent":["'use strict';\n\nvar createMesh = require('../../../stackgl_modules').gl_mesh3d;\nvar triangulate = require('../../../stackgl_modules').delaunay_triangulate;\nvar alphaShape = require('../../../stackgl_modules').alpha_shape;\nvar convexHull = require('../../../stackgl_modules').convex_hull;\n\nvar parseColorScale = require('../../lib/gl_format_color').parseColorScale;\nvar isArrayOrTypedArray = require('../../lib').isArrayOrTypedArray;\nvar str2RgbaArray = require('../../lib/str2rgbarray');\nvar extractOpts = require('../../components/colorscale').extractOpts;\nvar zip3 = require('../../plots/gl3d/zip3');\n\nfunction Mesh3DTrace(scene, mesh, uid) {\n    this.scene = scene;\n    this.uid = uid;\n    this.mesh = mesh;\n    this.name = '';\n    this.color = '#fff';\n    this.data = null;\n    this.showContour = false;\n}\n\nvar proto = Mesh3DTrace.prototype;\n\nproto.handlePick = function(selection) {\n    if(selection.object === this.mesh) {\n        var selectIndex = selection.index = selection.data.index;\n\n        if(selection.data._cellCenter) {\n            selection.traceCoordinate = selection.data.dataCoordinate;\n        } else {\n            selection.traceCoordinate = [\n                this.data.x[selectIndex],\n                this.data.y[selectIndex],\n                this.data.z[selectIndex]\n            ];\n        }\n\n        var text = this.data.hovertext || this.data.text;\n        if(isArrayOrTypedArray(text) && text[selectIndex] !== undefined) {\n            selection.textLabel = text[selectIndex];\n        } else if(text) {\n            selection.textLabel = text;\n        }\n\n        return true;\n    }\n};\n\nfunction parseColorArray(colors) {\n    var b = [];\n    var len = colors.length;\n    for(var i = 0; i < len; i++) {\n        b[i] = str2RgbaArray(colors[i]);\n    }\n    return b;\n}\n\n// Unpack position data\nfunction toDataCoords(axis, coord, scale, calendar) {\n    var b = [];\n    var len = coord.length;\n    for(var i = 0; i < len; i++) {\n        b[i] = axis.d2l(coord[i], 0, calendar) * scale;\n    }\n    return b;\n}\n\n// Round indices if passed as floats\nfunction toRoundIndex(a) {\n    var b = [];\n    var len = a.length;\n    for(var i = 0; i < len; i++) {\n        b[i] = Math.round(a[i]);\n    }\n    return b;\n}\n\nfunction delaunayCells(delaunayaxis, positions) {\n    var d = ['x', 'y', 'z'].indexOf(delaunayaxis);\n    var b = [];\n    var len = positions.length;\n    for(var i = 0; i < len; i++) {\n        b[i] = [positions[i][(d + 1) % 3], positions[i][(d + 2) % 3]];\n    }\n    return triangulate(b);\n}\n\n// Validate indices\nfunction hasValidIndices(list, numVertices) {\n    var len = list.length;\n    for(var i = 0; i < len; i++) {\n        if(list[i] <= -0.5 || list[i] >= numVertices - 0.5) { // Note: the indices would be rounded -0.49 is valid.\n            return false;\n        }\n    }\n    return true;\n}\n\nproto.update = function(data) {\n    var scene = this.scene;\n    var layout = scene.fullSceneLayout;\n\n    this.data = data;\n\n    var numVertices = data.x.length;\n\n    var positions = zip3(\n        toDataCoords(layout.xaxis, data.x, scene.dataScale[0], data.xcalendar),\n        toDataCoords(layout.yaxis, data.y, scene.dataScale[1], data.ycalendar),\n        toDataCoords(layout.zaxis, data.z, scene.dataScale[2], data.zcalendar)\n    );\n\n    var cells;\n    if(data.i && data.j && data.k) {\n        if(\n            data.i.length !== data.j.length ||\n            data.j.length !== data.k.length ||\n            !hasValidIndices(data.i, numVertices) ||\n            !hasValidIndices(data.j, numVertices) ||\n            !hasValidIndices(data.k, numVertices)\n        ) {\n            return;\n        }\n        cells = zip3(\n            toRoundIndex(data.i),\n            toRoundIndex(data.j),\n            toRoundIndex(data.k)\n        );\n    } else if(data.alphahull === 0) {\n        cells = convexHull(positions);\n    } else if(data.alphahull > 0) {\n        cells = alphaShape(data.alphahull, positions);\n    } else {\n        cells = delaunayCells(data.delaunayaxis, positions);\n    }\n\n    var config = {\n        positions: positions,\n        cells: cells,\n        lightPosition: [data.lightposition.x, data.lightposition.y, data.lightposition.z],\n        ambient: data.lighting.ambient,\n        diffuse: data.lighting.diffuse,\n        specular: data.lighting.specular,\n        roughness: data.lighting.roughness,\n        fresnel: data.lighting.fresnel,\n        vertexNormalsEpsilon: data.lighting.vertexnormalsepsilon,\n        faceNormalsEpsilon: data.lighting.facenormalsepsilon,\n        opacity: data.opacity,\n        contourEnable: data.contour.show,\n        contourColor: str2RgbaArray(data.contour.color).slice(0, 3),\n        contourWidth: data.contour.width,\n        useFacetNormals: data.flatshading\n    };\n\n    if(data.intensity) {\n        var cOpts = extractOpts(data);\n        this.color = '#fff';\n        var mode = data.intensitymode;\n        config[mode + 'Intensity'] = data.intensity;\n        config[mode + 'IntensityBounds'] = [cOpts.min, cOpts.max];\n        config.colormap = parseColorScale(data);\n    } else if(data.vertexcolor) {\n        this.color = data.vertexcolor[0];\n        config.vertexColors = parseColorArray(data.vertexcolor);\n    } else if(data.facecolor) {\n        this.color = data.facecolor[0];\n        config.cellColors = parseColorArray(data.facecolor);\n    } else {\n        this.color = data.color;\n        config.meshColor = str2RgbaArray(data.color);\n    }\n\n    // Update mesh\n    this.mesh.update(config);\n};\n\nproto.dispose = function() {\n    this.scene.glplot.remove(this.mesh);\n    this.mesh.dispose();\n};\n\nfunction createMesh3DTrace(scene, data) {\n    var gl = scene.glplot.gl;\n    var mesh = createMesh({gl: gl});\n    var result = new Mesh3DTrace(scene, mesh, data.uid);\n    mesh._trace = result;\n    result.update(data);\n    scene.glplot.add(mesh);\n    return result;\n}\n\nmodule.exports = createMesh3DTrace;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}