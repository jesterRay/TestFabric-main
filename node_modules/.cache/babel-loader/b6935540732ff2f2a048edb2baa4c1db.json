{"ast":null,"code":"'use strict';\n\nvar d3 = require('@plotly/d3');\nvar Registry = require('../../registry');\nvar Lib = require('../../lib');\nvar Drawing = require('../../components/drawing');\nvar Axes = require('./axes');\n\n/**\n * transitionAxes\n *\n * transition axes from one set of ranges to another, using a svg\n * transformations, similar to during panning.\n *\n * @param {DOM element | object} gd\n * @param {array} edits : array of 'edits', each item with\n * - plotinfo {object} subplot object\n * - xr0 {array} initial x-range\n * - xr1 {array} end x-range\n * - yr0 {array} initial y-range\n * - yr1 {array} end y-range\n * @param {object} transitionOpts\n * @param {function} makeOnCompleteCallback\n */\nmodule.exports = function transitionAxes(gd, edits, transitionOpts, makeOnCompleteCallback) {\n  var fullLayout = gd._fullLayout;\n\n  // special case for redraw:false Plotly.animate that relies on this\n  // to update axis-referenced layout components\n  if (edits.length === 0) {\n    Axes.redrawComponents(gd);\n    return;\n  }\n  function unsetSubplotTransform(subplot) {\n    var xa = subplot.xaxis;\n    var ya = subplot.yaxis;\n    fullLayout._defs.select('#' + subplot.clipId + '> rect').call(Drawing.setTranslate, 0, 0).call(Drawing.setScale, 1, 1);\n    subplot.plot.call(Drawing.setTranslate, xa._offset, ya._offset).call(Drawing.setScale, 1, 1);\n    var traceGroups = subplot.plot.selectAll('.scatterlayer .trace');\n\n    // This is specifically directed at scatter traces, applying an inverse\n    // scale to individual points to counteract the scale of the trace\n    // as a whole:\n    traceGroups.selectAll('.point').call(Drawing.setPointGroupScale, 1, 1);\n    traceGroups.selectAll('.textpoint').call(Drawing.setTextPointsScale, 1, 1);\n    traceGroups.call(Drawing.hideOutsideRangePoints, subplot);\n  }\n  function updateSubplot(edit, progress) {\n    var plotinfo = edit.plotinfo;\n    var xa = plotinfo.xaxis;\n    var ya = plotinfo.yaxis;\n    var xlen = xa._length;\n    var ylen = ya._length;\n    var editX = !!edit.xr1;\n    var editY = !!edit.yr1;\n    var viewBox = [];\n    if (editX) {\n      var xr0 = Lib.simpleMap(edit.xr0, xa.r2l);\n      var xr1 = Lib.simpleMap(edit.xr1, xa.r2l);\n      var dx0 = xr0[1] - xr0[0];\n      var dx1 = xr1[1] - xr1[0];\n      viewBox[0] = (xr0[0] * (1 - progress) + progress * xr1[0] - xr0[0]) / (xr0[1] - xr0[0]) * xlen;\n      viewBox[2] = xlen * (1 - progress + progress * dx1 / dx0);\n      xa.range[0] = xa.l2r(xr0[0] * (1 - progress) + progress * xr1[0]);\n      xa.range[1] = xa.l2r(xr0[1] * (1 - progress) + progress * xr1[1]);\n    } else {\n      viewBox[0] = 0;\n      viewBox[2] = xlen;\n    }\n    if (editY) {\n      var yr0 = Lib.simpleMap(edit.yr0, ya.r2l);\n      var yr1 = Lib.simpleMap(edit.yr1, ya.r2l);\n      var dy0 = yr0[1] - yr0[0];\n      var dy1 = yr1[1] - yr1[0];\n      viewBox[1] = (yr0[1] * (1 - progress) + progress * yr1[1] - yr0[1]) / (yr0[0] - yr0[1]) * ylen;\n      viewBox[3] = ylen * (1 - progress + progress * dy1 / dy0);\n      ya.range[0] = xa.l2r(yr0[0] * (1 - progress) + progress * yr1[0]);\n      ya.range[1] = ya.l2r(yr0[1] * (1 - progress) + progress * yr1[1]);\n    } else {\n      viewBox[1] = 0;\n      viewBox[3] = ylen;\n    }\n    Axes.drawOne(gd, xa, {\n      skipTitle: true\n    });\n    Axes.drawOne(gd, ya, {\n      skipTitle: true\n    });\n    Axes.redrawComponents(gd, [xa._id, ya._id]);\n    var xScaleFactor = editX ? xlen / viewBox[2] : 1;\n    var yScaleFactor = editY ? ylen / viewBox[3] : 1;\n    var clipDx = editX ? viewBox[0] : 0;\n    var clipDy = editY ? viewBox[1] : 0;\n    var fracDx = editX ? viewBox[0] / viewBox[2] * xlen : 0;\n    var fracDy = editY ? viewBox[1] / viewBox[3] * ylen : 0;\n    var plotDx = xa._offset - fracDx;\n    var plotDy = ya._offset - fracDy;\n    plotinfo.clipRect.call(Drawing.setTranslate, clipDx, clipDy).call(Drawing.setScale, 1 / xScaleFactor, 1 / yScaleFactor);\n    plotinfo.plot.call(Drawing.setTranslate, plotDx, plotDy).call(Drawing.setScale, xScaleFactor, yScaleFactor);\n\n    // apply an inverse scale to individual points to counteract\n    // the scale of the trace group.\n    Drawing.setPointGroupScale(plotinfo.zoomScalePts, 1 / xScaleFactor, 1 / yScaleFactor);\n    Drawing.setTextPointsScale(plotinfo.zoomScaleTxt, 1 / xScaleFactor, 1 / yScaleFactor);\n  }\n  var onComplete;\n  if (makeOnCompleteCallback) {\n    // This module makes the choice whether or not it notifies Plotly.transition\n    // about completion:\n    onComplete = makeOnCompleteCallback();\n  }\n  function transitionComplete() {\n    var aobj = {};\n    for (var i = 0; i < edits.length; i++) {\n      var edit = edits[i];\n      var xa = edit.plotinfo.xaxis;\n      var ya = edit.plotinfo.yaxis;\n      if (edit.xr1) aobj[xa._name + '.range'] = edit.xr1.slice();\n      if (edit.yr1) aobj[ya._name + '.range'] = edit.yr1.slice();\n    }\n\n    // Signal that this transition has completed:\n    onComplete && onComplete();\n    return Registry.call('relayout', gd, aobj).then(function () {\n      for (var i = 0; i < edits.length; i++) {\n        unsetSubplotTransform(edits[i].plotinfo);\n      }\n    });\n  }\n  function transitionInterrupt() {\n    var aobj = {};\n    for (var i = 0; i < edits.length; i++) {\n      var edit = edits[i];\n      var xa = edit.plotinfo.xaxis;\n      var ya = edit.plotinfo.yaxis;\n      if (edit.xr0) aobj[xa._name + '.range'] = edit.xr0.slice();\n      if (edit.yr0) aobj[ya._name + '.range'] = edit.yr0.slice();\n    }\n    return Registry.call('relayout', gd, aobj).then(function () {\n      for (var i = 0; i < edits.length; i++) {\n        unsetSubplotTransform(edits[i].plotinfo);\n      }\n    });\n  }\n  var t1, t2, raf;\n  var easeFn = d3.ease(transitionOpts.easing);\n  gd._transitionData._interruptCallbacks.push(function () {\n    window.cancelAnimationFrame(raf);\n    raf = null;\n    return transitionInterrupt();\n  });\n  function doFrame() {\n    t2 = Date.now();\n    var tInterp = Math.min(1, (t2 - t1) / transitionOpts.duration);\n    var progress = easeFn(tInterp);\n    for (var i = 0; i < edits.length; i++) {\n      updateSubplot(edits[i], progress);\n    }\n    if (t2 - t1 > transitionOpts.duration) {\n      transitionComplete();\n      raf = window.cancelAnimationFrame(doFrame);\n    } else {\n      raf = window.requestAnimationFrame(doFrame);\n    }\n  }\n  t1 = Date.now();\n  raf = window.requestAnimationFrame(doFrame);\n  return Promise.resolve();\n};","map":{"version":3,"names":["d3","require","Registry","Lib","Drawing","Axes","module","exports","transitionAxes","gd","edits","transitionOpts","makeOnCompleteCallback","fullLayout","_fullLayout","length","redrawComponents","unsetSubplotTransform","subplot","xa","xaxis","ya","yaxis","_defs","select","clipId","call","setTranslate","setScale","plot","_offset","traceGroups","selectAll","setPointGroupScale","setTextPointsScale","hideOutsideRangePoints","updateSubplot","edit","progress","plotinfo","xlen","_length","ylen","editX","xr1","editY","yr1","viewBox","xr0","simpleMap","r2l","dx0","dx1","range","l2r","yr0","dy0","dy1","drawOne","skipTitle","_id","xScaleFactor","yScaleFactor","clipDx","clipDy","fracDx","fracDy","plotDx","plotDy","clipRect","zoomScalePts","zoomScaleTxt","onComplete","transitionComplete","aobj","i","_name","slice","then","transitionInterrupt","t1","t2","raf","easeFn","ease","easing","_transitionData","_interruptCallbacks","push","window","cancelAnimationFrame","doFrame","Date","now","tInterp","Math","min","duration","requestAnimationFrame","Promise","resolve"],"sources":["E:/tog_workspace/TestFabric_main/TestFabric-main/node_modules/plotly.js/src/plots/cartesian/transition_axes.js"],"sourcesContent":["'use strict';\n\nvar d3 = require('@plotly/d3');\n\nvar Registry = require('../../registry');\nvar Lib = require('../../lib');\nvar Drawing = require('../../components/drawing');\nvar Axes = require('./axes');\n\n/**\n * transitionAxes\n *\n * transition axes from one set of ranges to another, using a svg\n * transformations, similar to during panning.\n *\n * @param {DOM element | object} gd\n * @param {array} edits : array of 'edits', each item with\n * - plotinfo {object} subplot object\n * - xr0 {array} initial x-range\n * - xr1 {array} end x-range\n * - yr0 {array} initial y-range\n * - yr1 {array} end y-range\n * @param {object} transitionOpts\n * @param {function} makeOnCompleteCallback\n */\nmodule.exports = function transitionAxes(gd, edits, transitionOpts, makeOnCompleteCallback) {\n    var fullLayout = gd._fullLayout;\n\n    // special case for redraw:false Plotly.animate that relies on this\n    // to update axis-referenced layout components\n    if(edits.length === 0) {\n        Axes.redrawComponents(gd);\n        return;\n    }\n\n    function unsetSubplotTransform(subplot) {\n        var xa = subplot.xaxis;\n        var ya = subplot.yaxis;\n\n        fullLayout._defs.select('#' + subplot.clipId + '> rect')\n            .call(Drawing.setTranslate, 0, 0)\n            .call(Drawing.setScale, 1, 1);\n\n        subplot.plot\n            .call(Drawing.setTranslate, xa._offset, ya._offset)\n            .call(Drawing.setScale, 1, 1);\n\n        var traceGroups = subplot.plot.selectAll('.scatterlayer .trace');\n\n        // This is specifically directed at scatter traces, applying an inverse\n        // scale to individual points to counteract the scale of the trace\n        // as a whole:\n        traceGroups.selectAll('.point')\n            .call(Drawing.setPointGroupScale, 1, 1);\n        traceGroups.selectAll('.textpoint')\n            .call(Drawing.setTextPointsScale, 1, 1);\n        traceGroups\n            .call(Drawing.hideOutsideRangePoints, subplot);\n    }\n\n    function updateSubplot(edit, progress) {\n        var plotinfo = edit.plotinfo;\n        var xa = plotinfo.xaxis;\n        var ya = plotinfo.yaxis;\n        var xlen = xa._length;\n        var ylen = ya._length;\n        var editX = !!edit.xr1;\n        var editY = !!edit.yr1;\n        var viewBox = [];\n\n        if(editX) {\n            var xr0 = Lib.simpleMap(edit.xr0, xa.r2l);\n            var xr1 = Lib.simpleMap(edit.xr1, xa.r2l);\n            var dx0 = xr0[1] - xr0[0];\n            var dx1 = xr1[1] - xr1[0];\n            viewBox[0] = (xr0[0] * (1 - progress) + progress * xr1[0] - xr0[0]) / (xr0[1] - xr0[0]) * xlen;\n            viewBox[2] = xlen * ((1 - progress) + progress * dx1 / dx0);\n            xa.range[0] = xa.l2r(xr0[0] * (1 - progress) + progress * xr1[0]);\n            xa.range[1] = xa.l2r(xr0[1] * (1 - progress) + progress * xr1[1]);\n        } else {\n            viewBox[0] = 0;\n            viewBox[2] = xlen;\n        }\n\n        if(editY) {\n            var yr0 = Lib.simpleMap(edit.yr0, ya.r2l);\n            var yr1 = Lib.simpleMap(edit.yr1, ya.r2l);\n            var dy0 = yr0[1] - yr0[0];\n            var dy1 = yr1[1] - yr1[0];\n            viewBox[1] = (yr0[1] * (1 - progress) + progress * yr1[1] - yr0[1]) / (yr0[0] - yr0[1]) * ylen;\n            viewBox[3] = ylen * ((1 - progress) + progress * dy1 / dy0);\n            ya.range[0] = xa.l2r(yr0[0] * (1 - progress) + progress * yr1[0]);\n            ya.range[1] = ya.l2r(yr0[1] * (1 - progress) + progress * yr1[1]);\n        } else {\n            viewBox[1] = 0;\n            viewBox[3] = ylen;\n        }\n\n        Axes.drawOne(gd, xa, {skipTitle: true});\n        Axes.drawOne(gd, ya, {skipTitle: true});\n        Axes.redrawComponents(gd, [xa._id, ya._id]);\n\n        var xScaleFactor = editX ? xlen / viewBox[2] : 1;\n        var yScaleFactor = editY ? ylen / viewBox[3] : 1;\n        var clipDx = editX ? viewBox[0] : 0;\n        var clipDy = editY ? viewBox[1] : 0;\n        var fracDx = editX ? (viewBox[0] / viewBox[2] * xlen) : 0;\n        var fracDy = editY ? (viewBox[1] / viewBox[3] * ylen) : 0;\n        var plotDx = xa._offset - fracDx;\n        var plotDy = ya._offset - fracDy;\n\n        plotinfo.clipRect\n            .call(Drawing.setTranslate, clipDx, clipDy)\n            .call(Drawing.setScale, 1 / xScaleFactor, 1 / yScaleFactor);\n\n        plotinfo.plot\n            .call(Drawing.setTranslate, plotDx, plotDy)\n            .call(Drawing.setScale, xScaleFactor, yScaleFactor);\n\n        // apply an inverse scale to individual points to counteract\n        // the scale of the trace group.\n        Drawing.setPointGroupScale(plotinfo.zoomScalePts, 1 / xScaleFactor, 1 / yScaleFactor);\n        Drawing.setTextPointsScale(plotinfo.zoomScaleTxt, 1 / xScaleFactor, 1 / yScaleFactor);\n    }\n\n    var onComplete;\n    if(makeOnCompleteCallback) {\n        // This module makes the choice whether or not it notifies Plotly.transition\n        // about completion:\n        onComplete = makeOnCompleteCallback();\n    }\n\n    function transitionComplete() {\n        var aobj = {};\n\n        for(var i = 0; i < edits.length; i++) {\n            var edit = edits[i];\n            var xa = edit.plotinfo.xaxis;\n            var ya = edit.plotinfo.yaxis;\n            if(edit.xr1) aobj[xa._name + '.range'] = edit.xr1.slice();\n            if(edit.yr1) aobj[ya._name + '.range'] = edit.yr1.slice();\n        }\n\n        // Signal that this transition has completed:\n        onComplete && onComplete();\n\n        return Registry.call('relayout', gd, aobj).then(function() {\n            for(var i = 0; i < edits.length; i++) {\n                unsetSubplotTransform(edits[i].plotinfo);\n            }\n        });\n    }\n\n    function transitionInterrupt() {\n        var aobj = {};\n\n        for(var i = 0; i < edits.length; i++) {\n            var edit = edits[i];\n            var xa = edit.plotinfo.xaxis;\n            var ya = edit.plotinfo.yaxis;\n            if(edit.xr0) aobj[xa._name + '.range'] = edit.xr0.slice();\n            if(edit.yr0) aobj[ya._name + '.range'] = edit.yr0.slice();\n        }\n\n        return Registry.call('relayout', gd, aobj).then(function() {\n            for(var i = 0; i < edits.length; i++) {\n                unsetSubplotTransform(edits[i].plotinfo);\n            }\n        });\n    }\n\n    var t1, t2, raf;\n    var easeFn = d3.ease(transitionOpts.easing);\n\n    gd._transitionData._interruptCallbacks.push(function() {\n        window.cancelAnimationFrame(raf);\n        raf = null;\n        return transitionInterrupt();\n    });\n\n    function doFrame() {\n        t2 = Date.now();\n\n        var tInterp = Math.min(1, (t2 - t1) / transitionOpts.duration);\n        var progress = easeFn(tInterp);\n\n        for(var i = 0; i < edits.length; i++) {\n            updateSubplot(edits[i], progress);\n        }\n\n        if(t2 - t1 > transitionOpts.duration) {\n            transitionComplete();\n            raf = window.cancelAnimationFrame(doFrame);\n        } else {\n            raf = window.requestAnimationFrame(doFrame);\n        }\n    }\n\n    t1 = Date.now();\n    raf = window.requestAnimationFrame(doFrame);\n\n    return Promise.resolve();\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}