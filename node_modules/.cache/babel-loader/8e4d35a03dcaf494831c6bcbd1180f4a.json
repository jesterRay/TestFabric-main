{"ast":null,"code":"'use strict';\n\nvar d3 = require('@plotly/d3');\nvar Drawing = require('../../components/drawing');\nvar Color = require('../../components/color');\nvar DESELECTDIM = require('../../constants/interactions').DESELECTDIM;\nvar barStyle = require('../bar/style');\nvar resizeText = require('../bar/uniform_text').resizeText;\nvar styleTextPoints = barStyle.styleTextPoints;\nfunction style(gd, cd, sel) {\n  var s = sel ? sel : d3.select(gd).selectAll('g[class^=\"funnellayer\"]').selectAll('g.trace');\n  resizeText(gd, s, 'funnel');\n  s.style('opacity', function (d) {\n    return d[0].trace.opacity;\n  });\n  s.each(function (d) {\n    var gTrace = d3.select(this);\n    var trace = d[0].trace;\n    gTrace.selectAll('.point > path').each(function (di) {\n      if (!di.isBlank) {\n        var cont = trace.marker;\n        d3.select(this).call(Color.fill, di.mc || cont.color).call(Color.stroke, di.mlc || cont.line.color).call(Drawing.dashLine, cont.line.dash, di.mlw || cont.line.width).style('opacity', trace.selectedpoints && !di.selected ? DESELECTDIM : 1);\n      }\n    });\n    styleTextPoints(gTrace, trace, gd);\n    gTrace.selectAll('.regions').each(function () {\n      d3.select(this).selectAll('path').style('stroke-width', 0).call(Color.fill, trace.connector.fillcolor);\n    });\n    gTrace.selectAll('.lines').each(function () {\n      var cont = trace.connector.line;\n      Drawing.lineGroupStyle(d3.select(this).selectAll('path'), cont.width, cont.color, cont.dash);\n    });\n  });\n}\nmodule.exports = {\n  style: style\n};","map":{"version":3,"names":["d3","require","Drawing","Color","DESELECTDIM","barStyle","resizeText","styleTextPoints","style","gd","cd","sel","s","select","selectAll","d","trace","opacity","each","gTrace","di","isBlank","cont","marker","call","fill","mc","color","stroke","mlc","line","dashLine","dash","mlw","width","selectedpoints","selected","connector","fillcolor","lineGroupStyle","module","exports"],"sources":["E:/tog_workspace/TestFabric_main/TestFabric-main/node_modules/plotly.js/src/traces/funnel/style.js"],"sourcesContent":["'use strict';\n\nvar d3 = require('@plotly/d3');\n\nvar Drawing = require('../../components/drawing');\nvar Color = require('../../components/color');\nvar DESELECTDIM = require('../../constants/interactions').DESELECTDIM;\nvar barStyle = require('../bar/style');\nvar resizeText = require('../bar/uniform_text').resizeText;\nvar styleTextPoints = barStyle.styleTextPoints;\n\nfunction style(gd, cd, sel) {\n    var s = sel ? sel : d3.select(gd).selectAll('g[class^=\"funnellayer\"]').selectAll('g.trace');\n    resizeText(gd, s, 'funnel');\n\n    s.style('opacity', function(d) { return d[0].trace.opacity; });\n\n    s.each(function(d) {\n        var gTrace = d3.select(this);\n        var trace = d[0].trace;\n\n        gTrace.selectAll('.point > path').each(function(di) {\n            if(!di.isBlank) {\n                var cont = trace.marker;\n\n                d3.select(this)\n                    .call(Color.fill, di.mc || cont.color)\n                    .call(Color.stroke, di.mlc || cont.line.color)\n                    .call(Drawing.dashLine, cont.line.dash, di.mlw || cont.line.width)\n                    .style('opacity', trace.selectedpoints && !di.selected ? DESELECTDIM : 1);\n            }\n        });\n\n        styleTextPoints(gTrace, trace, gd);\n\n        gTrace.selectAll('.regions').each(function() {\n            d3.select(this).selectAll('path').style('stroke-width', 0).call(Color.fill, trace.connector.fillcolor);\n        });\n\n        gTrace.selectAll('.lines').each(function() {\n            var cont = trace.connector.line;\n\n            Drawing.lineGroupStyle(\n                d3.select(this).selectAll('path'),\n                cont.width,\n                cont.color,\n                cont.dash\n            );\n        });\n    });\n}\n\nmodule.exports = {\n    style: style\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}