{"ast":null,"code":"'use strict';\n\nvar Lib = require('../../lib');\nvar handleSubplotDefaults = require('../subplot_defaults');\nvar handleArrayContainerDefaults = require('../array_container_defaults');\nvar layoutAttributes = require('./layout_attributes');\nmodule.exports = function supplyLayoutDefaults(layoutIn, layoutOut, fullData) {\n  handleSubplotDefaults(layoutIn, layoutOut, fullData, {\n    type: 'map',\n    attributes: layoutAttributes,\n    handleDefaults: handleDefaults,\n    partition: 'y'\n  });\n};\nfunction handleDefaults(containerIn, containerOut, coerce) {\n  coerce('style');\n  coerce('center.lon');\n  coerce('center.lat');\n  coerce('zoom');\n  coerce('bearing');\n  coerce('pitch');\n  var west = coerce('bounds.west');\n  var east = coerce('bounds.east');\n  var south = coerce('bounds.south');\n  var north = coerce('bounds.north');\n  if (west === undefined || east === undefined || south === undefined || north === undefined) {\n    delete containerOut.bounds;\n  }\n  handleArrayContainerDefaults(containerIn, containerOut, {\n    name: 'layers',\n    handleItemDefaults: handleLayerDefaults\n  });\n\n  // copy ref to input container to update 'center' and 'zoom' on map move\n  containerOut._input = containerIn;\n}\nfunction handleLayerDefaults(layerIn, layerOut) {\n  function coerce(attr, dflt) {\n    return Lib.coerce(layerIn, layerOut, layoutAttributes.layers, attr, dflt);\n  }\n  var visible = coerce('visible');\n  if (visible) {\n    var sourceType = coerce('sourcetype');\n    var mustBeRasterLayer = sourceType === 'raster' || sourceType === 'image';\n    coerce('source');\n    coerce('sourceattribution');\n    if (sourceType === 'vector') {\n      coerce('sourcelayer');\n    }\n    if (sourceType === 'image') {\n      coerce('coordinates');\n    }\n    var typeDflt;\n    if (mustBeRasterLayer) typeDflt = 'raster';\n    var type = coerce('type', typeDflt);\n    if (mustBeRasterLayer && type !== 'raster') {\n      type = layerOut.type = 'raster';\n      Lib.log('Source types *raster* and *image* must drawn *raster* layer type.');\n    }\n    coerce('below');\n    coerce('color');\n    coerce('opacity');\n    coerce('minzoom');\n    coerce('maxzoom');\n    if (type === 'circle') {\n      coerce('circle.radius');\n    }\n    if (type === 'line') {\n      coerce('line.width');\n      coerce('line.dash');\n    }\n    if (type === 'fill') {\n      coerce('fill.outlinecolor');\n    }\n    if (type === 'symbol') {\n      coerce('symbol.icon');\n      coerce('symbol.iconsize');\n      coerce('symbol.text');\n      Lib.coerceFont(coerce, 'symbol.textfont', undefined, {\n        noFontVariant: true,\n        noFontShadow: true,\n        noFontLineposition: true,\n        noFontTextcase: true\n      });\n      coerce('symbol.textposition');\n      coerce('symbol.placement');\n    }\n  }\n}","map":{"version":3,"names":["Lib","require","handleSubplotDefaults","handleArrayContainerDefaults","layoutAttributes","module","exports","supplyLayoutDefaults","layoutIn","layoutOut","fullData","type","attributes","handleDefaults","partition","containerIn","containerOut","coerce","west","east","south","north","undefined","bounds","name","handleItemDefaults","handleLayerDefaults","_input","layerIn","layerOut","attr","dflt","layers","visible","sourceType","mustBeRasterLayer","typeDflt","log","coerceFont","noFontVariant","noFontShadow","noFontLineposition","noFontTextcase"],"sources":["E:/tog_workspace/TestFabric_main/TestFabric-main/node_modules/plotly.js/src/plots/map/layout_defaults.js"],"sourcesContent":["'use strict';\n\nvar Lib = require('../../lib');\n\nvar handleSubplotDefaults = require('../subplot_defaults');\nvar handleArrayContainerDefaults = require('../array_container_defaults');\nvar layoutAttributes = require('./layout_attributes');\n\n\nmodule.exports = function supplyLayoutDefaults(layoutIn, layoutOut, fullData) {\n    handleSubplotDefaults(layoutIn, layoutOut, fullData, {\n        type: 'map',\n        attributes: layoutAttributes,\n        handleDefaults: handleDefaults,\n        partition: 'y'\n    });\n};\n\nfunction handleDefaults(containerIn, containerOut, coerce) {\n    coerce('style');\n    coerce('center.lon');\n    coerce('center.lat');\n    coerce('zoom');\n    coerce('bearing');\n    coerce('pitch');\n\n    var west = coerce('bounds.west');\n    var east = coerce('bounds.east');\n    var south = coerce('bounds.south');\n    var north = coerce('bounds.north');\n    if(\n        west === undefined ||\n        east === undefined ||\n        south === undefined ||\n        north === undefined\n    ) {\n        delete containerOut.bounds;\n    }\n\n    handleArrayContainerDefaults(containerIn, containerOut, {\n        name: 'layers',\n        handleItemDefaults: handleLayerDefaults\n    });\n\n    // copy ref to input container to update 'center' and 'zoom' on map move\n    containerOut._input = containerIn;\n}\n\nfunction handleLayerDefaults(layerIn, layerOut) {\n    function coerce(attr, dflt) {\n        return Lib.coerce(layerIn, layerOut, layoutAttributes.layers, attr, dflt);\n    }\n\n    var visible = coerce('visible');\n    if(visible) {\n        var sourceType = coerce('sourcetype');\n        var mustBeRasterLayer = sourceType === 'raster' || sourceType === 'image';\n\n        coerce('source');\n        coerce('sourceattribution');\n\n        if(sourceType === 'vector') {\n            coerce('sourcelayer');\n        }\n\n        if(sourceType === 'image') {\n            coerce('coordinates');\n        }\n\n        var typeDflt;\n        if(mustBeRasterLayer) typeDflt = 'raster';\n\n        var type = coerce('type', typeDflt);\n\n        if(mustBeRasterLayer && type !== 'raster') {\n            type = layerOut.type = 'raster';\n            Lib.log('Source types *raster* and *image* must drawn *raster* layer type.');\n        }\n\n        coerce('below');\n        coerce('color');\n        coerce('opacity');\n        coerce('minzoom');\n        coerce('maxzoom');\n\n        if(type === 'circle') {\n            coerce('circle.radius');\n        }\n\n        if(type === 'line') {\n            coerce('line.width');\n            coerce('line.dash');\n        }\n\n        if(type === 'fill') {\n            coerce('fill.outlinecolor');\n        }\n\n        if(type === 'symbol') {\n            coerce('symbol.icon');\n            coerce('symbol.iconsize');\n\n            coerce('symbol.text');\n            Lib.coerceFont(coerce, 'symbol.textfont', undefined, {\n                noFontVariant: true,\n                noFontShadow: true,\n                noFontLineposition: true,\n                noFontTextcase: true,\n            });\n            coerce('symbol.textposition');\n            coerce('symbol.placement');\n        }\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}