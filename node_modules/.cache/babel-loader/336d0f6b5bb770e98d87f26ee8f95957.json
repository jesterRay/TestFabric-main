{"ast":null,"code":"import React,{useEffect,useState,useContext}from'react';import axios from'axios';import ServicesOneCard from'./ServicesOneCard';import servicesOneData from'./servicesOneData';import{useParams}from'react-router-dom';import Bg2 from'../../assets/img/home1/power.jpg';import Icon1 from'../../assets/img/icon/s1.png';import{UserContext}from'../../App';import{useApi}from'../../middleware/middleware';import{useLocation}from'react-router-dom';import PageBanner from'../PageBanner';import{Link}from'react-router-dom/cjs/react-router-dom.min';import defaultImage from'../../assets/img/gallery/9.jpg';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Services4(){var _words$reverse;const{values}=useContext(UserContext);const location=useLocation();const pathData=location===null||location===void 0?void 0:location.pathname;function suCrypt(id){return btoa(btoa(id));}const words=pathData===null||pathData===void 0?void 0:pathData.split(\"-\");// Get the last word that starts with a hyphen\nconst lastHyphenatedWord=words===null||words===void 0?void 0:(_words$reverse=words.reverse())===null||_words$reverse===void 0?void 0:_words$reverse.find(word=>word.startsWith(\"-\"));// If no word starting with hyphen is found, handle it gracefully\nconst lastWord=words[0];// const { categoryId } = useParams();\n// console.log(\"pathData---- :\",lastWord);\nconst{data,error,isLoading}=useApi('products_by_subcategory',{catID:lastWord});// const { data, error, isLoading } = useApi('products_by_subcategory', {catID:categoryId});\n// function suCrypt(id) {\n//     return btoa(btoa(id));\n// }\n// const [subCategories,setSubCategories] = useState(null)\n// useEffect(()=>{\n//     axios.get(process.env.REACT_APP_API_URL+\"products_by_subcategory\",{params:{catID:\"44\"}})\n//     .then(res=>setSubCategories(res?.data))\n// },[])\n// const defaultImg =\n// function onError(e){\n//     e.target.src = process.env.REACT_APP_API_URL +'cat_images/banner_'+suCrypt(values?.categoryId)+'.jpg'\n// }\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"section\",{className:\"page-banner-wrap-2 bg-cover\"// style={{ backgroundImage: `url(${bannerBg})` }}\n,children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-lg-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"breadcrumb-wrap\",children:/*#__PURE__*/_jsx(\"nav\",{children:/*#__PURE__*/_jsxs(\"ol\",{className:\"breadcrumb\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(\"a\",{href:\"index.html\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item active\",\"aria-current\":\"page\",children:/*#__PURE__*/_jsxs(Link,{to:\"/product-by-category\",children:[\" \",\"Categories\"]})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item active\",\"aria-current\":\"page\",children:\"Sub Categories\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"page-heading\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"SUB-CATEGORIES\"})})]})})})}),/*#__PURE__*/_jsx(\"section\",{className:\"services-wrapper services-1 section-bg \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-12\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:data!=null?data===null||data===void 0?void 0:data.map((item,index)=>/*#__PURE__*/_jsx(ServicesOneCard,{sucategoryId:item.subcategory__ID,bgImg:process.env.REACT_APP_IMAGE_URL+'cat_images/'+suCrypt(item===null||item===void 0?void 0:item.subcategory__ID)+'.jpg'// defaultImg={process.env.REACT_APP_IMAGE_URL + 'images/producfabrics.jpgt_test'}\n,defaultImg:defaultImage,icon:Icon1,heading:\"\".concat(index+1,\".\").concat(item.subcategory__Name),btnText:\"See Products\"},item.subcategory__ID)):/*#__PURE__*/_jsx(_Fragment,{})})]})})]});}export default Services4;","map":{"version":3,"names":["React","useEffect","useState","useContext","axios","ServicesOneCard","servicesOneData","useParams","Bg2","Icon1","UserContext","useApi","useLocation","PageBanner","Link","defaultImage","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Services4","_words$reverse","values","location","pathData","pathname","suCrypt","id","btoa","words","split","lastHyphenatedWord","reverse","find","word","startsWith","lastWord","data","error","isLoading","catID","children","className","href","to","map","item","index","sucategoryId","subcategory__ID","bgImg","process","env","REACT_APP_IMAGE_URL","defaultImg","icon","heading","concat","subcategory__Name","btnText"],"sources":["E:/tog_workspace/TestFabric_main/TestFabric-main/src/components/Services4/index.jsx"],"sourcesContent":["import React,{useEffect,useState,useContext} from 'react';\nimport axios from 'axios';\n\nimport ServicesOneCard from './ServicesOneCard';\nimport servicesOneData from './servicesOneData';\nimport { useParams } from 'react-router-dom';\nimport Bg2 from '../../assets/img/home1/power.jpg';\nimport Icon1 from '../../assets/img/icon/s1.png';\nimport { UserContext } from '../../App';\nimport { useApi } from '../../middleware/middleware';\nimport { useLocation } from 'react-router-dom';\nimport PageBanner from '../PageBanner';\nimport { Link } from 'react-router-dom/cjs/react-router-dom.min';\nimport defaultImage from '../../assets/img/gallery/9.jpg'\n\nfunction Services4() {\n    const {values} = useContext(UserContext)\n    const location= useLocation()\n    const pathData = location?.pathname;\n\n    function suCrypt(id) {\n        return btoa(btoa(id));\n    }\n\n    const words = pathData?.split(\"-\");\n    // Get the last word that starts with a hyphen\n    const lastHyphenatedWord = words?.reverse()?.find(word => word.startsWith(\"-\"));\n    // If no word starting with hyphen is found, handle it gracefully\n    const lastWord = words[0];\n\n    // const { categoryId } = useParams();\n    // console.log(\"pathData---- :\",lastWord);\n   \n    const { data, error, isLoading } = useApi('products_by_subcategory', {catID:lastWord});\n    // const { data, error, isLoading } = useApi('products_by_subcategory', {catID:categoryId});\n\n    // function suCrypt(id) {\n    //     return btoa(btoa(id));\n    // }\n    // const [subCategories,setSubCategories] = useState(null)\n    // useEffect(()=>{\n    //     axios.get(process.env.REACT_APP_API_URL+\"products_by_subcategory\",{params:{catID:\"44\"}})\n    //     .then(res=>setSubCategories(res?.data))\n    // },[])\n    // const defaultImg =\n    // function onError(e){\n    //     e.target.src = process.env.REACT_APP_API_URL +'cat_images/banner_'+suCrypt(values?.categoryId)+'.jpg'\n    // }\n    return (\n        <>\n            <section\n                className=\"page-banner-wrap-2 bg-cover\"\n                // style={{ backgroundImage: `url(${bannerBg})` }}\n            >\n                <div className=\"container\">\n                    <div className=\"row\">\n                        <div className=\"col-12 col-lg-12\">\n                            <div className=\"breadcrumb-wrap\">\n                                <nav>\n                                    <ol className=\"breadcrumb\">\n                                        <li className=\"breadcrumb-item\">\n                                            <a href=\"index.html\">Home</a>\n                                        </li>\n                                        <li className=\"breadcrumb-item active\" aria-current=\"page\">\n                                           <Link to=\"/product-by-category\"> {\"Categories\"}</Link>\n                                        </li>\n                                        <li className=\"breadcrumb-item active\" aria-current=\"page\">\n                                            {\"Sub Categories\"}\n                                        </li>\n                                    </ol>\n                                </nav>\n                            </div>\n\n                            <div className=\"page-heading\">\n                                <h2>{\"SUB-CATEGORIES\"}</h2>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </section>\n            <section className=\"services-wrapper services-1 section-bg \">\n                <div className=\"container\">\n                    \n                    <div className=\"row\">\n                        <div className=\"col-12 col-lg-12\">\n                            {/* <div className=\"section-title text-left\">\n                                <h1>SUB CATEGORIES</h1>\n                            </div> */}\n                        </div>\n                    </div>\n                    \n                    {/* <div className=\"row\" style={{marginTop:\"20px\",width:\"100%\"}}>\n                        <img src={'https://smilesdahub.com/tf/apis/cat_images/banner_'+suCrypt(lastWord)+'.jpg'}  />\n\n                    </div> */}\n\n\n                    <div className=\"row\">\n                        {\n                        data!=null?\n                        data?.map((item, index) => (\n                            <ServicesOneCard\n                                key={item.subcategory__ID}\n                                sucategoryId={item.subcategory__ID}\n                                bgImg={process.env.REACT_APP_IMAGE_URL +'cat_images/'+suCrypt(item?.subcategory__ID)+'.jpg'}\n                                // defaultImg={process.env.REACT_APP_IMAGE_URL + 'images/producfabrics.jpgt_test'}\n                                defaultImg={defaultImage}\n                                icon={Icon1}\n                                heading={`${index+ 1}.${item.subcategory__Name}`}\n                                btnText={\"See Products\"}\n                            />\n                        ))\n                        :<></>\n                    \n                    }\n                    </div>\n                </div>\n            </section>\n        </>\n    );\n}\n\nexport default Services4;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}