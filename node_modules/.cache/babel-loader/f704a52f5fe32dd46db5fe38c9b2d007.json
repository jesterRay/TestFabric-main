{"ast":null,"code":"'use strict';\n\nvar Registry = require('../../registry');\nvar Lib = require('../../lib');\nvar Color = require('../../components/color');\nvar handleText = require('../bar/defaults').handleText;\nvar handleStyleDefaults = require('../bar/style_defaults');\nvar attributes = require('./attributes');\nmodule.exports = function supplyDefaults(traceIn, traceOut, defaultColor, layout) {\n  function coerce(attr, dflt) {\n    return Lib.coerce(traceIn, traceOut, attributes, attr, dflt);\n  }\n  var x = coerce('x');\n  var y = coerce('y');\n  var cumulative = coerce('cumulative.enabled');\n  if (cumulative) {\n    coerce('cumulative.direction');\n    coerce('cumulative.currentbin');\n  }\n  coerce('text');\n  var textposition = coerce('textposition');\n  handleText(traceIn, traceOut, layout, coerce, textposition, {\n    moduleHasSelected: true,\n    moduleHasUnselected: true,\n    moduleHasConstrain: true,\n    moduleHasCliponaxis: true,\n    moduleHasTextangle: true,\n    moduleHasInsideanchor: true\n  });\n  coerce('hovertext');\n  coerce('hovertemplate');\n  coerce('xhoverformat');\n  coerce('yhoverformat');\n  var orientation = coerce('orientation', y && !x ? 'h' : 'v');\n  var sampleLetter = orientation === 'v' ? 'x' : 'y';\n  var aggLetter = orientation === 'v' ? 'y' : 'x';\n  var len = x && y ? Math.min(Lib.minRowLength(x) && Lib.minRowLength(y)) : Lib.minRowLength(traceOut[sampleLetter] || []);\n  if (!len) {\n    traceOut.visible = false;\n    return;\n  }\n  traceOut._length = len;\n  var handleCalendarDefaults = Registry.getComponentMethod('calendars', 'handleTraceDefaults');\n  handleCalendarDefaults(traceIn, traceOut, ['x', 'y'], layout);\n  var hasAggregationData = traceOut[aggLetter];\n  if (hasAggregationData) coerce('histfunc');\n  coerce('histnorm');\n\n  // Note: bin defaults are now handled in Histogram.crossTraceDefaults\n  // autobin(x|y) are only included here to appease Plotly.validate\n  coerce('autobin' + sampleLetter);\n  handleStyleDefaults(traceIn, traceOut, coerce, defaultColor, layout);\n  Lib.coerceSelectionMarkerOpacity(traceOut, coerce);\n  var lineColor = (traceOut.marker.line || {}).color;\n\n  // override defaultColor for error bars with defaultLine\n  var errorBarsSupplyDefaults = Registry.getComponentMethod('errorbars', 'supplyDefaults');\n  errorBarsSupplyDefaults(traceIn, traceOut, lineColor || Color.defaultLine, {\n    axis: 'y'\n  });\n  errorBarsSupplyDefaults(traceIn, traceOut, lineColor || Color.defaultLine, {\n    axis: 'x',\n    inherit: 'y'\n  });\n  coerce('zorder');\n};","map":{"version":3,"names":["Registry","require","Lib","Color","handleText","handleStyleDefaults","attributes","module","exports","supplyDefaults","traceIn","traceOut","defaultColor","layout","coerce","attr","dflt","x","y","cumulative","textposition","moduleHasSelected","moduleHasUnselected","moduleHasConstrain","moduleHasCliponaxis","moduleHasTextangle","moduleHasInsideanchor","orientation","sampleLetter","aggLetter","len","Math","min","minRowLength","visible","_length","handleCalendarDefaults","getComponentMethod","hasAggregationData","coerceSelectionMarkerOpacity","lineColor","marker","line","color","errorBarsSupplyDefaults","defaultLine","axis","inherit"],"sources":["E:/tog_workspace/TestFabric_main/TestFabric-main/node_modules/plotly.js/src/traces/histogram/defaults.js"],"sourcesContent":["'use strict';\n\nvar Registry = require('../../registry');\nvar Lib = require('../../lib');\nvar Color = require('../../components/color');\n\nvar handleText = require('../bar/defaults').handleText;\nvar handleStyleDefaults = require('../bar/style_defaults');\nvar attributes = require('./attributes');\n\nmodule.exports = function supplyDefaults(traceIn, traceOut, defaultColor, layout) {\n    function coerce(attr, dflt) {\n        return Lib.coerce(traceIn, traceOut, attributes, attr, dflt);\n    }\n\n    var x = coerce('x');\n    var y = coerce('y');\n\n    var cumulative = coerce('cumulative.enabled');\n    if(cumulative) {\n        coerce('cumulative.direction');\n        coerce('cumulative.currentbin');\n    }\n\n    coerce('text');\n    var textposition = coerce('textposition');\n    handleText(traceIn, traceOut, layout, coerce, textposition, {\n        moduleHasSelected: true,\n        moduleHasUnselected: true,\n        moduleHasConstrain: true,\n        moduleHasCliponaxis: true,\n        moduleHasTextangle: true,\n        moduleHasInsideanchor: true\n    });\n\n    coerce('hovertext');\n    coerce('hovertemplate');\n    coerce('xhoverformat');\n    coerce('yhoverformat');\n\n    var orientation = coerce('orientation', (y && !x) ? 'h' : 'v');\n    var sampleLetter = orientation === 'v' ? 'x' : 'y';\n    var aggLetter = orientation === 'v' ? 'y' : 'x';\n\n    var len = (x && y) ?\n        Math.min(Lib.minRowLength(x) && Lib.minRowLength(y)) :\n        Lib.minRowLength(traceOut[sampleLetter] || []);\n\n    if(!len) {\n        traceOut.visible = false;\n        return;\n    }\n\n    traceOut._length = len;\n\n    var handleCalendarDefaults = Registry.getComponentMethod('calendars', 'handleTraceDefaults');\n    handleCalendarDefaults(traceIn, traceOut, ['x', 'y'], layout);\n\n    var hasAggregationData = traceOut[aggLetter];\n    if(hasAggregationData) coerce('histfunc');\n    coerce('histnorm');\n\n    // Note: bin defaults are now handled in Histogram.crossTraceDefaults\n    // autobin(x|y) are only included here to appease Plotly.validate\n    coerce('autobin' + sampleLetter);\n\n    handleStyleDefaults(traceIn, traceOut, coerce, defaultColor, layout);\n\n    Lib.coerceSelectionMarkerOpacity(traceOut, coerce);\n\n    var lineColor = (traceOut.marker.line || {}).color;\n\n    // override defaultColor for error bars with defaultLine\n    var errorBarsSupplyDefaults = Registry.getComponentMethod('errorbars', 'supplyDefaults');\n    errorBarsSupplyDefaults(traceIn, traceOut, lineColor || Color.defaultLine, {axis: 'y'});\n    errorBarsSupplyDefaults(traceIn, traceOut, lineColor || Color.defaultLine, {axis: 'x', inherit: 'y'});\n\n    coerce('zorder');\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}