{"ast":null,"code":"'use strict';\n\nvar isNumeric = require('fast-isnumeric');\nvar tinycolor = require('tinycolor2');\nvar extendFlat = require('./extend').extendFlat;\nvar baseTraceAttrs = require('../plots/attributes');\nvar colorscales = require('../components/colorscale/scales');\nvar Color = require('../components/color');\nvar DESELECTDIM = require('../constants/interactions').DESELECTDIM;\nvar nestedProperty = require('./nested_property');\nvar counterRegex = require('./regex').counter;\nvar modHalf = require('./mod').modHalf;\nvar isArrayOrTypedArray = require('./array').isArrayOrTypedArray;\nvar isTypedArraySpec = require('./array').isTypedArraySpec;\nvar decodeTypedArraySpec = require('./array').decodeTypedArraySpec;\nexports.valObjectMeta = {\n  data_array: {\n    // You can use *dflt=[] to force said array to exist though.\n    description: ['An {array} of data.', 'The value must represent an {array} or it will be ignored,', 'but this array can be provided in several forms:', '(1) a regular {array} object', '(2) a typed array (e.g. Float32Array)', '(3) an object with keys dtype, bdata, and optionally shape.', 'In this 3rd form, dtype is one of', '*f8*, *f4*.', '*i4*, *u4*,', '*i2*, *u2*,', '*i1*, *u1* or *u1c* for Uint8ClampedArray.', 'In addition to shorthand `dtype` above one could also use the following forms:', '*float64*, *float32*,', '*int32*, *uint32*,', '*int16*, *uint16*,', '*int8*, *uint8* or *uint8c* for Uint8ClampedArray.', '`bdata` is either a base64-encoded string or the ArrayBuffer of', 'an integer or float typed array.', 'For either multi-dimensional arrays you must also', 'provide its dimensions separated by comma via `shape`.', 'For example using `dtype`: *f4* and `shape`: *5,100* you can', 'declare a 2-D array that has 5 rows and 100 columns', 'containing float32 values i.e. 4 bits per value.', '`shape` is optional for one dimensional arrays.'].join(' '),\n    requiredOpts: [],\n    otherOpts: ['dflt'],\n    coerceFunction: function (v, propOut, dflt) {\n      propOut.set(isArrayOrTypedArray(v) ? v : isTypedArraySpec(v) ? decodeTypedArraySpec(v) : dflt);\n    }\n  },\n  enumerated: {\n    description: ['Enumerated value type. The available values are listed', 'in `values`.'].join(' '),\n    requiredOpts: ['values'],\n    otherOpts: ['dflt', 'coerceNumber', 'arrayOk'],\n    coerceFunction: function (v, propOut, dflt, opts) {\n      if (opts.coerceNumber) v = +v;\n      if (opts.values.indexOf(v) === -1) propOut.set(dflt);else propOut.set(v);\n    },\n    validateFunction: function (v, opts) {\n      if (opts.coerceNumber) v = +v;\n      var values = opts.values;\n      for (var i = 0; i < values.length; i++) {\n        var k = String(values[i]);\n        if (k.charAt(0) === '/' && k.charAt(k.length - 1) === '/') {\n          var regex = new RegExp(k.substr(1, k.length - 2));\n          if (regex.test(v)) return true;\n        } else if (v === values[i]) return true;\n      }\n      return false;\n    }\n  },\n  boolean: {\n    description: 'A boolean (true/false) value.',\n    requiredOpts: [],\n    otherOpts: ['dflt'],\n    coerceFunction: function (v, propOut, dflt) {\n      if (v === true || v === false) propOut.set(v);else propOut.set(dflt);\n    }\n  },\n  number: {\n    description: ['A number or a numeric value', '(e.g. a number inside a string).', 'When applicable, values greater (less) than `max` (`min`)', 'are coerced to the `dflt`.'].join(' '),\n    requiredOpts: [],\n    otherOpts: ['dflt', 'min', 'max', 'arrayOk'],\n    coerceFunction: function (v, propOut, dflt, opts) {\n      if (isTypedArraySpec(v)) v = decodeTypedArraySpec(v);\n      if (!isNumeric(v) || opts.min !== undefined && v < opts.min || opts.max !== undefined && v > opts.max) {\n        propOut.set(dflt);\n      } else propOut.set(+v);\n    }\n  },\n  integer: {\n    description: ['An integer or an integer inside a string.', 'When applicable, values greater (less) than `max` (`min`)', 'are coerced to the `dflt`.'].join(' '),\n    requiredOpts: [],\n    otherOpts: ['dflt', 'min', 'max', 'arrayOk', 'extras'],\n    coerceFunction: function (v, propOut, dflt, opts) {\n      if ((opts.extras || []).indexOf(v) !== -1) {\n        propOut.set(v);\n        return;\n      }\n      if (isTypedArraySpec(v)) v = decodeTypedArraySpec(v);\n      if (v % 1 || !isNumeric(v) || opts.min !== undefined && v < opts.min || opts.max !== undefined && v > opts.max) {\n        propOut.set(dflt);\n      } else propOut.set(+v);\n    }\n  },\n  string: {\n    description: ['A string value.', 'Numbers are converted to strings except for attributes with', '`strict` set to true.'].join(' '),\n    requiredOpts: [],\n    // TODO 'values shouldn't be in there (edge case: 'dash' in Scatter)\n    otherOpts: ['dflt', 'noBlank', 'strict', 'arrayOk', 'values'],\n    coerceFunction: function (v, propOut, dflt, opts) {\n      if (typeof v !== 'string') {\n        var okToCoerce = typeof v === 'number';\n        if (opts.strict === true || !okToCoerce) propOut.set(dflt);else propOut.set(String(v));\n      } else if (opts.noBlank && !v) propOut.set(dflt);else propOut.set(v);\n    }\n  },\n  color: {\n    description: ['A string describing color.', 'Supported formats:', '- hex (e.g. \\'#d3d3d3\\')', '- rgb (e.g. \\'rgb(255, 0, 0)\\')', '- rgba (e.g. \\'rgb(255, 0, 0, 0.5)\\')', '- hsl (e.g. \\'hsl(0, 100%, 50%)\\')', '- hsv (e.g. \\'hsv(0, 100%, 100%)\\')', '- named colors (full list: http://www.w3.org/TR/css3-color/#svg-color)'].join(' '),\n    requiredOpts: [],\n    otherOpts: ['dflt', 'arrayOk'],\n    coerceFunction: function (v, propOut, dflt) {\n      if (isTypedArraySpec(v)) v = decodeTypedArraySpec(v);\n      if (tinycolor(v).isValid()) propOut.set(v);else propOut.set(dflt);\n    }\n  },\n  colorlist: {\n    description: ['A list of colors.', 'Must be an {array} containing valid colors.'].join(' '),\n    requiredOpts: [],\n    otherOpts: ['dflt'],\n    coerceFunction: function (v, propOut, dflt) {\n      function isColor(color) {\n        return tinycolor(color).isValid();\n      }\n      if (!Array.isArray(v) || !v.length) propOut.set(dflt);else if (v.every(isColor)) propOut.set(v);else propOut.set(dflt);\n    }\n  },\n  colorscale: {\n    description: ['A Plotly colorscale either picked by a name:', '(any of', Object.keys(colorscales.scales).join(', '), ')', 'customized as an {array} of 2-element {arrays} where', 'the first element is the normalized color level value', '(starting at *0* and ending at *1*),', 'and the second item is a valid color string.'].join(' '),\n    requiredOpts: [],\n    otherOpts: ['dflt'],\n    coerceFunction: function (v, propOut, dflt) {\n      propOut.set(colorscales.get(v, dflt));\n    }\n  },\n  angle: {\n    description: ['A number (in degree) between -180 and 180.'].join(' '),\n    requiredOpts: [],\n    otherOpts: ['dflt', 'arrayOk'],\n    coerceFunction: function (v, propOut, dflt) {\n      if (isTypedArraySpec(v)) v = decodeTypedArraySpec(v);\n      if (v === 'auto') propOut.set('auto');else if (!isNumeric(v)) propOut.set(dflt);else propOut.set(modHalf(+v, 360));\n    }\n  },\n  subplotid: {\n    description: ['An id string of a subplot type (given by dflt), optionally', 'followed by an integer >1. e.g. if dflt=\\'geo\\', we can have', '\\'geo\\', \\'geo2\\', \\'geo3\\', ...'].join(' '),\n    requiredOpts: ['dflt'],\n    otherOpts: ['regex'],\n    coerceFunction: function (v, propOut, dflt, opts) {\n      var regex = opts.regex || counterRegex(dflt);\n      if (typeof v === 'string' && regex.test(v)) {\n        propOut.set(v);\n        return;\n      }\n      propOut.set(dflt);\n    },\n    validateFunction: function (v, opts) {\n      var dflt = opts.dflt;\n      if (v === dflt) return true;\n      if (typeof v !== 'string') return false;\n      if (counterRegex(dflt).test(v)) return true;\n      return false;\n    }\n  },\n  flaglist: {\n    description: ['A string representing a combination of flags', '(order does not matter here).', 'Combine any of the available `flags` with *+*.', '(e.g. (\\'lines+markers\\')).', 'Values in `extras` cannot be combined.'].join(' '),\n    requiredOpts: ['flags'],\n    otherOpts: ['dflt', 'extras', 'arrayOk'],\n    coerceFunction: function (v, propOut, dflt, opts) {\n      if ((opts.extras || []).indexOf(v) !== -1) {\n        propOut.set(v);\n        return;\n      }\n      if (typeof v !== 'string') {\n        propOut.set(dflt);\n        return;\n      }\n      var vParts = v.split('+');\n      var i = 0;\n      while (i < vParts.length) {\n        var vi = vParts[i];\n        if (opts.flags.indexOf(vi) === -1 || vParts.indexOf(vi) < i) {\n          vParts.splice(i, 1);\n        } else i++;\n      }\n      if (!vParts.length) propOut.set(dflt);else propOut.set(vParts.join('+'));\n    }\n  },\n  any: {\n    description: 'Any type.',\n    requiredOpts: [],\n    otherOpts: ['dflt', 'values', 'arrayOk'],\n    coerceFunction: function (v, propOut, dflt) {\n      if (v === undefined) {\n        propOut.set(dflt);\n      } else {\n        propOut.set(isTypedArraySpec(v) ? decodeTypedArraySpec(v) : v);\n      }\n    }\n  },\n  info_array: {\n    description: ['An {array} of plot information.'].join(' '),\n    requiredOpts: ['items'],\n    // set `dimensions=2` for a 2D array or '1-2' for either\n    // `items` may be a single object instead of an array, in which case\n    // `freeLength` must be true.\n    // if `dimensions='1-2'` and items is a 1D array, then the value can\n    // either be a matching 1D array or an array of such matching 1D arrays\n    otherOpts: ['dflt', 'freeLength', 'dimensions'],\n    coerceFunction: function (v, propOut, dflt, opts) {\n      // simplified coerce function just for array items\n      function coercePart(v, opts, dflt) {\n        var out;\n        var propPart = {\n          set: function (v) {\n            out = v;\n          }\n        };\n        if (dflt === undefined) dflt = opts.dflt;\n        exports.valObjectMeta[opts.valType].coerceFunction(v, propPart, dflt, opts);\n        return out;\n      }\n      if (isTypedArraySpec(v)) v = decodeTypedArraySpec(v);\n      if (!isArrayOrTypedArray(v)) {\n        propOut.set(dflt);\n        return;\n      }\n      var twoD = opts.dimensions === 2 || opts.dimensions === '1-2' && Array.isArray(v) && isArrayOrTypedArray(v[0]);\n      var items = opts.items;\n      var vOut = [];\n      var arrayItems = Array.isArray(items);\n      var arrayItems2D = arrayItems && twoD && isArrayOrTypedArray(items[0]);\n      var innerItemsOnly = twoD && arrayItems && !arrayItems2D;\n      var len = arrayItems && !innerItemsOnly ? items.length : v.length;\n      var i, j, row, item, len2, vNew;\n      dflt = Array.isArray(dflt) ? dflt : [];\n      if (twoD) {\n        for (i = 0; i < len; i++) {\n          vOut[i] = [];\n          row = isArrayOrTypedArray(v[i]) ? v[i] : [];\n          if (innerItemsOnly) len2 = items.length;else if (arrayItems) len2 = items[i].length;else len2 = row.length;\n          for (j = 0; j < len2; j++) {\n            if (innerItemsOnly) item = items[j];else if (arrayItems) item = items[i][j];else item = items;\n            vNew = coercePart(row[j], item, (dflt[i] || [])[j]);\n            if (vNew !== undefined) vOut[i][j] = vNew;\n          }\n        }\n      } else {\n        for (i = 0; i < len; i++) {\n          vNew = coercePart(v[i], arrayItems ? items[i] : items, dflt[i]);\n          if (vNew !== undefined) vOut[i] = vNew;\n        }\n      }\n      propOut.set(vOut);\n    },\n    validateFunction: function (v, opts) {\n      if (!isArrayOrTypedArray(v)) return false;\n      var items = opts.items;\n      var arrayItems = Array.isArray(items);\n      var twoD = opts.dimensions === 2;\n\n      // when free length is off, input and declared lengths must match\n      if (!opts.freeLength && v.length !== items.length) return false;\n\n      // valid when all input items are valid\n      for (var i = 0; i < v.length; i++) {\n        if (twoD) {\n          if (!isArrayOrTypedArray(v[i]) || !opts.freeLength && v[i].length !== items[i].length) {\n            return false;\n          }\n          for (var j = 0; j < v[i].length; j++) {\n            if (!validate(v[i][j], arrayItems ? items[i][j] : items)) {\n              return false;\n            }\n          }\n        } else if (!validate(v[i], arrayItems ? items[i] : items)) return false;\n      }\n      return true;\n    }\n  }\n};\n\n/**\n * Ensures that container[attribute] has a valid value.\n *\n * attributes[attribute] is an object with possible keys:\n * - valType: data_array, enumerated, boolean, ... as in valObjectMeta\n * - values: (enumerated only) array of allowed vals\n * - min, max: (number, integer only) inclusive bounds on allowed vals\n *      either or both may be omitted\n * - dflt: if attribute is invalid or missing, use this default\n *      if dflt is provided as an argument to lib.coerce it takes precedence\n *      as a convenience, returns the value it finally set\n */\nexports.coerce = function (containerIn, containerOut, attributes, attribute, dflt) {\n  var opts = nestedProperty(attributes, attribute).get();\n  var propIn = nestedProperty(containerIn, attribute);\n  var propOut = nestedProperty(containerOut, attribute);\n  var v = propIn.get();\n  var template = containerOut._template;\n  if (v === undefined && template) {\n    v = nestedProperty(template, attribute).get();\n    // already used the template value, so short-circuit the second check\n    template = 0;\n  }\n  if (dflt === undefined) dflt = opts.dflt;\n  if (opts.arrayOk) {\n    if (isArrayOrTypedArray(v)) {\n      /**\n       * arrayOk: value MAY be an array, then we do no value checking\n       * at this point, because it can be more complicated than the\n       * individual form (eg. some array vals can be numbers, even if the\n       * single values must be color strings)\n       */\n\n      propOut.set(v);\n      return v;\n    } else {\n      if (isTypedArraySpec(v)) {\n        v = decodeTypedArraySpec(v);\n        propOut.set(v);\n        return v;\n      }\n    }\n  }\n  var coerceFunction = exports.valObjectMeta[opts.valType].coerceFunction;\n  coerceFunction(v, propOut, dflt, opts);\n  var out = propOut.get();\n  // in case v was provided but invalid, try the template again so it still\n  // overrides the regular default\n  if (template && out === dflt && !validate(v, opts)) {\n    v = nestedProperty(template, attribute).get();\n    coerceFunction(v, propOut, dflt, opts);\n    out = propOut.get();\n  }\n  return out;\n};\n\n/**\n * Variation on coerce\n *\n * Uses coerce to get attribute value if user input is valid,\n * returns attribute default if user input it not valid or\n * returns false if there is no user input.\n */\nexports.coerce2 = function (containerIn, containerOut, attributes, attribute, dflt) {\n  var propIn = nestedProperty(containerIn, attribute);\n  var propOut = exports.coerce(containerIn, containerOut, attributes, attribute, dflt);\n  var valIn = propIn.get();\n  return valIn !== undefined && valIn !== null ? propOut : false;\n};\n\n/*\n * Shortcut to coerce the three font attributes\n *\n * 'coerce' is a lib.coerce wrapper with implied first three arguments\n */\nexports.coerceFont = function (coerce, attr, dfltObj, opts) {\n  if (!opts) opts = {};\n  dfltObj = extendFlat({}, dfltObj);\n  dfltObj = extendFlat(dfltObj, opts.overrideDflt || {});\n  var out = {\n    family: coerce(attr + '.family', dfltObj.family),\n    size: coerce(attr + '.size', dfltObj.size),\n    color: coerce(attr + '.color', dfltObj.color),\n    weight: coerce(attr + '.weight', dfltObj.weight),\n    style: coerce(attr + '.style', dfltObj.style)\n  };\n  if (!opts.noFontVariant) out.variant = coerce(attr + '.variant', dfltObj.variant);\n  if (!opts.noFontLineposition) out.lineposition = coerce(attr + '.lineposition', dfltObj.lineposition);\n  if (!opts.noFontTextcase) out.textcase = coerce(attr + '.textcase', dfltObj.textcase);\n  if (!opts.noFontShadow) {\n    var dfltShadow = dfltObj.shadow;\n    if (dfltShadow === 'none' && opts.autoShadowDflt) {\n      dfltShadow = 'auto';\n    }\n    out.shadow = coerce(attr + '.shadow', dfltShadow);\n  }\n  return out;\n};\n\n/*\n * Shortcut to coerce the pattern attributes\n */\nexports.coercePattern = function (coerce, attr, markerColor, hasMarkerColorscale) {\n  var shape = coerce(attr + '.shape');\n  if (shape) {\n    coerce(attr + '.solidity');\n    coerce(attr + '.size');\n    var fillmode = coerce(attr + '.fillmode');\n    var isOverlay = fillmode === 'overlay';\n    if (!hasMarkerColorscale) {\n      var bgcolor = coerce(attr + '.bgcolor', isOverlay ? markerColor : undefined);\n      coerce(attr + '.fgcolor', isOverlay ? Color.contrast(bgcolor) : markerColor);\n    }\n    coerce(attr + '.fgopacity', isOverlay ? 0.5 : 1);\n  }\n};\n\n/** Coerce shortcut for 'hoverinfo'\n * handling 1-vs-multi-trace dflt logic\n *\n * @param {object} traceIn : user trace object\n * @param {object} traceOut : full trace object (requires _module ref)\n * @param {object} layoutOut : full layout object (require _dataLength ref)\n * @return {any} : the coerced value\n */\nexports.coerceHoverinfo = function (traceIn, traceOut, layoutOut) {\n  var moduleAttrs = traceOut._module.attributes;\n  var attrs = moduleAttrs.hoverinfo ? moduleAttrs : baseTraceAttrs;\n  var valObj = attrs.hoverinfo;\n  var dflt;\n  if (layoutOut._dataLength === 1) {\n    var flags = valObj.dflt === 'all' ? valObj.flags.slice() : valObj.dflt.split('+');\n    flags.splice(flags.indexOf('name'), 1);\n    dflt = flags.join('+');\n  }\n  return exports.coerce(traceIn, traceOut, attrs, 'hoverinfo', dflt);\n};\n\n/** Coerce shortcut for [un]selected.marker.opacity,\n *  which has special default logic, to ensure that it corresponds to the\n *  default selection behavior while allowing to be overtaken by any other\n *  [un]selected attribute.\n *\n *  N.B. This must be called *after* coercing all the other [un]selected attrs,\n *  to give the intended result.\n *\n * @param {object} traceOut : fullData item\n * @param {function} coerce : lib.coerce wrapper with implied first three arguments\n */\nexports.coerceSelectionMarkerOpacity = function (traceOut, coerce) {\n  if (!traceOut.marker) return;\n  var mo = traceOut.marker.opacity;\n  // you can still have a `marker` container with no markers if there's text\n  if (mo === undefined) return;\n  var smoDflt;\n  var usmoDflt;\n\n  // Don't give [un]selected.marker.opacity a default value if\n  // marker.opacity is an array: handle this during style step.\n  //\n  // Only give [un]selected.marker.opacity a default value if you don't\n  // set any other [un]selected attributes.\n  if (!isArrayOrTypedArray(mo) && !traceOut.selected && !traceOut.unselected) {\n    smoDflt = mo;\n    usmoDflt = DESELECTDIM * mo;\n  }\n  coerce('selected.marker.opacity', smoDflt);\n  coerce('unselected.marker.opacity', usmoDflt);\n};\nfunction validate(value, opts) {\n  var valObjectDef = exports.valObjectMeta[opts.valType];\n  if (opts.arrayOk && isArrayOrTypedArray(value)) return true;\n  if (valObjectDef.validateFunction) {\n    return valObjectDef.validateFunction(value, opts);\n  }\n  var failed = {};\n  var out = failed;\n  var propMock = {\n    set: function (v) {\n      out = v;\n    }\n  };\n\n  // 'failed' just something mutable that won't be === anything else\n\n  valObjectDef.coerceFunction(value, propMock, failed, opts);\n  return out !== failed;\n}\nexports.validate = validate;","map":{"version":3,"names":["isNumeric","require","tinycolor","extendFlat","baseTraceAttrs","colorscales","Color","DESELECTDIM","nestedProperty","counterRegex","counter","modHalf","isArrayOrTypedArray","isTypedArraySpec","decodeTypedArraySpec","exports","valObjectMeta","data_array","description","join","requiredOpts","otherOpts","coerceFunction","v","propOut","dflt","set","enumerated","opts","coerceNumber","values","indexOf","validateFunction","i","length","k","String","charAt","regex","RegExp","substr","test","boolean","number","min","undefined","max","integer","extras","string","okToCoerce","strict","noBlank","color","isValid","colorlist","isColor","Array","isArray","every","colorscale","Object","keys","scales","get","angle","subplotid","flaglist","vParts","split","vi","flags","splice","any","info_array","coercePart","out","propPart","valType","twoD","dimensions","items","vOut","arrayItems","arrayItems2D","innerItemsOnly","len","j","row","item","len2","vNew","freeLength","validate","coerce","containerIn","containerOut","attributes","attribute","propIn","template","_template","arrayOk","coerce2","valIn","coerceFont","attr","dfltObj","overrideDflt","family","size","weight","style","noFontVariant","variant","noFontLineposition","lineposition","noFontTextcase","textcase","noFontShadow","dfltShadow","shadow","autoShadowDflt","coercePattern","markerColor","hasMarkerColorscale","shape","fillmode","isOverlay","bgcolor","contrast","coerceHoverinfo","traceIn","traceOut","layoutOut","moduleAttrs","_module","attrs","hoverinfo","valObj","_dataLength","slice","coerceSelectionMarkerOpacity","marker","mo","opacity","smoDflt","usmoDflt","selected","unselected","value","valObjectDef","failed","propMock"],"sources":["E:/tog_workspace/TestFabric_main/TestFabric-main/node_modules/plotly.js/src/lib/coerce.js"],"sourcesContent":["'use strict';\n\nvar isNumeric = require('fast-isnumeric');\nvar tinycolor = require('tinycolor2');\n\nvar extendFlat = require('./extend').extendFlat;\n\nvar baseTraceAttrs = require('../plots/attributes');\nvar colorscales = require('../components/colorscale/scales');\nvar Color = require('../components/color');\nvar DESELECTDIM = require('../constants/interactions').DESELECTDIM;\n\nvar nestedProperty = require('./nested_property');\nvar counterRegex = require('./regex').counter;\nvar modHalf = require('./mod').modHalf;\nvar isArrayOrTypedArray = require('./array').isArrayOrTypedArray;\nvar isTypedArraySpec = require('./array').isTypedArraySpec;\nvar decodeTypedArraySpec = require('./array').decodeTypedArraySpec;\n\nexports.valObjectMeta = {\n    data_array: {\n        // You can use *dflt=[] to force said array to exist though.\n        description: [\n            'An {array} of data.',\n            'The value must represent an {array} or it will be ignored,',\n            'but this array can be provided in several forms:',\n            '(1) a regular {array} object',\n            '(2) a typed array (e.g. Float32Array)',\n            '(3) an object with keys dtype, bdata, and optionally shape.',\n            'In this 3rd form, dtype is one of',\n            '*f8*, *f4*.',\n            '*i4*, *u4*,',\n            '*i2*, *u2*,',\n            '*i1*, *u1* or *u1c* for Uint8ClampedArray.',\n            'In addition to shorthand `dtype` above one could also use the following forms:',\n            '*float64*, *float32*,',\n            '*int32*, *uint32*,',\n            '*int16*, *uint16*,',\n            '*int8*, *uint8* or *uint8c* for Uint8ClampedArray.',\n            '`bdata` is either a base64-encoded string or the ArrayBuffer of',\n            'an integer or float typed array.',\n            'For either multi-dimensional arrays you must also',\n            'provide its dimensions separated by comma via `shape`.',\n            'For example using `dtype`: *f4* and `shape`: *5,100* you can',\n            'declare a 2-D array that has 5 rows and 100 columns',\n            'containing float32 values i.e. 4 bits per value.',\n            '`shape` is optional for one dimensional arrays.'\n        ].join(' '),\n        requiredOpts: [],\n        otherOpts: ['dflt'],\n        coerceFunction: function(v, propOut, dflt) {\n            propOut.set(\n                isArrayOrTypedArray(v) ? v :\n                isTypedArraySpec(v) ? decodeTypedArraySpec(v) :\n                dflt\n            );\n        }\n    },\n    enumerated: {\n        description: [\n            'Enumerated value type. The available values are listed',\n            'in `values`.'\n        ].join(' '),\n        requiredOpts: ['values'],\n        otherOpts: ['dflt', 'coerceNumber', 'arrayOk'],\n        coerceFunction: function(v, propOut, dflt, opts) {\n            if(opts.coerceNumber) v = +v;\n            if(opts.values.indexOf(v) === -1) propOut.set(dflt);\n            else propOut.set(v);\n        },\n        validateFunction: function(v, opts) {\n            if(opts.coerceNumber) v = +v;\n\n            var values = opts.values;\n            for(var i = 0; i < values.length; i++) {\n                var k = String(values[i]);\n\n                if((k.charAt(0) === '/' && k.charAt(k.length - 1) === '/')) {\n                    var regex = new RegExp(k.substr(1, k.length - 2));\n                    if(regex.test(v)) return true;\n                } else if(v === values[i]) return true;\n            }\n            return false;\n        }\n    },\n    boolean: {\n        description: 'A boolean (true/false) value.',\n        requiredOpts: [],\n        otherOpts: ['dflt'],\n        coerceFunction: function(v, propOut, dflt) {\n            if(v === true || v === false) propOut.set(v);\n            else propOut.set(dflt);\n        }\n    },\n    number: {\n        description: [\n            'A number or a numeric value',\n            '(e.g. a number inside a string).',\n            'When applicable, values greater (less) than `max` (`min`)',\n            'are coerced to the `dflt`.'\n        ].join(' '),\n        requiredOpts: [],\n        otherOpts: ['dflt', 'min', 'max', 'arrayOk'],\n        coerceFunction: function(v, propOut, dflt, opts) {\n            if(isTypedArraySpec(v)) v = decodeTypedArraySpec(v);\n\n            if(!isNumeric(v) ||\n                    (opts.min !== undefined && v < opts.min) ||\n                    (opts.max !== undefined && v > opts.max)) {\n                propOut.set(dflt);\n            } else propOut.set(+v);\n        }\n    },\n    integer: {\n        description: [\n            'An integer or an integer inside a string.',\n            'When applicable, values greater (less) than `max` (`min`)',\n            'are coerced to the `dflt`.'\n        ].join(' '),\n        requiredOpts: [],\n        otherOpts: ['dflt', 'min', 'max', 'arrayOk', 'extras'],\n        coerceFunction: function(v, propOut, dflt, opts) {\n            if((opts.extras || []).indexOf(v) !== -1) {\n                propOut.set(v);\n                return;\n            }\n\n            if(isTypedArraySpec(v)) v = decodeTypedArraySpec(v);\n\n            if(v % 1 || !isNumeric(v) ||\n                    (opts.min !== undefined && v < opts.min) ||\n                    (opts.max !== undefined && v > opts.max)) {\n                propOut.set(dflt);\n            } else propOut.set(+v);\n        }\n    },\n    string: {\n        description: [\n            'A string value.',\n            'Numbers are converted to strings except for attributes with',\n            '`strict` set to true.'\n        ].join(' '),\n        requiredOpts: [],\n        // TODO 'values shouldn't be in there (edge case: 'dash' in Scatter)\n        otherOpts: ['dflt', 'noBlank', 'strict', 'arrayOk', 'values'],\n        coerceFunction: function(v, propOut, dflt, opts) {\n            if(typeof v !== 'string') {\n                var okToCoerce = (typeof v === 'number');\n\n                if(opts.strict === true || !okToCoerce) propOut.set(dflt);\n                else propOut.set(String(v));\n            } else if(opts.noBlank && !v) propOut.set(dflt);\n            else propOut.set(v);\n        }\n    },\n    color: {\n        description: [\n            'A string describing color.',\n            'Supported formats:',\n            '- hex (e.g. \\'#d3d3d3\\')',\n            '- rgb (e.g. \\'rgb(255, 0, 0)\\')',\n            '- rgba (e.g. \\'rgb(255, 0, 0, 0.5)\\')',\n            '- hsl (e.g. \\'hsl(0, 100%, 50%)\\')',\n            '- hsv (e.g. \\'hsv(0, 100%, 100%)\\')',\n            '- named colors (full list: http://www.w3.org/TR/css3-color/#svg-color)'\n        ].join(' '),\n        requiredOpts: [],\n        otherOpts: ['dflt', 'arrayOk'],\n        coerceFunction: function(v, propOut, dflt) {\n            if(isTypedArraySpec(v)) v = decodeTypedArraySpec(v);\n\n            if(tinycolor(v).isValid()) propOut.set(v);\n            else propOut.set(dflt);\n        }\n    },\n    colorlist: {\n        description: [\n            'A list of colors.',\n            'Must be an {array} containing valid colors.',\n        ].join(' '),\n        requiredOpts: [],\n        otherOpts: ['dflt'],\n        coerceFunction: function(v, propOut, dflt) {\n            function isColor(color) {\n                return tinycolor(color).isValid();\n            }\n            if(!Array.isArray(v) || !v.length) propOut.set(dflt);\n            else if(v.every(isColor)) propOut.set(v);\n            else propOut.set(dflt);\n        }\n    },\n    colorscale: {\n        description: [\n            'A Plotly colorscale either picked by a name:',\n            '(any of', Object.keys(colorscales.scales).join(', '), ')',\n            'customized as an {array} of 2-element {arrays} where',\n            'the first element is the normalized color level value',\n            '(starting at *0* and ending at *1*),',\n            'and the second item is a valid color string.'\n        ].join(' '),\n        requiredOpts: [],\n        otherOpts: ['dflt'],\n        coerceFunction: function(v, propOut, dflt) {\n            propOut.set(colorscales.get(v, dflt));\n        }\n    },\n    angle: {\n        description: [\n            'A number (in degree) between -180 and 180.'\n        ].join(' '),\n        requiredOpts: [],\n        otherOpts: ['dflt', 'arrayOk'],\n        coerceFunction: function(v, propOut, dflt) {\n            if(isTypedArraySpec(v)) v = decodeTypedArraySpec(v);\n\n            if(v === 'auto') propOut.set('auto');\n            else if(!isNumeric(v)) propOut.set(dflt);\n            else propOut.set(modHalf(+v, 360));\n        }\n    },\n    subplotid: {\n        description: [\n            'An id string of a subplot type (given by dflt), optionally',\n            'followed by an integer >1. e.g. if dflt=\\'geo\\', we can have',\n            '\\'geo\\', \\'geo2\\', \\'geo3\\', ...'\n        ].join(' '),\n        requiredOpts: ['dflt'],\n        otherOpts: ['regex'],\n        coerceFunction: function(v, propOut, dflt, opts) {\n            var regex = opts.regex || counterRegex(dflt);\n            if(typeof v === 'string' && regex.test(v)) {\n                propOut.set(v);\n                return;\n            }\n            propOut.set(dflt);\n        },\n        validateFunction: function(v, opts) {\n            var dflt = opts.dflt;\n\n            if(v === dflt) return true;\n            if(typeof v !== 'string') return false;\n            if(counterRegex(dflt).test(v)) return true;\n\n            return false;\n        }\n    },\n    flaglist: {\n        description: [\n            'A string representing a combination of flags',\n            '(order does not matter here).',\n            'Combine any of the available `flags` with *+*.',\n            '(e.g. (\\'lines+markers\\')).',\n            'Values in `extras` cannot be combined.'\n        ].join(' '),\n        requiredOpts: ['flags'],\n        otherOpts: ['dflt', 'extras', 'arrayOk'],\n        coerceFunction: function(v, propOut, dflt, opts) {\n            if((opts.extras || []).indexOf(v) !== -1) {\n                propOut.set(v);\n                return;\n            }\n            if(typeof v !== 'string') {\n                propOut.set(dflt);\n                return;\n            }\n            var vParts = v.split('+');\n            var i = 0;\n            while(i < vParts.length) {\n                var vi = vParts[i];\n                if(opts.flags.indexOf(vi) === -1 || vParts.indexOf(vi) < i) {\n                    vParts.splice(i, 1);\n                } else i++;\n            }\n            if(!vParts.length) propOut.set(dflt);\n            else propOut.set(vParts.join('+'));\n        }\n    },\n    any: {\n        description: 'Any type.',\n        requiredOpts: [],\n        otherOpts: ['dflt', 'values', 'arrayOk'],\n        coerceFunction: function(v, propOut, dflt) {\n            if(v === undefined) {\n                propOut.set(dflt);\n            } else {\n                propOut.set(\n                    isTypedArraySpec(v) ? decodeTypedArraySpec(v) :\n                    v\n                );\n            }\n        }\n    },\n    info_array: {\n        description: [\n            'An {array} of plot information.'\n        ].join(' '),\n        requiredOpts: ['items'],\n        // set `dimensions=2` for a 2D array or '1-2' for either\n        // `items` may be a single object instead of an array, in which case\n        // `freeLength` must be true.\n        // if `dimensions='1-2'` and items is a 1D array, then the value can\n        // either be a matching 1D array or an array of such matching 1D arrays\n        otherOpts: ['dflt', 'freeLength', 'dimensions'],\n        coerceFunction: function(v, propOut, dflt, opts) {\n            // simplified coerce function just for array items\n            function coercePart(v, opts, dflt) {\n                var out;\n                var propPart = {set: function(v) { out = v; }};\n\n                if(dflt === undefined) dflt = opts.dflt;\n\n                exports.valObjectMeta[opts.valType].coerceFunction(v, propPart, dflt, opts);\n\n                return out;\n            }\n\n            if(isTypedArraySpec(v)) v = decodeTypedArraySpec(v);\n\n            if(!isArrayOrTypedArray(v)) {\n                propOut.set(dflt);\n                return;\n            }\n\n            var twoD = opts.dimensions === 2 || (opts.dimensions === '1-2' && Array.isArray(v) && isArrayOrTypedArray(v[0]));\n\n            var items = opts.items;\n            var vOut = [];\n            var arrayItems = Array.isArray(items);\n            var arrayItems2D = arrayItems && twoD && isArrayOrTypedArray(items[0]);\n            var innerItemsOnly = twoD && arrayItems && !arrayItems2D;\n            var len = (arrayItems && !innerItemsOnly) ? items.length : v.length;\n\n            var i, j, row, item, len2, vNew;\n\n            dflt = Array.isArray(dflt) ? dflt : [];\n\n            if(twoD) {\n                for(i = 0; i < len; i++) {\n                    vOut[i] = [];\n                    row = isArrayOrTypedArray(v[i]) ? v[i] : [];\n                    if(innerItemsOnly) len2 = items.length;\n                    else if(arrayItems) len2 = items[i].length;\n                    else len2 = row.length;\n\n                    for(j = 0; j < len2; j++) {\n                        if(innerItemsOnly) item = items[j];\n                        else if(arrayItems) item = items[i][j];\n                        else item = items;\n\n                        vNew = coercePart(row[j], item, (dflt[i] || [])[j]);\n                        if(vNew !== undefined) vOut[i][j] = vNew;\n                    }\n                }\n            } else {\n                for(i = 0; i < len; i++) {\n                    vNew = coercePart(v[i], arrayItems ? items[i] : items, dflt[i]);\n                    if(vNew !== undefined) vOut[i] = vNew;\n                }\n            }\n\n            propOut.set(vOut);\n        },\n        validateFunction: function(v, opts) {\n            if(!isArrayOrTypedArray(v)) return false;\n\n            var items = opts.items;\n            var arrayItems = Array.isArray(items);\n            var twoD = opts.dimensions === 2;\n\n            // when free length is off, input and declared lengths must match\n            if(!opts.freeLength && v.length !== items.length) return false;\n\n            // valid when all input items are valid\n            for(var i = 0; i < v.length; i++) {\n                if(twoD) {\n                    if(!isArrayOrTypedArray(v[i]) || (!opts.freeLength && v[i].length !== items[i].length)) {\n                        return false;\n                    }\n                    for(var j = 0; j < v[i].length; j++) {\n                        if(!validate(v[i][j], arrayItems ? items[i][j] : items)) {\n                            return false;\n                        }\n                    }\n                } else if(!validate(v[i], arrayItems ? items[i] : items)) return false;\n            }\n\n            return true;\n        }\n    }\n};\n\n/**\n * Ensures that container[attribute] has a valid value.\n *\n * attributes[attribute] is an object with possible keys:\n * - valType: data_array, enumerated, boolean, ... as in valObjectMeta\n * - values: (enumerated only) array of allowed vals\n * - min, max: (number, integer only) inclusive bounds on allowed vals\n *      either or both may be omitted\n * - dflt: if attribute is invalid or missing, use this default\n *      if dflt is provided as an argument to lib.coerce it takes precedence\n *      as a convenience, returns the value it finally set\n */\nexports.coerce = function(containerIn, containerOut, attributes, attribute, dflt) {\n    var opts = nestedProperty(attributes, attribute).get();\n    var propIn = nestedProperty(containerIn, attribute);\n    var propOut = nestedProperty(containerOut, attribute);\n    var v = propIn.get();\n\n    var template = containerOut._template;\n    if(v === undefined && template) {\n        v = nestedProperty(template, attribute).get();\n        // already used the template value, so short-circuit the second check\n        template = 0;\n    }\n\n    if(dflt === undefined) dflt = opts.dflt;\n\n    if(opts.arrayOk) {\n        if(isArrayOrTypedArray(v)) {\n            /**\n             * arrayOk: value MAY be an array, then we do no value checking\n             * at this point, because it can be more complicated than the\n             * individual form (eg. some array vals can be numbers, even if the\n             * single values must be color strings)\n             */\n\n            propOut.set(v);\n            return v;\n        } else {\n            if(isTypedArraySpec(v)) {\n                v = decodeTypedArraySpec(v);\n                propOut.set(v);\n                return v;\n            }\n        }\n    }\n\n    var coerceFunction = exports.valObjectMeta[opts.valType].coerceFunction;\n    coerceFunction(v, propOut, dflt, opts);\n\n    var out = propOut.get();\n    // in case v was provided but invalid, try the template again so it still\n    // overrides the regular default\n    if(template && out === dflt && !validate(v, opts)) {\n        v = nestedProperty(template, attribute).get();\n        coerceFunction(v, propOut, dflt, opts);\n        out = propOut.get();\n    }\n    return out;\n};\n\n/**\n * Variation on coerce\n *\n * Uses coerce to get attribute value if user input is valid,\n * returns attribute default if user input it not valid or\n * returns false if there is no user input.\n */\nexports.coerce2 = function(containerIn, containerOut, attributes, attribute, dflt) {\n    var propIn = nestedProperty(containerIn, attribute);\n    var propOut = exports.coerce(containerIn, containerOut, attributes, attribute, dflt);\n    var valIn = propIn.get();\n\n    return (valIn !== undefined && valIn !== null) ? propOut : false;\n};\n\n/*\n * Shortcut to coerce the three font attributes\n *\n * 'coerce' is a lib.coerce wrapper with implied first three arguments\n */\nexports.coerceFont = function(coerce, attr, dfltObj, opts) {\n    if(!opts) opts = {};\n    dfltObj = extendFlat({}, dfltObj);\n    dfltObj = extendFlat(dfltObj, opts.overrideDflt || {});\n\n    var out = {\n        family: coerce(attr + '.family', dfltObj.family),\n        size: coerce(attr + '.size', dfltObj.size),\n        color: coerce(attr + '.color', dfltObj.color),\n        weight: coerce(attr + '.weight', dfltObj.weight),\n        style: coerce(attr + '.style', dfltObj.style),\n    };\n\n    if(!opts.noFontVariant) out.variant = coerce(attr + '.variant', dfltObj.variant);\n    if(!opts.noFontLineposition) out.lineposition = coerce(attr + '.lineposition', dfltObj.lineposition);\n    if(!opts.noFontTextcase) out.textcase = coerce(attr + '.textcase', dfltObj.textcase);\n    if(!opts.noFontShadow) {\n        var dfltShadow = dfltObj.shadow;\n        if(dfltShadow === 'none' && opts.autoShadowDflt) {\n            dfltShadow = 'auto';\n        }\n        out.shadow = coerce(attr + '.shadow', dfltShadow);\n    }\n\n    return out;\n};\n\n/*\n * Shortcut to coerce the pattern attributes\n */\nexports.coercePattern = function(coerce, attr, markerColor, hasMarkerColorscale) {\n    var shape = coerce(attr + '.shape');\n    if(shape) {\n        coerce(attr + '.solidity');\n        coerce(attr + '.size');\n        var fillmode = coerce(attr + '.fillmode');\n        var isOverlay = fillmode === 'overlay';\n\n        if(!hasMarkerColorscale) {\n            var bgcolor = coerce(attr + '.bgcolor', isOverlay ?\n                markerColor :\n                undefined\n            );\n\n            coerce(attr + '.fgcolor', isOverlay ?\n                Color.contrast(bgcolor) :\n                markerColor\n            );\n        }\n\n        coerce(attr + '.fgopacity', isOverlay ?\n            0.5 :\n            1\n        );\n    }\n};\n\n/** Coerce shortcut for 'hoverinfo'\n * handling 1-vs-multi-trace dflt logic\n *\n * @param {object} traceIn : user trace object\n * @param {object} traceOut : full trace object (requires _module ref)\n * @param {object} layoutOut : full layout object (require _dataLength ref)\n * @return {any} : the coerced value\n */\nexports.coerceHoverinfo = function(traceIn, traceOut, layoutOut) {\n    var moduleAttrs = traceOut._module.attributes;\n    var attrs = moduleAttrs.hoverinfo ? moduleAttrs : baseTraceAttrs;\n\n    var valObj = attrs.hoverinfo;\n    var dflt;\n\n    if(layoutOut._dataLength === 1) {\n        var flags = valObj.dflt === 'all' ?\n            valObj.flags.slice() :\n            valObj.dflt.split('+');\n\n        flags.splice(flags.indexOf('name'), 1);\n        dflt = flags.join('+');\n    }\n\n    return exports.coerce(traceIn, traceOut, attrs, 'hoverinfo', dflt);\n};\n\n/** Coerce shortcut for [un]selected.marker.opacity,\n *  which has special default logic, to ensure that it corresponds to the\n *  default selection behavior while allowing to be overtaken by any other\n *  [un]selected attribute.\n *\n *  N.B. This must be called *after* coercing all the other [un]selected attrs,\n *  to give the intended result.\n *\n * @param {object} traceOut : fullData item\n * @param {function} coerce : lib.coerce wrapper with implied first three arguments\n */\nexports.coerceSelectionMarkerOpacity = function(traceOut, coerce) {\n    if(!traceOut.marker) return;\n\n    var mo = traceOut.marker.opacity;\n    // you can still have a `marker` container with no markers if there's text\n    if(mo === undefined) return;\n\n    var smoDflt;\n    var usmoDflt;\n\n    // Don't give [un]selected.marker.opacity a default value if\n    // marker.opacity is an array: handle this during style step.\n    //\n    // Only give [un]selected.marker.opacity a default value if you don't\n    // set any other [un]selected attributes.\n    if(!isArrayOrTypedArray(mo) && !traceOut.selected && !traceOut.unselected) {\n        smoDflt = mo;\n        usmoDflt = DESELECTDIM * mo;\n    }\n\n    coerce('selected.marker.opacity', smoDflt);\n    coerce('unselected.marker.opacity', usmoDflt);\n};\n\nfunction validate(value, opts) {\n    var valObjectDef = exports.valObjectMeta[opts.valType];\n\n    if(opts.arrayOk && isArrayOrTypedArray(value)) return true;\n\n    if(valObjectDef.validateFunction) {\n        return valObjectDef.validateFunction(value, opts);\n    }\n\n    var failed = {};\n    var out = failed;\n    var propMock = { set: function(v) { out = v; } };\n\n    // 'failed' just something mutable that won't be === anything else\n\n    valObjectDef.coerceFunction(value, propMock, failed, opts);\n    return out !== failed;\n}\nexports.validate = validate;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}