{"ast":null,"code":"'use strict';\n\nvar Color = require('../../components/color');\nvar hasColorscale = require('../../components/colorscale/helpers').hasColorscale;\nvar colorscaleDefaults = require('../../components/colorscale/defaults');\nvar subTypes = require('./subtypes');\n\n/*\n * opts: object of flags to control features not all marker users support\n *   noLine: caller does not support marker lines\n *   gradient: caller supports gradients\n *   noSelect: caller does not support selected/unselected attribute containers\n */\nmodule.exports = function markerDefaults(traceIn, traceOut, defaultColor, layout, coerce, opts) {\n  var isBubble = subTypes.isBubble(traceIn);\n  var lineColor = (traceIn.line || {}).color;\n  var defaultMLC;\n  opts = opts || {};\n\n  // marker.color inherit from line.color (even if line.color is an array)\n  if (lineColor) defaultColor = lineColor;\n  coerce('marker.symbol');\n  coerce('marker.opacity', isBubble ? 0.7 : 1);\n  coerce('marker.size');\n  if (!opts.noAngle) {\n    coerce('marker.angle');\n    if (!opts.noAngleRef) {\n      coerce('marker.angleref');\n    }\n    if (!opts.noStandOff) {\n      coerce('marker.standoff');\n    }\n  }\n  coerce('marker.color', defaultColor);\n  if (hasColorscale(traceIn, 'marker')) {\n    colorscaleDefaults(traceIn, traceOut, layout, coerce, {\n      prefix: 'marker.',\n      cLetter: 'c'\n    });\n  }\n  if (!opts.noSelect) {\n    coerce('selected.marker.color');\n    coerce('unselected.marker.color');\n    coerce('selected.marker.size');\n    coerce('unselected.marker.size');\n  }\n  if (!opts.noLine) {\n    // if there's a line with a different color than the marker, use\n    // that line color as the default marker line color\n    // (except when it's an array)\n    // mostly this is for transparent markers to behave nicely\n    if (lineColor && !Array.isArray(lineColor) && traceOut.marker.color !== lineColor) {\n      defaultMLC = lineColor;\n    } else if (isBubble) defaultMLC = Color.background;else defaultMLC = Color.defaultLine;\n    coerce('marker.line.color', defaultMLC);\n    if (hasColorscale(traceIn, 'marker.line')) {\n      colorscaleDefaults(traceIn, traceOut, layout, coerce, {\n        prefix: 'marker.line.',\n        cLetter: 'c'\n      });\n    }\n    coerce('marker.line.width', isBubble ? 1 : 0);\n  }\n  if (isBubble) {\n    coerce('marker.sizeref');\n    coerce('marker.sizemin');\n    coerce('marker.sizemode');\n  }\n  if (opts.gradient) {\n    var gradientType = coerce('marker.gradient.type');\n    if (gradientType !== 'none') {\n      coerce('marker.gradient.color');\n    }\n  }\n};","map":{"version":3,"names":["Color","require","hasColorscale","colorscaleDefaults","subTypes","module","exports","markerDefaults","traceIn","traceOut","defaultColor","layout","coerce","opts","isBubble","lineColor","line","color","defaultMLC","noAngle","noAngleRef","noStandOff","prefix","cLetter","noSelect","noLine","Array","isArray","marker","background","defaultLine","gradient","gradientType"],"sources":["E:/tog_workspace/TestFabric_main/TestFabric-main/node_modules/plotly.js/src/traces/scatter/marker_defaults.js"],"sourcesContent":["'use strict';\n\nvar Color = require('../../components/color');\nvar hasColorscale = require('../../components/colorscale/helpers').hasColorscale;\nvar colorscaleDefaults = require('../../components/colorscale/defaults');\n\nvar subTypes = require('./subtypes');\n\n/*\n * opts: object of flags to control features not all marker users support\n *   noLine: caller does not support marker lines\n *   gradient: caller supports gradients\n *   noSelect: caller does not support selected/unselected attribute containers\n */\nmodule.exports = function markerDefaults(traceIn, traceOut, defaultColor, layout, coerce, opts) {\n    var isBubble = subTypes.isBubble(traceIn);\n    var lineColor = (traceIn.line || {}).color;\n    var defaultMLC;\n\n    opts = opts || {};\n\n    // marker.color inherit from line.color (even if line.color is an array)\n    if(lineColor) defaultColor = lineColor;\n\n    coerce('marker.symbol');\n    coerce('marker.opacity', isBubble ? 0.7 : 1);\n    coerce('marker.size');\n    if(!opts.noAngle) {\n        coerce('marker.angle');\n        if(!opts.noAngleRef) {\n            coerce('marker.angleref');\n        }\n\n        if(!opts.noStandOff) {\n            coerce('marker.standoff');\n        }\n    }\n\n    coerce('marker.color', defaultColor);\n    if(hasColorscale(traceIn, 'marker')) {\n        colorscaleDefaults(traceIn, traceOut, layout, coerce, {prefix: 'marker.', cLetter: 'c'});\n    }\n\n    if(!opts.noSelect) {\n        coerce('selected.marker.color');\n        coerce('unselected.marker.color');\n        coerce('selected.marker.size');\n        coerce('unselected.marker.size');\n    }\n\n    if(!opts.noLine) {\n        // if there's a line with a different color than the marker, use\n        // that line color as the default marker line color\n        // (except when it's an array)\n        // mostly this is for transparent markers to behave nicely\n        if(lineColor && !Array.isArray(lineColor) && (traceOut.marker.color !== lineColor)) {\n            defaultMLC = lineColor;\n        } else if(isBubble) defaultMLC = Color.background;\n        else defaultMLC = Color.defaultLine;\n\n        coerce('marker.line.color', defaultMLC);\n        if(hasColorscale(traceIn, 'marker.line')) {\n            colorscaleDefaults(traceIn, traceOut, layout, coerce, {prefix: 'marker.line.', cLetter: 'c'});\n        }\n\n        coerce('marker.line.width', isBubble ? 1 : 0);\n    }\n\n    if(isBubble) {\n        coerce('marker.sizeref');\n        coerce('marker.sizemin');\n        coerce('marker.sizemode');\n    }\n\n    if(opts.gradient) {\n        var gradientType = coerce('marker.gradient.type');\n        if(gradientType !== 'none') {\n            coerce('marker.gradient.color');\n        }\n    }\n};\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,KAAK,GAAGC,OAAO,CAAC,wBAAwB,CAAC;AAC7C,IAAIC,aAAa,GAAGD,OAAO,CAAC,qCAAqC,CAAC,CAACC,aAAa;AAChF,IAAIC,kBAAkB,GAAGF,OAAO,CAAC,sCAAsC,CAAC;AAExE,IAAIG,QAAQ,GAAGH,OAAO,CAAC,YAAY,CAAC;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACAI,MAAM,CAACC,OAAO,GAAG,SAASC,cAAcA,CAACC,OAAO,EAAEC,QAAQ,EAAEC,YAAY,EAAEC,MAAM,EAAEC,MAAM,EAAEC,IAAI,EAAE;EAC5F,IAAIC,QAAQ,GAAGV,QAAQ,CAACU,QAAQ,CAACN,OAAO,CAAC;EACzC,IAAIO,SAAS,GAAG,CAACP,OAAO,CAACQ,IAAI,IAAI,CAAC,CAAC,EAAEC,KAAK;EAC1C,IAAIC,UAAU;EAEdL,IAAI,GAAGA,IAAI,IAAI,CAAC,CAAC;;EAEjB;EACA,IAAGE,SAAS,EAAEL,YAAY,GAAGK,SAAS;EAEtCH,MAAM,CAAC,eAAe,CAAC;EACvBA,MAAM,CAAC,gBAAgB,EAAEE,QAAQ,GAAG,GAAG,GAAG,CAAC,CAAC;EAC5CF,MAAM,CAAC,aAAa,CAAC;EACrB,IAAG,CAACC,IAAI,CAACM,OAAO,EAAE;IACdP,MAAM,CAAC,cAAc,CAAC;IACtB,IAAG,CAACC,IAAI,CAACO,UAAU,EAAE;MACjBR,MAAM,CAAC,iBAAiB,CAAC;IAC7B;IAEA,IAAG,CAACC,IAAI,CAACQ,UAAU,EAAE;MACjBT,MAAM,CAAC,iBAAiB,CAAC;IAC7B;EACJ;EAEAA,MAAM,CAAC,cAAc,EAAEF,YAAY,CAAC;EACpC,IAAGR,aAAa,CAACM,OAAO,EAAE,QAAQ,CAAC,EAAE;IACjCL,kBAAkB,CAACK,OAAO,EAAEC,QAAQ,EAAEE,MAAM,EAAEC,MAAM,EAAE;MAACU,MAAM,EAAE,SAAS;MAAEC,OAAO,EAAE;IAAG,CAAC,CAAC;EAC5F;EAEA,IAAG,CAACV,IAAI,CAACW,QAAQ,EAAE;IACfZ,MAAM,CAAC,uBAAuB,CAAC;IAC/BA,MAAM,CAAC,yBAAyB,CAAC;IACjCA,MAAM,CAAC,sBAAsB,CAAC;IAC9BA,MAAM,CAAC,wBAAwB,CAAC;EACpC;EAEA,IAAG,CAACC,IAAI,CAACY,MAAM,EAAE;IACb;IACA;IACA;IACA;IACA,IAAGV,SAAS,IAAI,CAACW,KAAK,CAACC,OAAO,CAACZ,SAAS,CAAC,IAAKN,QAAQ,CAACmB,MAAM,CAACX,KAAK,KAAKF,SAAU,EAAE;MAChFG,UAAU,GAAGH,SAAS;IAC1B,CAAC,MAAM,IAAGD,QAAQ,EAAEI,UAAU,GAAGlB,KAAK,CAAC6B,UAAU,CAAC,KAC7CX,UAAU,GAAGlB,KAAK,CAAC8B,WAAW;IAEnClB,MAAM,CAAC,mBAAmB,EAAEM,UAAU,CAAC;IACvC,IAAGhB,aAAa,CAACM,OAAO,EAAE,aAAa,CAAC,EAAE;MACtCL,kBAAkB,CAACK,OAAO,EAAEC,QAAQ,EAAEE,MAAM,EAAEC,MAAM,EAAE;QAACU,MAAM,EAAE,cAAc;QAAEC,OAAO,EAAE;MAAG,CAAC,CAAC;IACjG;IAEAX,MAAM,CAAC,mBAAmB,EAAEE,QAAQ,GAAG,CAAC,GAAG,CAAC,CAAC;EACjD;EAEA,IAAGA,QAAQ,EAAE;IACTF,MAAM,CAAC,gBAAgB,CAAC;IACxBA,MAAM,CAAC,gBAAgB,CAAC;IACxBA,MAAM,CAAC,iBAAiB,CAAC;EAC7B;EAEA,IAAGC,IAAI,CAACkB,QAAQ,EAAE;IACd,IAAIC,YAAY,GAAGpB,MAAM,CAAC,sBAAsB,CAAC;IACjD,IAAGoB,YAAY,KAAK,MAAM,EAAE;MACxBpB,MAAM,CAAC,uBAAuB,CAAC;IACnC;EACJ;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script"}