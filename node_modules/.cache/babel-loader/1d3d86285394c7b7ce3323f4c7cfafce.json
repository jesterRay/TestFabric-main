{"ast":null,"code":"'use strict';\n\nvar axisIDs = require('../../plots/cartesian/axis_ids');\nvar svgTextUtils = require('../../lib/svg_text_utils');\nvar constants = require('./constants');\nvar LINE_SPACING = require('../../constants/alignment').LINE_SPACING;\nvar name = constants.name;\nfunction isVisible(ax) {\n  var rangeSlider = ax && ax[name];\n  return rangeSlider && rangeSlider.visible;\n}\nexports.isVisible = isVisible;\nexports.makeData = function (fullLayout) {\n  var axes = axisIDs.list({\n    _fullLayout: fullLayout\n  }, 'x', true);\n  var margin = fullLayout.margin;\n  var rangeSliderData = [];\n  if (!fullLayout._has('gl2d')) {\n    for (var i = 0; i < axes.length; i++) {\n      var ax = axes[i];\n      if (isVisible(ax)) {\n        rangeSliderData.push(ax);\n        var opts = ax[name];\n        opts._id = name + ax._id;\n        opts._height = (fullLayout.height - margin.b - margin.t) * opts.thickness;\n        opts._offsetShift = Math.floor(opts.borderwidth / 2);\n      }\n    }\n  }\n  fullLayout._rangeSliderData = rangeSliderData;\n};\nexports.autoMarginOpts = function (gd, ax) {\n  var fullLayout = gd._fullLayout;\n  var opts = ax[name];\n  var axLetter = ax._id.charAt(0);\n  var bottomDepth = 0;\n  var titleHeight = 0;\n  if (ax.side === 'bottom') {\n    bottomDepth = ax._depth;\n    if (ax.title.text !== fullLayout._dfltTitle[axLetter]) {\n      // as in rangeslider/draw.js\n      titleHeight = 1.5 * ax.title.font.size + 10 + opts._offsetShift;\n      // multi-line extra bump\n      var extraLines = (ax.title.text.match(svgTextUtils.BR_TAG_ALL) || []).length;\n      titleHeight += extraLines * ax.title.font.size * LINE_SPACING;\n    }\n  }\n  return {\n    x: 0,\n    y: ax._counterDomainMin,\n    l: 0,\n    r: 0,\n    t: 0,\n    b: opts._height + bottomDepth + Math.max(fullLayout.margin.b, titleHeight),\n    pad: constants.extraPad + opts._offsetShift * 2\n  };\n};","map":{"version":3,"names":["axisIDs","require","svgTextUtils","constants","LINE_SPACING","name","isVisible","ax","rangeSlider","visible","exports","makeData","fullLayout","axes","list","_fullLayout","margin","rangeSliderData","_has","i","length","push","opts","_id","_height","height","b","t","thickness","_offsetShift","Math","floor","borderwidth","_rangeSliderData","autoMarginOpts","gd","axLetter","charAt","bottomDepth","titleHeight","side","_depth","title","text","_dfltTitle","font","size","extraLines","match","BR_TAG_ALL","x","y","_counterDomainMin","l","r","max","pad","extraPad"],"sources":["E:/tog_workspace/TestFabric_main/TestFabric-main/node_modules/plotly.js/src/components/rangeslider/helpers.js"],"sourcesContent":["'use strict';\n\nvar axisIDs = require('../../plots/cartesian/axis_ids');\nvar svgTextUtils = require('../../lib/svg_text_utils');\nvar constants = require('./constants');\nvar LINE_SPACING = require('../../constants/alignment').LINE_SPACING;\nvar name = constants.name;\n\nfunction isVisible(ax) {\n    var rangeSlider = ax && ax[name];\n    return rangeSlider && rangeSlider.visible;\n}\nexports.isVisible = isVisible;\n\nexports.makeData = function(fullLayout) {\n    var axes = axisIDs.list({ _fullLayout: fullLayout }, 'x', true);\n    var margin = fullLayout.margin;\n    var rangeSliderData = [];\n\n    if(!fullLayout._has('gl2d')) {\n        for(var i = 0; i < axes.length; i++) {\n            var ax = axes[i];\n\n            if(isVisible(ax)) {\n                rangeSliderData.push(ax);\n\n                var opts = ax[name];\n                opts._id = name + ax._id;\n                opts._height = (fullLayout.height - margin.b - margin.t) * opts.thickness;\n                opts._offsetShift = Math.floor(opts.borderwidth / 2);\n            }\n        }\n    }\n\n    fullLayout._rangeSliderData = rangeSliderData;\n};\n\nexports.autoMarginOpts = function(gd, ax) {\n    var fullLayout = gd._fullLayout;\n    var opts = ax[name];\n    var axLetter = ax._id.charAt(0);\n\n    var bottomDepth = 0;\n    var titleHeight = 0;\n    if(ax.side === 'bottom') {\n        bottomDepth = ax._depth;\n        if(ax.title.text !== fullLayout._dfltTitle[axLetter]) {\n            // as in rangeslider/draw.js\n            titleHeight = 1.5 * ax.title.font.size + 10 + opts._offsetShift;\n            // multi-line extra bump\n            var extraLines = (ax.title.text.match(svgTextUtils.BR_TAG_ALL) || []).length;\n            titleHeight += extraLines * ax.title.font.size * LINE_SPACING;\n        }\n    }\n\n    return {\n        x: 0,\n        y: ax._counterDomainMin,\n        l: 0,\n        r: 0,\n        t: 0,\n        b: opts._height + bottomDepth + Math.max(fullLayout.margin.b, titleHeight),\n        pad: constants.extraPad + opts._offsetShift * 2\n    };\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}