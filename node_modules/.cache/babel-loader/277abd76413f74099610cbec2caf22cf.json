{"ast":null,"code":"'use strict';\n\nvar isNumeric = require('fast-isnumeric');\nvar Registry = require('../../registry');\nvar Lib = require('../../lib');\nvar Template = require('../../plot_api/plot_template');\nvar handleArrayContainerDefaults = require('../array_container_defaults');\nvar layoutAttributes = require('./layout_attributes');\nvar handleTickValueDefaults = require('./tick_value_defaults');\nvar handleTickMarkDefaults = require('./tick_mark_defaults');\nvar handleTickLabelDefaults = require('./tick_label_defaults');\nvar handlePrefixSuffixDefaults = require('./prefix_suffix_defaults');\nvar handleCategoryOrderDefaults = require('./category_order_defaults');\nvar handleLineGridDefaults = require('./line_grid_defaults');\nvar handleRangeDefaults = require('./range_defaults');\nvar setConvert = require('./set_convert');\nvar DAY_OF_WEEK = require('./constants').WEEKDAY_PATTERN;\nvar HOUR = require('./constants').HOUR_PATTERN;\n\n/**\n * options: object containing:\n *\n *  letter: 'x' or 'y'\n *  title: name of the axis (ie 'Colorbar') to go in default title\n *  font: the default font to inherit\n *  outerTicks: boolean, should ticks default to outside?\n *  showGrid: boolean, should gridlines be shown by default?\n *  noHover: boolean, this axis doesn't support hover effects?\n *  noTickson: boolean, this axis doesn't support 'tickson'\n *  data: the plot data, used to manage categories\n *  bgColor: the plot background color, to calculate default gridline colors\n *  calendar:\n *  splomStash:\n *  visibleDflt: boolean\n *  reverseDflt: boolean\n *  automargin: boolean\n */\nmodule.exports = function handleAxisDefaults(containerIn, containerOut, coerce, options, layoutOut) {\n  var letter = options.letter;\n  var font = options.font || {};\n  var splomStash = options.splomStash || {};\n  var visible = coerce('visible', !options.visibleDflt);\n  var axTemplate = containerOut._template || {};\n  var axType = containerOut.type || axTemplate.type || '-';\n  var ticklabelmode;\n  if (axType === 'date') {\n    var handleCalendarDefaults = Registry.getComponentMethod('calendars', 'handleDefaults');\n    handleCalendarDefaults(containerIn, containerOut, 'calendar', options.calendar);\n    if (!options.noTicklabelmode) {\n      ticklabelmode = coerce('ticklabelmode');\n    }\n  }\n  if (!options.noTicklabelindex && (axType === 'date' || axType === 'linear')) {\n    coerce('ticklabelindex');\n  }\n  var ticklabelposition = '';\n  if (!options.noTicklabelposition || axType === 'multicategory') {\n    ticklabelposition = Lib.coerce(containerIn, containerOut, {\n      ticklabelposition: {\n        valType: 'enumerated',\n        dflt: 'outside',\n        values: ticklabelmode === 'period' ? ['outside', 'inside'] : letter === 'x' ? ['outside', 'inside', 'outside left', 'inside left', 'outside right', 'inside right'] : ['outside', 'inside', 'outside top', 'inside top', 'outside bottom', 'inside bottom']\n      }\n    }, 'ticklabelposition');\n  }\n  if (!options.noTicklabeloverflow) {\n    coerce('ticklabeloverflow', ticklabelposition.indexOf('inside') !== -1 ? 'hide past domain' : axType === 'category' || axType === 'multicategory' ? 'allow' : 'hide past div');\n  }\n  setConvert(containerOut, layoutOut);\n  handleRangeDefaults(containerIn, containerOut, coerce, options);\n  handleCategoryOrderDefaults(containerIn, containerOut, coerce, options);\n  if (axType !== 'category' && !options.noHover) coerce('hoverformat');\n  var dfltColor = coerce('color');\n  // if axis.color was provided, use it for fonts too; otherwise,\n  // inherit from global font color in case that was provided.\n  // Compare to dflt rather than to containerIn, so we can provide color via\n  // template too.\n  var dfltFontColor = dfltColor !== layoutAttributes.color.dflt ? dfltColor : font.color;\n  // try to get default title from splom trace, fallback to graph-wide value\n  var dfltTitle = splomStash.label || layoutOut._dfltTitle[letter];\n  handlePrefixSuffixDefaults(containerIn, containerOut, coerce, axType, options);\n  if (!visible) return containerOut;\n  coerce('title.text', dfltTitle);\n  Lib.coerceFont(coerce, 'title.font', font, {\n    overrideDflt: {\n      size: Lib.bigFont(font.size),\n      color: dfltFontColor\n    }\n  });\n\n  // major ticks\n  handleTickValueDefaults(containerIn, containerOut, coerce, axType);\n  var hasMinor = options.hasMinor;\n  if (hasMinor) {\n    // minor ticks\n    Template.newContainer(containerOut, 'minor');\n    handleTickValueDefaults(containerIn, containerOut, coerce, axType, {\n      isMinor: true\n    });\n  }\n  handleTickLabelDefaults(containerIn, containerOut, coerce, axType, options);\n\n  // major and minor ticks\n  handleTickMarkDefaults(containerIn, containerOut, coerce, options);\n  if (hasMinor) {\n    var keepIsMinor = options.isMinor;\n    options.isMinor = true;\n    handleTickMarkDefaults(containerIn, containerOut, coerce, options);\n    options.isMinor = keepIsMinor;\n  }\n  handleLineGridDefaults(containerIn, containerOut, coerce, {\n    dfltColor: dfltColor,\n    bgColor: options.bgColor,\n    showGrid: options.showGrid,\n    hasMinor: hasMinor,\n    attributes: layoutAttributes\n  });\n\n  // delete minor when no minor ticks or gridlines\n  if (hasMinor && !containerOut.minor.ticks && !containerOut.minor.showgrid) {\n    delete containerOut.minor;\n  }\n\n  // mirror\n  if (containerOut.showline || containerOut.ticks) coerce('mirror');\n  var isMultiCategory = axType === 'multicategory';\n  if (!options.noTickson && (axType === 'category' || isMultiCategory) && (containerOut.ticks || containerOut.showgrid)) {\n    var ticksonDflt;\n    if (isMultiCategory) ticksonDflt = 'boundaries';\n    var tickson = coerce('tickson', ticksonDflt);\n    if (tickson === 'boundaries') {\n      delete containerOut.ticklabelposition;\n    }\n  }\n  if (isMultiCategory) {\n    var showDividers = coerce('showdividers');\n    if (showDividers) {\n      coerce('dividercolor');\n      coerce('dividerwidth');\n    }\n  }\n  if (axType === 'date') {\n    handleArrayContainerDefaults(containerIn, containerOut, {\n      name: 'rangebreaks',\n      inclusionAttr: 'enabled',\n      handleItemDefaults: rangebreaksDefaults\n    });\n    if (!containerOut.rangebreaks.length) {\n      delete containerOut.rangebreaks;\n    } else {\n      for (var k = 0; k < containerOut.rangebreaks.length; k++) {\n        if (containerOut.rangebreaks[k].pattern === DAY_OF_WEEK) {\n          containerOut._hasDayOfWeekBreaks = true;\n          break;\n        }\n      }\n      setConvert(containerOut, layoutOut);\n      if (layoutOut._has('scattergl') || layoutOut._has('splom')) {\n        for (var i = 0; i < options.data.length; i++) {\n          var trace = options.data[i];\n          if (trace.type === 'scattergl' || trace.type === 'splom') {\n            trace.visible = false;\n            Lib.warn(trace.type + ' traces do not work on axes with rangebreaks.' + ' Setting trace ' + trace.index + ' to `visible: false`.');\n          }\n        }\n      }\n    }\n  }\n  return containerOut;\n};\nfunction rangebreaksDefaults(itemIn, itemOut, containerOut) {\n  function coerce(attr, dflt) {\n    return Lib.coerce(itemIn, itemOut, layoutAttributes.rangebreaks, attr, dflt);\n  }\n  var enabled = coerce('enabled');\n  if (enabled) {\n    var bnds = coerce('bounds');\n    if (bnds && bnds.length >= 2) {\n      var dfltPattern = '';\n      var i, q;\n      if (bnds.length === 2) {\n        for (i = 0; i < 2; i++) {\n          q = indexOfDay(bnds[i]);\n          if (q) {\n            dfltPattern = DAY_OF_WEEK;\n            break;\n          }\n        }\n      }\n      var pattern = coerce('pattern', dfltPattern);\n      if (pattern === DAY_OF_WEEK) {\n        for (i = 0; i < 2; i++) {\n          q = indexOfDay(bnds[i]);\n          if (q) {\n            // convert to integers i.e 'Sunday' --> 0\n            itemOut.bounds[i] = bnds[i] = q - 1;\n          }\n        }\n      }\n      if (pattern) {\n        // ensure types and ranges\n        for (i = 0; i < 2; i++) {\n          q = bnds[i];\n          switch (pattern) {\n            case DAY_OF_WEEK:\n              if (!isNumeric(q)) {\n                itemOut.enabled = false;\n                return;\n              }\n              q = +q;\n              if (q !== Math.floor(q) ||\n              // don't accept fractional days for mow\n              q < 0 || q >= 7) {\n                itemOut.enabled = false;\n                return;\n              }\n              // use number\n              itemOut.bounds[i] = bnds[i] = q;\n              break;\n            case HOUR:\n              if (!isNumeric(q)) {\n                itemOut.enabled = false;\n                return;\n              }\n              q = +q;\n              if (q < 0 || q > 24) {\n                // accept 24\n                itemOut.enabled = false;\n                return;\n              }\n              // use number\n              itemOut.bounds[i] = bnds[i] = q;\n              break;\n          }\n        }\n      }\n      if (containerOut.autorange === false) {\n        var rng = containerOut.range;\n\n        // if bounds are bigger than the (set) range, disable break\n        if (rng[0] < rng[1]) {\n          if (bnds[0] < rng[0] && bnds[1] > rng[1]) {\n            itemOut.enabled = false;\n            return;\n          }\n        } else if (bnds[0] > rng[0] && bnds[1] < rng[1]) {\n          itemOut.enabled = false;\n          return;\n        }\n      }\n    } else {\n      var values = coerce('values');\n      if (values && values.length) {\n        coerce('dvalue');\n      } else {\n        itemOut.enabled = false;\n        return;\n      }\n    }\n  }\n}\n\n// these numbers are one more than what bounds would be mapped to\nvar dayStrToNum = {\n  sun: 1,\n  mon: 2,\n  tue: 3,\n  wed: 4,\n  thu: 5,\n  fri: 6,\n  sat: 7\n};\nfunction indexOfDay(v) {\n  if (typeof v !== 'string') return;\n  return dayStrToNum[v.substr(0, 3).toLowerCase()];\n}","map":{"version":3,"names":["isNumeric","require","Registry","Lib","Template","handleArrayContainerDefaults","layoutAttributes","handleTickValueDefaults","handleTickMarkDefaults","handleTickLabelDefaults","handlePrefixSuffixDefaults","handleCategoryOrderDefaults","handleLineGridDefaults","handleRangeDefaults","setConvert","DAY_OF_WEEK","WEEKDAY_PATTERN","HOUR","HOUR_PATTERN","module","exports","handleAxisDefaults","containerIn","containerOut","coerce","options","layoutOut","letter","font","splomStash","visible","visibleDflt","axTemplate","_template","axType","type","ticklabelmode","handleCalendarDefaults","getComponentMethod","calendar","noTicklabelmode","noTicklabelindex","ticklabelposition","noTicklabelposition","valType","dflt","values","noTicklabeloverflow","indexOf","noHover","dfltColor","dfltFontColor","color","dfltTitle","label","_dfltTitle","coerceFont","overrideDflt","size","bigFont","hasMinor","newContainer","isMinor","keepIsMinor","bgColor","showGrid","attributes","minor","ticks","showgrid","showline","isMultiCategory","noTickson","ticksonDflt","tickson","showDividers","name","inclusionAttr","handleItemDefaults","rangebreaksDefaults","rangebreaks","length","k","pattern","_hasDayOfWeekBreaks","_has","i","data","trace","warn","index","itemIn","itemOut","attr","enabled","bnds","dfltPattern","q","indexOfDay","bounds","Math","floor","autorange","rng","range","dayStrToNum","sun","mon","tue","wed","thu","fri","sat","v","substr","toLowerCase"],"sources":["E:/tog_workspace/TestFabric_main/TestFabric-main/node_modules/plotly.js/src/plots/cartesian/axis_defaults.js"],"sourcesContent":["'use strict';\n\nvar isNumeric = require('fast-isnumeric');\n\nvar Registry = require('../../registry');\nvar Lib = require('../../lib');\nvar Template = require('../../plot_api/plot_template');\n\nvar handleArrayContainerDefaults = require('../array_container_defaults');\n\nvar layoutAttributes = require('./layout_attributes');\nvar handleTickValueDefaults = require('./tick_value_defaults');\nvar handleTickMarkDefaults = require('./tick_mark_defaults');\nvar handleTickLabelDefaults = require('./tick_label_defaults');\nvar handlePrefixSuffixDefaults = require('./prefix_suffix_defaults');\nvar handleCategoryOrderDefaults = require('./category_order_defaults');\nvar handleLineGridDefaults = require('./line_grid_defaults');\nvar handleRangeDefaults = require('./range_defaults');\nvar setConvert = require('./set_convert');\n\nvar DAY_OF_WEEK = require('./constants').WEEKDAY_PATTERN;\nvar HOUR = require('./constants').HOUR_PATTERN;\n\n/**\n * options: object containing:\n *\n *  letter: 'x' or 'y'\n *  title: name of the axis (ie 'Colorbar') to go in default title\n *  font: the default font to inherit\n *  outerTicks: boolean, should ticks default to outside?\n *  showGrid: boolean, should gridlines be shown by default?\n *  noHover: boolean, this axis doesn't support hover effects?\n *  noTickson: boolean, this axis doesn't support 'tickson'\n *  data: the plot data, used to manage categories\n *  bgColor: the plot background color, to calculate default gridline colors\n *  calendar:\n *  splomStash:\n *  visibleDflt: boolean\n *  reverseDflt: boolean\n *  automargin: boolean\n */\nmodule.exports = function handleAxisDefaults(containerIn, containerOut, coerce, options, layoutOut) {\n    var letter = options.letter;\n    var font = options.font || {};\n    var splomStash = options.splomStash || {};\n\n    var visible = coerce('visible', !options.visibleDflt);\n\n    var axTemplate = containerOut._template || {};\n    var axType = containerOut.type || axTemplate.type || '-';\n\n    var ticklabelmode;\n    if(axType === 'date') {\n        var handleCalendarDefaults = Registry.getComponentMethod('calendars', 'handleDefaults');\n        handleCalendarDefaults(containerIn, containerOut, 'calendar', options.calendar);\n\n        if(!options.noTicklabelmode) {\n            ticklabelmode = coerce('ticklabelmode');\n        }\n    }\n\n    if(!options.noTicklabelindex && (axType === 'date' || axType === 'linear')) {\n        coerce('ticklabelindex');\n    }\n\n    var ticklabelposition = '';\n    if(!options.noTicklabelposition || axType === 'multicategory') {\n        ticklabelposition = Lib.coerce(containerIn, containerOut, {\n            ticklabelposition: {\n                valType: 'enumerated',\n                dflt: 'outside',\n                values: ticklabelmode === 'period' ? ['outside', 'inside'] :\n                letter === 'x' ? [\n                    'outside', 'inside',\n                    'outside left', 'inside left',\n                    'outside right', 'inside right'\n                ] : [\n                    'outside', 'inside',\n                    'outside top', 'inside top',\n                    'outside bottom', 'inside bottom'\n                ]\n            }\n        }, 'ticklabelposition');\n    }\n\n    if(!options.noTicklabeloverflow) {\n        coerce('ticklabeloverflow',\n            ticklabelposition.indexOf('inside') !== -1 ?\n                'hide past domain' :\n            axType === 'category' ||\n            axType === 'multicategory' ?\n                'allow' :\n                'hide past div'\n        );\n    }\n\n    setConvert(containerOut, layoutOut);\n\n    handleRangeDefaults(containerIn, containerOut, coerce, options);\n\n    handleCategoryOrderDefaults(containerIn, containerOut, coerce, options);\n\n    if(axType !== 'category' && !options.noHover) coerce('hoverformat');\n\n    var dfltColor = coerce('color');\n    // if axis.color was provided, use it for fonts too; otherwise,\n    // inherit from global font color in case that was provided.\n    // Compare to dflt rather than to containerIn, so we can provide color via\n    // template too.\n    var dfltFontColor = (dfltColor !== layoutAttributes.color.dflt) ? dfltColor : font.color;\n    // try to get default title from splom trace, fallback to graph-wide value\n    var dfltTitle = splomStash.label || layoutOut._dfltTitle[letter];\n\n    handlePrefixSuffixDefaults(containerIn, containerOut, coerce, axType, options);\n    if(!visible) return containerOut;\n\n    coerce('title.text', dfltTitle);\n    Lib.coerceFont(coerce, 'title.font', font, { overrideDflt: {\n        size: Lib.bigFont(font.size),\n        color: dfltFontColor\n    }});\n\n    // major ticks\n    handleTickValueDefaults(containerIn, containerOut, coerce, axType);\n\n    var hasMinor = options.hasMinor;\n    if(hasMinor) {\n        // minor ticks\n        Template.newContainer(containerOut, 'minor');\n        handleTickValueDefaults(containerIn, containerOut, coerce, axType, { isMinor: true });\n    }\n\n    handleTickLabelDefaults(containerIn, containerOut, coerce, axType, options);\n\n    // major and minor ticks\n    handleTickMarkDefaults(containerIn, containerOut, coerce, options);\n    if(hasMinor) {\n        var keepIsMinor = options.isMinor;\n        options.isMinor = true;\n        handleTickMarkDefaults(containerIn, containerOut, coerce, options);\n        options.isMinor = keepIsMinor;\n    }\n\n    handleLineGridDefaults(containerIn, containerOut, coerce, {\n        dfltColor: dfltColor,\n        bgColor: options.bgColor,\n        showGrid: options.showGrid,\n        hasMinor: hasMinor,\n        attributes: layoutAttributes\n    });\n\n    // delete minor when no minor ticks or gridlines\n    if(\n        hasMinor &&\n        !containerOut.minor.ticks &&\n        !containerOut.minor.showgrid\n    ) {\n        delete containerOut.minor;\n    }\n\n    // mirror\n    if(containerOut.showline || containerOut.ticks) coerce('mirror');\n\n    var isMultiCategory = axType === 'multicategory';\n\n    if(!options.noTickson &&\n        (axType === 'category' || isMultiCategory) &&\n        (containerOut.ticks || containerOut.showgrid)\n    ) {\n        var ticksonDflt;\n        if(isMultiCategory) ticksonDflt = 'boundaries';\n        var tickson = coerce('tickson', ticksonDflt);\n        if(tickson === 'boundaries') {\n            delete containerOut.ticklabelposition;\n        }\n    }\n\n    if(isMultiCategory) {\n        var showDividers = coerce('showdividers');\n        if(showDividers) {\n            coerce('dividercolor');\n            coerce('dividerwidth');\n        }\n    }\n\n    if(axType === 'date') {\n        handleArrayContainerDefaults(containerIn, containerOut, {\n            name: 'rangebreaks',\n            inclusionAttr: 'enabled',\n            handleItemDefaults: rangebreaksDefaults\n        });\n\n        if(!containerOut.rangebreaks.length) {\n            delete containerOut.rangebreaks;\n        } else {\n            for(var k = 0; k < containerOut.rangebreaks.length; k++) {\n                if(containerOut.rangebreaks[k].pattern === DAY_OF_WEEK) {\n                    containerOut._hasDayOfWeekBreaks = true;\n                    break;\n                }\n            }\n\n            setConvert(containerOut, layoutOut);\n\n            if(layoutOut._has('scattergl') || layoutOut._has('splom')) {\n                for(var i = 0; i < options.data.length; i++) {\n                    var trace = options.data[i];\n                    if(trace.type === 'scattergl' || trace.type === 'splom') {\n                        trace.visible = false;\n                        Lib.warn(trace.type +\n                            ' traces do not work on axes with rangebreaks.' +\n                            ' Setting trace ' + trace.index + ' to `visible: false`.');\n                    }\n                }\n            }\n        }\n    }\n\n    return containerOut;\n};\n\nfunction rangebreaksDefaults(itemIn, itemOut, containerOut) {\n    function coerce(attr, dflt) {\n        return Lib.coerce(itemIn, itemOut, layoutAttributes.rangebreaks, attr, dflt);\n    }\n\n    var enabled = coerce('enabled');\n\n    if(enabled) {\n        var bnds = coerce('bounds');\n        if(bnds && bnds.length >= 2) {\n            var dfltPattern = '';\n            var i, q;\n            if(bnds.length === 2) {\n                for(i = 0; i < 2; i++) {\n                    q = indexOfDay(bnds[i]);\n                    if(q) {\n                        dfltPattern = DAY_OF_WEEK;\n                        break;\n                    }\n                }\n            }\n            var pattern = coerce('pattern', dfltPattern);\n            if(pattern === DAY_OF_WEEK) {\n                for(i = 0; i < 2; i++) {\n                    q = indexOfDay(bnds[i]);\n                    if(q) {\n                        // convert to integers i.e 'Sunday' --> 0\n                        itemOut.bounds[i] = bnds[i] = q - 1;\n                    }\n                }\n            }\n            if(pattern) {\n                // ensure types and ranges\n                for(i = 0; i < 2; i++) {\n                    q = bnds[i];\n                    switch(pattern) {\n                        case DAY_OF_WEEK :\n                            if(!isNumeric(q)) {\n                                itemOut.enabled = false;\n                                return;\n                            }\n                            q = +q;\n\n                            if(\n                                q !== Math.floor(q) || // don't accept fractional days for mow\n                                q < 0 || q >= 7\n                            ) {\n                                itemOut.enabled = false;\n                                return;\n                            }\n                            // use number\n                            itemOut.bounds[i] = bnds[i] = q;\n                            break;\n\n                        case HOUR :\n                            if(!isNumeric(q)) {\n                                itemOut.enabled = false;\n                                return;\n                            }\n                            q = +q;\n\n                            if(q < 0 || q > 24) { // accept 24\n                                itemOut.enabled = false;\n                                return;\n                            }\n                            // use number\n                            itemOut.bounds[i] = bnds[i] = q;\n                            break;\n                    }\n                }\n            }\n\n            if(containerOut.autorange === false) {\n                var rng = containerOut.range;\n\n                // if bounds are bigger than the (set) range, disable break\n                if(rng[0] < rng[1]) {\n                    if(bnds[0] < rng[0] && bnds[1] > rng[1]) {\n                        itemOut.enabled = false;\n                        return;\n                    }\n                } else if(bnds[0] > rng[0] && bnds[1] < rng[1]) {\n                    itemOut.enabled = false;\n                    return;\n                }\n            }\n        } else {\n            var values = coerce('values');\n\n            if(values && values.length) {\n                coerce('dvalue');\n            } else {\n                itemOut.enabled = false;\n                return;\n            }\n        }\n    }\n}\n\n// these numbers are one more than what bounds would be mapped to\nvar dayStrToNum = {\n    sun: 1,\n    mon: 2,\n    tue: 3,\n    wed: 4,\n    thu: 5,\n    fri: 6,\n    sat: 7\n};\n\nfunction indexOfDay(v) {\n    if(typeof v !== 'string') return;\n    return dayStrToNum[\n        v.substr(0, 3).toLowerCase()\n    ];\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}