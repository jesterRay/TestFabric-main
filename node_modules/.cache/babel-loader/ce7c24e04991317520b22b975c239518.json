{"ast":null,"code":"'use strict';\n\nvar Lib = require('../../lib');\nvar Color = require('../../components/color');\nvar DESELECTDIM = require('../../constants/interactions').DESELECTDIM;\nfunction styleTextSelection(cd) {\n  var cd0 = cd[0];\n  var trace = cd0.trace;\n  var stash = cd0.t;\n  var scene = stash._scene;\n  var index = stash.index;\n  var els = scene.selectBatch[index];\n  var unels = scene.unselectBatch[index];\n  var baseOpts = scene.textOptions[index];\n  var selOpts = scene.textSelectedOptions[index] || {};\n  var unselOpts = scene.textUnselectedOptions[index] || {};\n  var opts = Lib.extendFlat({}, baseOpts);\n  var i, j;\n  if (els.length || unels.length) {\n    var stc = selOpts.color;\n    var utc = unselOpts.color;\n    var base = baseOpts.color;\n    var hasArrayBase = Lib.isArrayOrTypedArray(base);\n    opts.color = new Array(trace._length);\n    for (i = 0; i < els.length; i++) {\n      j = els[i];\n      opts.color[j] = stc || (hasArrayBase ? base[j] : base);\n    }\n    for (i = 0; i < unels.length; i++) {\n      j = unels[i];\n      var basej = hasArrayBase ? base[j] : base;\n      opts.color[j] = utc ? utc : stc ? basej : Color.addOpacity(basej, DESELECTDIM);\n    }\n  }\n  scene.glText[index].update(opts);\n}\nmodule.exports = {\n  styleTextSelection: styleTextSelection\n};","map":{"version":3,"names":["Lib","require","Color","DESELECTDIM","styleTextSelection","cd","cd0","trace","stash","t","scene","_scene","index","els","selectBatch","unels","unselectBatch","baseOpts","textOptions","selOpts","textSelectedOptions","unselOpts","textUnselectedOptions","opts","extendFlat","i","j","length","stc","color","utc","base","hasArrayBase","isArrayOrTypedArray","Array","_length","basej","addOpacity","glText","update","module","exports"],"sources":["E:/tog_workspace/TestFabric_main/TestFabric-main/node_modules/plotly.js/src/traces/scattergl/edit_style.js"],"sourcesContent":["'use strict';\n\nvar Lib = require('../../lib');\nvar Color = require('../../components/color');\n\nvar DESELECTDIM = require('../../constants/interactions').DESELECTDIM;\n\nfunction styleTextSelection(cd) {\n    var cd0 = cd[0];\n    var trace = cd0.trace;\n    var stash = cd0.t;\n    var scene = stash._scene;\n    var index = stash.index;\n    var els = scene.selectBatch[index];\n    var unels = scene.unselectBatch[index];\n    var baseOpts = scene.textOptions[index];\n    var selOpts = scene.textSelectedOptions[index] || {};\n    var unselOpts = scene.textUnselectedOptions[index] || {};\n    var opts = Lib.extendFlat({}, baseOpts);\n    var i, j;\n\n    if(els.length || unels.length) {\n        var stc = selOpts.color;\n        var utc = unselOpts.color;\n        var base = baseOpts.color;\n        var hasArrayBase = Lib.isArrayOrTypedArray(base);\n        opts.color = new Array(trace._length);\n\n        for(i = 0; i < els.length; i++) {\n            j = els[i];\n            opts.color[j] = stc || (hasArrayBase ? base[j] : base);\n        }\n        for(i = 0; i < unels.length; i++) {\n            j = unels[i];\n            var basej = hasArrayBase ? base[j] : base;\n            opts.color[j] = utc ? utc :\n                stc ? basej : Color.addOpacity(basej, DESELECTDIM);\n        }\n    }\n\n    scene.glText[index].update(opts);\n}\n\nmodule.exports = {\n    styleTextSelection: styleTextSelection\n};\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,GAAG,GAAGC,OAAO,CAAC,WAAW,CAAC;AAC9B,IAAIC,KAAK,GAAGD,OAAO,CAAC,wBAAwB,CAAC;AAE7C,IAAIE,WAAW,GAAGF,OAAO,CAAC,8BAA8B,CAAC,CAACE,WAAW;AAErE,SAASC,kBAAkBA,CAACC,EAAE,EAAE;EAC5B,IAAIC,GAAG,GAAGD,EAAE,CAAC,CAAC,CAAC;EACf,IAAIE,KAAK,GAAGD,GAAG,CAACC,KAAK;EACrB,IAAIC,KAAK,GAAGF,GAAG,CAACG,CAAC;EACjB,IAAIC,KAAK,GAAGF,KAAK,CAACG,MAAM;EACxB,IAAIC,KAAK,GAAGJ,KAAK,CAACI,KAAK;EACvB,IAAIC,GAAG,GAAGH,KAAK,CAACI,WAAW,CAACF,KAAK,CAAC;EAClC,IAAIG,KAAK,GAAGL,KAAK,CAACM,aAAa,CAACJ,KAAK,CAAC;EACtC,IAAIK,QAAQ,GAAGP,KAAK,CAACQ,WAAW,CAACN,KAAK,CAAC;EACvC,IAAIO,OAAO,GAAGT,KAAK,CAACU,mBAAmB,CAACR,KAAK,CAAC,IAAI,CAAC,CAAC;EACpD,IAAIS,SAAS,GAAGX,KAAK,CAACY,qBAAqB,CAACV,KAAK,CAAC,IAAI,CAAC,CAAC;EACxD,IAAIW,IAAI,GAAGvB,GAAG,CAACwB,UAAU,CAAC,CAAC,CAAC,EAAEP,QAAQ,CAAC;EACvC,IAAIQ,CAAC,EAAEC,CAAC;EAER,IAAGb,GAAG,CAACc,MAAM,IAAIZ,KAAK,CAACY,MAAM,EAAE;IAC3B,IAAIC,GAAG,GAAGT,OAAO,CAACU,KAAK;IACvB,IAAIC,GAAG,GAAGT,SAAS,CAACQ,KAAK;IACzB,IAAIE,IAAI,GAAGd,QAAQ,CAACY,KAAK;IACzB,IAAIG,YAAY,GAAGhC,GAAG,CAACiC,mBAAmB,CAACF,IAAI,CAAC;IAChDR,IAAI,CAACM,KAAK,GAAG,IAAIK,KAAK,CAAC3B,KAAK,CAAC4B,OAAO,CAAC;IAErC,KAAIV,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGZ,GAAG,CAACc,MAAM,EAAEF,CAAC,EAAE,EAAE;MAC5BC,CAAC,GAAGb,GAAG,CAACY,CAAC,CAAC;MACVF,IAAI,CAACM,KAAK,CAACH,CAAC,CAAC,GAAGE,GAAG,KAAKI,YAAY,GAAGD,IAAI,CAACL,CAAC,CAAC,GAAGK,IAAI,CAAC;IAC1D;IACA,KAAIN,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGV,KAAK,CAACY,MAAM,EAAEF,CAAC,EAAE,EAAE;MAC9BC,CAAC,GAAGX,KAAK,CAACU,CAAC,CAAC;MACZ,IAAIW,KAAK,GAAGJ,YAAY,GAAGD,IAAI,CAACL,CAAC,CAAC,GAAGK,IAAI;MACzCR,IAAI,CAACM,KAAK,CAACH,CAAC,CAAC,GAAGI,GAAG,GAAGA,GAAG,GACrBF,GAAG,GAAGQ,KAAK,GAAGlC,KAAK,CAACmC,UAAU,CAACD,KAAK,EAAEjC,WAAW,CAAC;IAC1D;EACJ;EAEAO,KAAK,CAAC4B,MAAM,CAAC1B,KAAK,CAAC,CAAC2B,MAAM,CAAChB,IAAI,CAAC;AACpC;AAEAiB,MAAM,CAACC,OAAO,GAAG;EACbrC,kBAAkB,EAAEA;AACxB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script"}