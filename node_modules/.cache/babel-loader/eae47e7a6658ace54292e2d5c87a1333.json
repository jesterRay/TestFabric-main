{"ast":null,"code":"'use strict';\n\nvar Registry = require('../../registry');\nvar Lib = require('../../lib');\nvar Template = require('../../plot_api/plot_template');\nvar plotsAttrs = require('../../plots/attributes');\nvar attributes = require('./attributes');\nvar basePlotLayoutAttributes = require('../../plots/layout_attributes');\nvar helpers = require('./helpers');\nfunction groupDefaults(legendId, layoutIn, layoutOut, fullData) {\n  var containerIn = layoutIn[legendId] || {};\n  var containerOut = Template.newContainer(layoutOut, legendId);\n  function coerce(attr, dflt) {\n    return Lib.coerce(containerIn, containerOut, attributes, attr, dflt);\n  }\n\n  // N.B. unified hover needs to inherit from font, bgcolor & bordercolor even when legend.visible is false\n  var itemFont = Lib.coerceFont(coerce, 'font', layoutOut.font);\n  coerce('bgcolor', layoutOut.paper_bgcolor);\n  coerce('bordercolor');\n  var visible = coerce('visible');\n  if (!visible) return;\n  var trace;\n  var traceCoerce = function (attr, dflt) {\n    var traceIn = trace._input;\n    var traceOut = trace;\n    return Lib.coerce(traceIn, traceOut, plotsAttrs, attr, dflt);\n  };\n  var globalFont = layoutOut.font || {};\n  var grouptitlefont = Lib.coerceFont(coerce, 'grouptitlefont', globalFont, {\n    overrideDflt: {\n      size: Math.round(globalFont.size * 1.1)\n    }\n  });\n  var legendTraceCount = 0;\n  var legendReallyHasATrace = false;\n  var defaultOrder = 'normal';\n  var shapesWithLegend = (layoutOut.shapes || []).filter(function (d) {\n    return d.showlegend;\n  });\n  var allLegendItems = fullData.concat(shapesWithLegend).filter(function (d) {\n    return legendId === (d.legend || 'legend');\n  });\n  for (var i = 0; i < allLegendItems.length; i++) {\n    trace = allLegendItems[i];\n    if (!trace.visible) continue;\n    var isShape = trace._isShape;\n\n    // Note that we explicitly count any trace that is either shown or\n    // *would* be shown by default, toward the two traces you need to\n    // ensure the legend is shown by default, because this can still help\n    // disambiguate.\n    if (trace.showlegend || trace._dfltShowLegend && !(trace._module && trace._module.attributes && trace._module.attributes.showlegend && trace._module.attributes.showlegend.dflt === false)) {\n      legendTraceCount++;\n      if (trace.showlegend) {\n        legendReallyHasATrace = true;\n        // Always show the legend by default if there's a pie,\n        // or if there's only one trace but it's explicitly shown\n        if (!isShape && Registry.traceIs(trace, 'pie-like') || trace._input.showlegend === true) {\n          legendTraceCount++;\n        }\n      }\n      Lib.coerceFont(traceCoerce, 'legendgrouptitle.font', grouptitlefont);\n    }\n    if (!isShape && Registry.traceIs(trace, 'bar') && layoutOut.barmode === 'stack' || ['tonextx', 'tonexty'].indexOf(trace.fill) !== -1) {\n      defaultOrder = helpers.isGrouped({\n        traceorder: defaultOrder\n      }) ? 'grouped+reversed' : 'reversed';\n    }\n    if (trace.legendgroup !== undefined && trace.legendgroup !== '') {\n      defaultOrder = helpers.isReversed({\n        traceorder: defaultOrder\n      }) ? 'reversed+grouped' : 'grouped';\n    }\n  }\n  var showLegend = Lib.coerce(layoutIn, layoutOut, basePlotLayoutAttributes, 'showlegend', legendReallyHasATrace && legendTraceCount > (legendId === 'legend' ? 1 : 0));\n\n  // delete legend\n  if (showLegend === false) layoutOut[legendId] = undefined;\n  if (showLegend === false && !containerIn.uirevision) return;\n  coerce('uirevision', layoutOut.uirevision);\n  if (showLegend === false) return;\n  coerce('borderwidth');\n  var orientation = coerce('orientation');\n  var yref = coerce('yref');\n  var xref = coerce('xref');\n  var isHorizontal = orientation === 'h';\n  var isPaperY = yref === 'paper';\n  var isPaperX = xref === 'paper';\n  var defaultX, defaultY, defaultYAnchor;\n  var defaultXAnchor = 'left';\n  if (isHorizontal) {\n    defaultX = 0;\n    if (Registry.getComponentMethod('rangeslider', 'isVisible')(layoutIn.xaxis)) {\n      if (isPaperY) {\n        defaultY = 1.1;\n        defaultYAnchor = 'bottom';\n      } else {\n        defaultY = 1;\n        defaultYAnchor = 'top';\n      }\n    } else {\n      // maybe use y=1.1 / yanchor=bottom as above\n      //   to avoid https://github.com/plotly/plotly.js/issues/1199\n      //   in v3\n      if (isPaperY) {\n        defaultY = -0.1;\n        defaultYAnchor = 'top';\n      } else {\n        defaultY = 0;\n        defaultYAnchor = 'bottom';\n      }\n    }\n  } else {\n    defaultY = 1;\n    defaultYAnchor = 'auto';\n    if (isPaperX) {\n      defaultX = 1.02;\n    } else {\n      defaultX = 1;\n      defaultXAnchor = 'right';\n    }\n  }\n  Lib.coerce(containerIn, containerOut, {\n    x: {\n      valType: 'number',\n      editType: 'legend',\n      min: isPaperX ? -2 : 0,\n      max: isPaperX ? 3 : 1,\n      dflt: defaultX\n    }\n  }, 'x');\n  Lib.coerce(containerIn, containerOut, {\n    y: {\n      valType: 'number',\n      editType: 'legend',\n      min: isPaperY ? -2 : 0,\n      max: isPaperY ? 3 : 1,\n      dflt: defaultY\n    }\n  }, 'y');\n  coerce('traceorder', defaultOrder);\n  if (helpers.isGrouped(layoutOut[legendId])) coerce('tracegroupgap');\n  coerce('entrywidth');\n  coerce('entrywidthmode');\n  coerce('indentation');\n  coerce('itemsizing');\n  coerce('itemwidth');\n  coerce('itemclick');\n  coerce('itemdoubleclick');\n  coerce('groupclick');\n  coerce('xanchor', defaultXAnchor);\n  coerce('yanchor', defaultYAnchor);\n  coerce('valign');\n  Lib.noneOrAll(containerIn, containerOut, ['x', 'y']);\n  var titleText = coerce('title.text');\n  if (titleText) {\n    coerce('title.side', isHorizontal ? 'left' : 'top');\n    var dfltTitleFont = Lib.extendFlat({}, itemFont, {\n      size: Lib.bigFont(itemFont.size)\n    });\n    Lib.coerceFont(coerce, 'title.font', dfltTitleFont);\n  }\n}\nmodule.exports = function legendDefaults(layoutIn, layoutOut, fullData) {\n  var i;\n  var allLegendsData = fullData.slice();\n\n  // shapes could also show up in legends\n  var shapes = layoutOut.shapes;\n  if (shapes) {\n    for (i = 0; i < shapes.length; i++) {\n      var shape = shapes[i];\n      if (!shape.showlegend) continue;\n      var mockTrace = {\n        _input: shape._input,\n        visible: shape.visible,\n        showlegend: shape.showlegend,\n        legend: shape.legend\n      };\n      allLegendsData.push(mockTrace);\n    }\n  }\n  var legends = ['legend'];\n  for (i = 0; i < allLegendsData.length; i++) {\n    Lib.pushUnique(legends, allLegendsData[i].legend);\n  }\n  layoutOut._legends = [];\n  for (i = 0; i < legends.length; i++) {\n    var legendId = legends[i];\n    groupDefaults(legendId, layoutIn, layoutOut, allLegendsData);\n    if (layoutOut[legendId] && layoutOut[legendId].visible) {\n      layoutOut[legendId]._id = legendId;\n    }\n    layoutOut._legends.push(legendId);\n  }\n};","map":{"version":3,"names":["Registry","require","Lib","Template","plotsAttrs","attributes","basePlotLayoutAttributes","helpers","groupDefaults","legendId","layoutIn","layoutOut","fullData","containerIn","containerOut","newContainer","coerce","attr","dflt","itemFont","coerceFont","font","paper_bgcolor","visible","trace","traceCoerce","traceIn","_input","traceOut","globalFont","grouptitlefont","overrideDflt","size","Math","round","legendTraceCount","legendReallyHasATrace","defaultOrder","shapesWithLegend","shapes","filter","d","showlegend","allLegendItems","concat","legend","i","length","isShape","_isShape","_dfltShowLegend","_module","traceIs","barmode","indexOf","fill","isGrouped","traceorder","legendgroup","undefined","isReversed","showLegend","uirevision","orientation","yref","xref","isHorizontal","isPaperY","isPaperX","defaultX","defaultY","defaultYAnchor","defaultXAnchor","getComponentMethod","xaxis","x","valType","editType","min","max","y","noneOrAll","titleText","dfltTitleFont","extendFlat","bigFont","module","exports","legendDefaults","allLegendsData","slice","shape","mockTrace","push","legends","pushUnique","_legends","_id"],"sources":["E:/tog_workspace/TestFabric_main/TestFabric-main/node_modules/plotly.js/src/components/legend/defaults.js"],"sourcesContent":["'use strict';\n\nvar Registry = require('../../registry');\nvar Lib = require('../../lib');\nvar Template = require('../../plot_api/plot_template');\n\nvar plotsAttrs = require('../../plots/attributes');\nvar attributes = require('./attributes');\nvar basePlotLayoutAttributes = require('../../plots/layout_attributes');\nvar helpers = require('./helpers');\n\nfunction groupDefaults(legendId, layoutIn, layoutOut, fullData) {\n    var containerIn = layoutIn[legendId] || {};\n    var containerOut = Template.newContainer(layoutOut, legendId);\n\n    function coerce(attr, dflt) {\n        return Lib.coerce(containerIn, containerOut, attributes, attr, dflt);\n    }\n\n    // N.B. unified hover needs to inherit from font, bgcolor & bordercolor even when legend.visible is false\n    var itemFont = Lib.coerceFont(coerce, 'font', layoutOut.font);\n    coerce('bgcolor', layoutOut.paper_bgcolor);\n    coerce('bordercolor');\n\n    var visible = coerce('visible');\n    if(!visible) return;\n\n    var trace;\n    var traceCoerce = function(attr, dflt) {\n        var traceIn = trace._input;\n        var traceOut = trace;\n        return Lib.coerce(traceIn, traceOut, plotsAttrs, attr, dflt);\n    };\n\n    var globalFont = layoutOut.font || {};\n    var grouptitlefont = Lib.coerceFont(coerce, 'grouptitlefont', globalFont, { overrideDflt: {\n        size: Math.round(globalFont.size * 1.1)\n    }});\n\n    var legendTraceCount = 0;\n    var legendReallyHasATrace = false;\n    var defaultOrder = 'normal';\n\n    var shapesWithLegend = (layoutOut.shapes || []).filter(function(d) { return d.showlegend; });\n\n    var allLegendItems = fullData.concat(shapesWithLegend).filter(function(d) {\n        return legendId === (d.legend || 'legend');\n    });\n\n    for(var i = 0; i < allLegendItems.length; i++) {\n        trace = allLegendItems[i];\n\n        if(!trace.visible) continue;\n\n        var isShape = trace._isShape;\n\n        // Note that we explicitly count any trace that is either shown or\n        // *would* be shown by default, toward the two traces you need to\n        // ensure the legend is shown by default, because this can still help\n        // disambiguate.\n        if(trace.showlegend || (\n            trace._dfltShowLegend && !(\n                trace._module &&\n                trace._module.attributes &&\n                trace._module.attributes.showlegend &&\n                trace._module.attributes.showlegend.dflt === false\n            )\n        )) {\n            legendTraceCount++;\n            if(trace.showlegend) {\n                legendReallyHasATrace = true;\n                // Always show the legend by default if there's a pie,\n                // or if there's only one trace but it's explicitly shown\n                if(!isShape && Registry.traceIs(trace, 'pie-like') ||\n                    trace._input.showlegend === true\n                ) {\n                    legendTraceCount++;\n                }\n            }\n\n            Lib.coerceFont(traceCoerce, 'legendgrouptitle.font', grouptitlefont);\n        }\n\n        if((!isShape && Registry.traceIs(trace, 'bar') && layoutOut.barmode === 'stack') ||\n                ['tonextx', 'tonexty'].indexOf(trace.fill) !== -1) {\n            defaultOrder = helpers.isGrouped({traceorder: defaultOrder}) ?\n                'grouped+reversed' : 'reversed';\n        }\n\n        if(trace.legendgroup !== undefined && trace.legendgroup !== '') {\n            defaultOrder = helpers.isReversed({traceorder: defaultOrder}) ?\n                'reversed+grouped' : 'grouped';\n        }\n    }\n\n    var showLegend = Lib.coerce(layoutIn, layoutOut,\n        basePlotLayoutAttributes, 'showlegend',\n        legendReallyHasATrace && (legendTraceCount > (legendId === 'legend' ? 1 : 0)));\n\n    // delete legend\n    if(showLegend === false) layoutOut[legendId] = undefined;\n\n    if(showLegend === false && !containerIn.uirevision) return;\n\n    coerce('uirevision', layoutOut.uirevision);\n\n    if(showLegend === false) return;\n\n    coerce('borderwidth');\n\n    var orientation = coerce('orientation');\n\n    var yref = coerce('yref');\n    var xref = coerce('xref');\n\n    var isHorizontal = orientation === 'h';\n    var isPaperY = yref === 'paper';\n    var isPaperX = xref === 'paper';\n    var defaultX, defaultY, defaultYAnchor;\n    var defaultXAnchor = 'left';\n\n    if(isHorizontal) {\n        defaultX = 0;\n\n        if(Registry.getComponentMethod('rangeslider', 'isVisible')(layoutIn.xaxis)) {\n            if(isPaperY) {\n                defaultY = 1.1;\n                defaultYAnchor = 'bottom';\n            } else {\n                defaultY = 1;\n                defaultYAnchor = 'top';\n            }\n        } else {\n            // maybe use y=1.1 / yanchor=bottom as above\n            //   to avoid https://github.com/plotly/plotly.js/issues/1199\n            //   in v3\n            if(isPaperY) {\n                defaultY = -0.1;\n                defaultYAnchor = 'top';\n            } else {\n                defaultY = 0;\n                defaultYAnchor = 'bottom';\n            }\n        }\n    } else {\n        defaultY = 1;\n        defaultYAnchor = 'auto';\n        if(isPaperX) {\n            defaultX = 1.02;\n        } else {\n            defaultX = 1;\n            defaultXAnchor = 'right';\n        }\n    }\n\n    Lib.coerce(containerIn, containerOut, {\n        x: {\n            valType: 'number',\n            editType: 'legend',\n            min: isPaperX ? -2 : 0,\n            max: isPaperX ? 3 : 1,\n            dflt: defaultX,\n        }\n    }, 'x');\n\n    Lib.coerce(containerIn, containerOut, {\n        y: {\n            valType: 'number',\n            editType: 'legend',\n            min: isPaperY ? -2 : 0,\n            max: isPaperY ? 3 : 1,\n            dflt: defaultY,\n        }\n    }, 'y');\n\n    coerce('traceorder', defaultOrder);\n    if(helpers.isGrouped(layoutOut[legendId])) coerce('tracegroupgap');\n\n    coerce('entrywidth');\n    coerce('entrywidthmode');\n    coerce('indentation');\n    coerce('itemsizing');\n    coerce('itemwidth');\n\n    coerce('itemclick');\n    coerce('itemdoubleclick');\n    coerce('groupclick');\n\n    coerce('xanchor', defaultXAnchor);\n    coerce('yanchor', defaultYAnchor);\n    coerce('valign');\n    Lib.noneOrAll(containerIn, containerOut, ['x', 'y']);\n\n    var titleText = coerce('title.text');\n    if(titleText) {\n        coerce('title.side', isHorizontal ? 'left' : 'top');\n        var dfltTitleFont = Lib.extendFlat({}, itemFont, {\n            size: Lib.bigFont(itemFont.size)\n        });\n\n        Lib.coerceFont(coerce, 'title.font', dfltTitleFont);\n    }\n}\n\nmodule.exports = function legendDefaults(layoutIn, layoutOut, fullData) {\n    var i;\n\n    var allLegendsData = fullData.slice();\n\n    // shapes could also show up in legends\n    var shapes = layoutOut.shapes;\n    if(shapes) {\n        for(i = 0; i < shapes.length; i++) {\n            var shape = shapes[i];\n            if(!shape.showlegend) continue;\n\n            var mockTrace = {\n                _input: shape._input,\n                visible: shape.visible,\n                showlegend: shape.showlegend,\n                legend: shape.legend\n            };\n\n            allLegendsData.push(mockTrace);\n        }\n    }\n\n    var legends = ['legend'];\n    for(i = 0; i < allLegendsData.length; i++) {\n        Lib.pushUnique(legends, allLegendsData[i].legend);\n    }\n\n    layoutOut._legends = [];\n    for(i = 0; i < legends.length; i++) {\n        var legendId = legends[i];\n\n        groupDefaults(legendId, layoutIn, layoutOut, allLegendsData);\n\n        if(\n            layoutOut[legendId] &&\n            layoutOut[legendId].visible\n        ) {\n            layoutOut[legendId]._id = legendId;\n        }\n\n        layoutOut._legends.push(legendId);\n    }\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}