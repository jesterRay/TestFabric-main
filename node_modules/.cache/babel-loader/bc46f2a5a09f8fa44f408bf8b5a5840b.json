{"ast":null,"code":"'use strict';\n\nvar Color = require('../../color');\nvar Lib = require('../../../lib');\nfunction dfltLabelYanchor(isLine, labelTextPosition) {\n  // If shape is a line, default y-anchor is 'bottom' (so that text is above line by default)\n  // Otherwise, default y-anchor is equal to y-component of `textposition`\n  // (so that text is positioned inside shape bounding box by default)\n  return isLine ? 'bottom' : labelTextPosition.indexOf('top') !== -1 ? 'top' : labelTextPosition.indexOf('bottom') !== -1 ? 'bottom' : 'middle';\n}\nmodule.exports = function supplyDrawNewShapeDefaults(layoutIn, layoutOut, coerce) {\n  coerce('newshape.visible');\n  coerce('newshape.name');\n  coerce('newshape.showlegend');\n  coerce('newshape.legend');\n  coerce('newshape.legendwidth');\n  coerce('newshape.legendgroup');\n  coerce('newshape.legendgrouptitle.text');\n  Lib.coerceFont(coerce, 'newshape.legendgrouptitle.font');\n  coerce('newshape.legendrank');\n  coerce('newshape.drawdirection');\n  coerce('newshape.layer');\n  coerce('newshape.fillcolor');\n  coerce('newshape.fillrule');\n  coerce('newshape.opacity');\n  var newshapeLineWidth = coerce('newshape.line.width');\n  if (newshapeLineWidth) {\n    var bgcolor = (layoutIn || {}).plot_bgcolor || '#FFF';\n    coerce('newshape.line.color', Color.contrast(bgcolor));\n    coerce('newshape.line.dash');\n  }\n  var isLine = layoutIn.dragmode === 'drawline';\n  var labelText = coerce('newshape.label.text');\n  var labelTextTemplate = coerce('newshape.label.texttemplate');\n  if (labelText || labelTextTemplate) {\n    coerce('newshape.label.textangle');\n    var labelTextPosition = coerce('newshape.label.textposition', isLine ? 'middle' : 'middle center');\n    coerce('newshape.label.xanchor');\n    coerce('newshape.label.yanchor', dfltLabelYanchor(isLine, labelTextPosition));\n    coerce('newshape.label.padding');\n    Lib.coerceFont(coerce, 'newshape.label.font', layoutOut.font);\n  }\n  coerce('activeshape.fillcolor');\n  coerce('activeshape.opacity');\n};","map":{"version":3,"names":["Color","require","Lib","dfltLabelYanchor","isLine","labelTextPosition","indexOf","module","exports","supplyDrawNewShapeDefaults","layoutIn","layoutOut","coerce","coerceFont","newshapeLineWidth","bgcolor","plot_bgcolor","contrast","dragmode","labelText","labelTextTemplate","font"],"sources":["E:/tog_workspace/TestFabric_main/TestFabric-main/node_modules/plotly.js/src/components/shapes/draw_newshape/defaults.js"],"sourcesContent":["'use strict';\n\nvar Color = require('../../color');\nvar Lib = require('../../../lib');\n\n\nfunction dfltLabelYanchor(isLine, labelTextPosition) {\n    // If shape is a line, default y-anchor is 'bottom' (so that text is above line by default)\n    // Otherwise, default y-anchor is equal to y-component of `textposition`\n    // (so that text is positioned inside shape bounding box by default)\n    return isLine ? 'bottom' :\n        labelTextPosition.indexOf('top') !== -1 ? 'top' :\n        labelTextPosition.indexOf('bottom') !== -1 ? 'bottom' : 'middle';\n}\n\nmodule.exports = function supplyDrawNewShapeDefaults(layoutIn, layoutOut, coerce) {\n    coerce('newshape.visible');\n    coerce('newshape.name');\n    coerce('newshape.showlegend');\n    coerce('newshape.legend');\n    coerce('newshape.legendwidth');\n    coerce('newshape.legendgroup');\n    coerce('newshape.legendgrouptitle.text');\n    Lib.coerceFont(coerce, 'newshape.legendgrouptitle.font');\n    coerce('newshape.legendrank');\n\n    coerce('newshape.drawdirection');\n    coerce('newshape.layer');\n    coerce('newshape.fillcolor');\n    coerce('newshape.fillrule');\n    coerce('newshape.opacity');\n    var newshapeLineWidth = coerce('newshape.line.width');\n    if(newshapeLineWidth) {\n        var bgcolor = (layoutIn || {}).plot_bgcolor || '#FFF';\n        coerce('newshape.line.color', Color.contrast(bgcolor));\n        coerce('newshape.line.dash');\n    }\n\n    var isLine = layoutIn.dragmode === 'drawline';\n    var labelText = coerce('newshape.label.text');\n    var labelTextTemplate = coerce('newshape.label.texttemplate');\n    if(labelText || labelTextTemplate) {\n        coerce('newshape.label.textangle');\n        var labelTextPosition = coerce('newshape.label.textposition', isLine ? 'middle' : 'middle center');\n        coerce('newshape.label.xanchor');\n        coerce('newshape.label.yanchor', dfltLabelYanchor(isLine, labelTextPosition));\n        coerce('newshape.label.padding');\n        Lib.coerceFont(coerce, 'newshape.label.font', layoutOut.font);\n    }\n\n    coerce('activeshape.fillcolor');\n    coerce('activeshape.opacity');\n};\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,KAAK,GAAGC,OAAO,CAAC,aAAa,CAAC;AAClC,IAAIC,GAAG,GAAGD,OAAO,CAAC,cAAc,CAAC;AAGjC,SAASE,gBAAgBA,CAACC,MAAM,EAAEC,iBAAiB,EAAE;EACjD;EACA;EACA;EACA,OAAOD,MAAM,GAAG,QAAQ,GACpBC,iBAAiB,CAACC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,GAAG,KAAK,GAC/CD,iBAAiB,CAACC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,GAAG,QAAQ,GAAG,QAAQ;AACxE;AAEAC,MAAM,CAACC,OAAO,GAAG,SAASC,0BAA0BA,CAACC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,EAAE;EAC9EA,MAAM,CAAC,kBAAkB,CAAC;EAC1BA,MAAM,CAAC,eAAe,CAAC;EACvBA,MAAM,CAAC,qBAAqB,CAAC;EAC7BA,MAAM,CAAC,iBAAiB,CAAC;EACzBA,MAAM,CAAC,sBAAsB,CAAC;EAC9BA,MAAM,CAAC,sBAAsB,CAAC;EAC9BA,MAAM,CAAC,gCAAgC,CAAC;EACxCV,GAAG,CAACW,UAAU,CAACD,MAAM,EAAE,gCAAgC,CAAC;EACxDA,MAAM,CAAC,qBAAqB,CAAC;EAE7BA,MAAM,CAAC,wBAAwB,CAAC;EAChCA,MAAM,CAAC,gBAAgB,CAAC;EACxBA,MAAM,CAAC,oBAAoB,CAAC;EAC5BA,MAAM,CAAC,mBAAmB,CAAC;EAC3BA,MAAM,CAAC,kBAAkB,CAAC;EAC1B,IAAIE,iBAAiB,GAAGF,MAAM,CAAC,qBAAqB,CAAC;EACrD,IAAGE,iBAAiB,EAAE;IAClB,IAAIC,OAAO,GAAG,CAACL,QAAQ,IAAI,CAAC,CAAC,EAAEM,YAAY,IAAI,MAAM;IACrDJ,MAAM,CAAC,qBAAqB,EAAEZ,KAAK,CAACiB,QAAQ,CAACF,OAAO,CAAC,CAAC;IACtDH,MAAM,CAAC,oBAAoB,CAAC;EAChC;EAEA,IAAIR,MAAM,GAAGM,QAAQ,CAACQ,QAAQ,KAAK,UAAU;EAC7C,IAAIC,SAAS,GAAGP,MAAM,CAAC,qBAAqB,CAAC;EAC7C,IAAIQ,iBAAiB,GAAGR,MAAM,CAAC,6BAA6B,CAAC;EAC7D,IAAGO,SAAS,IAAIC,iBAAiB,EAAE;IAC/BR,MAAM,CAAC,0BAA0B,CAAC;IAClC,IAAIP,iBAAiB,GAAGO,MAAM,CAAC,6BAA6B,EAAER,MAAM,GAAG,QAAQ,GAAG,eAAe,CAAC;IAClGQ,MAAM,CAAC,wBAAwB,CAAC;IAChCA,MAAM,CAAC,wBAAwB,EAAET,gBAAgB,CAACC,MAAM,EAAEC,iBAAiB,CAAC,CAAC;IAC7EO,MAAM,CAAC,wBAAwB,CAAC;IAChCV,GAAG,CAACW,UAAU,CAACD,MAAM,EAAE,qBAAqB,EAAED,SAAS,CAACU,IAAI,CAAC;EACjE;EAEAT,MAAM,CAAC,uBAAuB,CAAC;EAC/BA,MAAM,CAAC,qBAAqB,CAAC;AACjC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script"}