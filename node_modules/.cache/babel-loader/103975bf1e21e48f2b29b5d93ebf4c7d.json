{"ast":null,"code":"'use strict';\n\nvar Lib = require('../../lib');\nvar handleGroupingDefaults = require('../scatter/grouping_defaults');\nvar handleText = require('../bar/defaults').handleText;\nvar handleXYDefaults = require('../scatter/xy_defaults');\nvar handlePeriodDefaults = require('../scatter/period_defaults');\nvar attributes = require('./attributes');\nvar Color = require('../../components/color');\nfunction supplyDefaults(traceIn, traceOut, defaultColor, layout) {\n  function coerce(attr, dflt) {\n    return Lib.coerce(traceIn, traceOut, attributes, attr, dflt);\n  }\n  var len = handleXYDefaults(traceIn, traceOut, layout, coerce);\n  if (!len) {\n    traceOut.visible = false;\n    return;\n  }\n  handlePeriodDefaults(traceIn, traceOut, layout, coerce);\n  coerce('xhoverformat');\n  coerce('yhoverformat');\n  coerce('orientation', traceOut.y && !traceOut.x ? 'v' : 'h');\n  coerce('offset');\n  coerce('width');\n  var text = coerce('text');\n  coerce('hovertext');\n  coerce('hovertemplate');\n  var textposition = coerce('textposition');\n  handleText(traceIn, traceOut, layout, coerce, textposition, {\n    moduleHasSelected: false,\n    moduleHasUnselected: false,\n    moduleHasConstrain: true,\n    moduleHasCliponaxis: true,\n    moduleHasTextangle: true,\n    moduleHasInsideanchor: true\n  });\n  if (traceOut.textposition !== 'none' && !traceOut.texttemplate) {\n    coerce('textinfo', Lib.isArrayOrTypedArray(text) ? 'text+value' : 'value');\n  }\n  var markerColor = coerce('marker.color', defaultColor);\n  coerce('marker.line.color', Color.defaultLine);\n  coerce('marker.line.width');\n  var connectorVisible = coerce('connector.visible');\n  if (connectorVisible) {\n    coerce('connector.fillcolor', defaultFillColor(markerColor));\n    var connectorLineWidth = coerce('connector.line.width');\n    if (connectorLineWidth) {\n      coerce('connector.line.color');\n      coerce('connector.line.dash');\n    }\n  }\n  coerce('zorder');\n}\nfunction defaultFillColor(markerColor) {\n  var cBase = Lib.isArrayOrTypedArray(markerColor) ? '#000' : markerColor;\n  return Color.addOpacity(cBase, 0.5 * Color.opacity(cBase));\n}\nfunction crossTraceDefaults(fullData, fullLayout) {\n  var traceIn, traceOut;\n  function coerce(attr) {\n    return Lib.coerce(traceOut._input, traceOut, attributes, attr);\n  }\n  if (fullLayout.funnelmode === 'group') {\n    for (var i = 0; i < fullData.length; i++) {\n      traceOut = fullData[i];\n      traceIn = traceOut._input;\n      handleGroupingDefaults(traceIn, traceOut, fullLayout, coerce);\n    }\n  }\n}\nmodule.exports = {\n  supplyDefaults: supplyDefaults,\n  crossTraceDefaults: crossTraceDefaults\n};","map":{"version":3,"names":["Lib","require","handleGroupingDefaults","handleText","handleXYDefaults","handlePeriodDefaults","attributes","Color","supplyDefaults","traceIn","traceOut","defaultColor","layout","coerce","attr","dflt","len","visible","y","x","text","textposition","moduleHasSelected","moduleHasUnselected","moduleHasConstrain","moduleHasCliponaxis","moduleHasTextangle","moduleHasInsideanchor","texttemplate","isArrayOrTypedArray","markerColor","defaultLine","connectorVisible","defaultFillColor","connectorLineWidth","cBase","addOpacity","opacity","crossTraceDefaults","fullData","fullLayout","_input","funnelmode","i","length","module","exports"],"sources":["E:/tog_workspace/TestFabric_main/TestFabric-main/node_modules/plotly.js/src/traces/funnel/defaults.js"],"sourcesContent":["'use strict';\n\nvar Lib = require('../../lib');\n\nvar handleGroupingDefaults = require('../scatter/grouping_defaults');\nvar handleText = require('../bar/defaults').handleText;\nvar handleXYDefaults = require('../scatter/xy_defaults');\nvar handlePeriodDefaults = require('../scatter/period_defaults');\nvar attributes = require('./attributes');\nvar Color = require('../../components/color');\n\nfunction supplyDefaults(traceIn, traceOut, defaultColor, layout) {\n    function coerce(attr, dflt) {\n        return Lib.coerce(traceIn, traceOut, attributes, attr, dflt);\n    }\n\n    var len = handleXYDefaults(traceIn, traceOut, layout, coerce);\n    if(!len) {\n        traceOut.visible = false;\n        return;\n    }\n\n    handlePeriodDefaults(traceIn, traceOut, layout, coerce);\n    coerce('xhoverformat');\n    coerce('yhoverformat');\n\n    coerce('orientation', (traceOut.y && !traceOut.x) ? 'v' : 'h');\n    coerce('offset');\n    coerce('width');\n\n    var text = coerce('text');\n\n    coerce('hovertext');\n    coerce('hovertemplate');\n\n    var textposition = coerce('textposition');\n    handleText(traceIn, traceOut, layout, coerce, textposition, {\n        moduleHasSelected: false,\n        moduleHasUnselected: false,\n        moduleHasConstrain: true,\n        moduleHasCliponaxis: true,\n        moduleHasTextangle: true,\n        moduleHasInsideanchor: true\n    });\n\n    if(traceOut.textposition !== 'none' && !traceOut.texttemplate) {\n        coerce('textinfo', Lib.isArrayOrTypedArray(text) ? 'text+value' : 'value');\n    }\n\n    var markerColor = coerce('marker.color', defaultColor);\n    coerce('marker.line.color', Color.defaultLine);\n    coerce('marker.line.width');\n\n    var connectorVisible = coerce('connector.visible');\n    if(connectorVisible) {\n        coerce('connector.fillcolor', defaultFillColor(markerColor));\n\n        var connectorLineWidth = coerce('connector.line.width');\n        if(connectorLineWidth) {\n            coerce('connector.line.color');\n            coerce('connector.line.dash');\n        }\n    }\n    coerce('zorder');\n}\n\nfunction defaultFillColor(markerColor) {\n    var cBase = Lib.isArrayOrTypedArray(markerColor) ? '#000' : markerColor;\n\n    return Color.addOpacity(cBase, 0.5 * Color.opacity(cBase));\n}\n\nfunction crossTraceDefaults(fullData, fullLayout) {\n    var traceIn, traceOut;\n\n    function coerce(attr) {\n        return Lib.coerce(traceOut._input, traceOut, attributes, attr);\n    }\n\n    if(fullLayout.funnelmode === 'group') {\n        for(var i = 0; i < fullData.length; i++) {\n            traceOut = fullData[i];\n            traceIn = traceOut._input;\n\n            handleGroupingDefaults(traceIn, traceOut, fullLayout, coerce);\n        }\n    }\n}\n\nmodule.exports = {\n    supplyDefaults: supplyDefaults,\n    crossTraceDefaults: crossTraceDefaults\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}