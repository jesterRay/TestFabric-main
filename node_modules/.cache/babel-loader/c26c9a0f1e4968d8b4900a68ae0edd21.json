{"ast":null,"code":"'use strict';\n\nvar Lib = require('../../lib');\nvar Axes = require('../../plots/cartesian/axes');\nvar alignPeriod = require('../../plots/cartesian/align_period');\nvar calcCommon = require('../ohlc/calc').calcCommon;\nmodule.exports = function (gd, trace) {\n  var fullLayout = gd._fullLayout;\n  var xa = Axes.getFromId(gd, trace.xaxis);\n  var ya = Axes.getFromId(gd, trace.yaxis);\n  var origX = xa.makeCalcdata(trace, 'x');\n  var x = alignPeriod(trace, xa, 'x', origX).vals;\n  var cd = calcCommon(gd, trace, origX, x, ya, ptFunc);\n  if (cd.length) {\n    Lib.extendFlat(cd[0].t, {\n      num: fullLayout._numBoxes,\n      dPos: Lib.distinctVals(x).minDiff / 2,\n      posLetter: 'x',\n      valLetter: 'y'\n    });\n    fullLayout._numBoxes++;\n    return cd;\n  } else {\n    return [{\n      t: {\n        empty: true\n      }\n    }];\n  }\n};\nfunction ptFunc(o, h, l, c) {\n  return {\n    min: l,\n    q1: Math.min(o, c),\n    med: c,\n    q3: Math.max(o, c),\n    max: h\n  };\n}","map":{"version":3,"names":["Lib","require","Axes","alignPeriod","calcCommon","module","exports","gd","trace","fullLayout","_fullLayout","xa","getFromId","xaxis","ya","yaxis","origX","makeCalcdata","x","vals","cd","ptFunc","length","extendFlat","t","num","_numBoxes","dPos","distinctVals","minDiff","posLetter","valLetter","empty","o","h","l","c","min","q1","Math","med","q3","max"],"sources":["E:/tog_workspace/TestFabric_main/TestFabric-main/node_modules/plotly.js/src/traces/candlestick/calc.js"],"sourcesContent":["'use strict';\n\nvar Lib = require('../../lib');\nvar Axes = require('../../plots/cartesian/axes');\nvar alignPeriod = require('../../plots/cartesian/align_period');\n\nvar calcCommon = require('../ohlc/calc').calcCommon;\n\nmodule.exports = function(gd, trace) {\n    var fullLayout = gd._fullLayout;\n    var xa = Axes.getFromId(gd, trace.xaxis);\n    var ya = Axes.getFromId(gd, trace.yaxis);\n\n    var origX = xa.makeCalcdata(trace, 'x');\n    var x = alignPeriod(trace, xa, 'x', origX).vals;\n\n    var cd = calcCommon(gd, trace, origX, x, ya, ptFunc);\n\n    if(cd.length) {\n        Lib.extendFlat(cd[0].t, {\n            num: fullLayout._numBoxes,\n            dPos: Lib.distinctVals(x).minDiff / 2,\n            posLetter: 'x',\n            valLetter: 'y',\n        });\n\n        fullLayout._numBoxes++;\n        return cd;\n    } else {\n        return [{t: {empty: true}}];\n    }\n};\n\nfunction ptFunc(o, h, l, c) {\n    return {\n        min: l,\n        q1: Math.min(o, c),\n        med: c,\n        q3: Math.max(o, c),\n        max: h,\n    };\n}\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,GAAG,GAAGC,OAAO,CAAC,WAAW,CAAC;AAC9B,IAAIC,IAAI,GAAGD,OAAO,CAAC,4BAA4B,CAAC;AAChD,IAAIE,WAAW,GAAGF,OAAO,CAAC,oCAAoC,CAAC;AAE/D,IAAIG,UAAU,GAAGH,OAAO,CAAC,cAAc,CAAC,CAACG,UAAU;AAEnDC,MAAM,CAACC,OAAO,GAAG,UAASC,EAAE,EAAEC,KAAK,EAAE;EACjC,IAAIC,UAAU,GAAGF,EAAE,CAACG,WAAW;EAC/B,IAAIC,EAAE,GAAGT,IAAI,CAACU,SAAS,CAACL,EAAE,EAAEC,KAAK,CAACK,KAAK,CAAC;EACxC,IAAIC,EAAE,GAAGZ,IAAI,CAACU,SAAS,CAACL,EAAE,EAAEC,KAAK,CAACO,KAAK,CAAC;EAExC,IAAIC,KAAK,GAAGL,EAAE,CAACM,YAAY,CAACT,KAAK,EAAE,GAAG,CAAC;EACvC,IAAIU,CAAC,GAAGf,WAAW,CAACK,KAAK,EAAEG,EAAE,EAAE,GAAG,EAAEK,KAAK,CAAC,CAACG,IAAI;EAE/C,IAAIC,EAAE,GAAGhB,UAAU,CAACG,EAAE,EAAEC,KAAK,EAAEQ,KAAK,EAAEE,CAAC,EAAEJ,EAAE,EAAEO,MAAM,CAAC;EAEpD,IAAGD,EAAE,CAACE,MAAM,EAAE;IACVtB,GAAG,CAACuB,UAAU,CAACH,EAAE,CAAC,CAAC,CAAC,CAACI,CAAC,EAAE;MACpBC,GAAG,EAAEhB,UAAU,CAACiB,SAAS;MACzBC,IAAI,EAAE3B,GAAG,CAAC4B,YAAY,CAACV,CAAC,CAAC,CAACW,OAAO,GAAG,CAAC;MACrCC,SAAS,EAAE,GAAG;MACdC,SAAS,EAAE;IACf,CAAC,CAAC;IAEFtB,UAAU,CAACiB,SAAS,EAAE;IACtB,OAAON,EAAE;EACb,CAAC,MAAM;IACH,OAAO,CAAC;MAACI,CAAC,EAAE;QAACQ,KAAK,EAAE;MAAI;IAAC,CAAC,CAAC;EAC/B;AACJ,CAAC;AAED,SAASX,MAAMA,CAACY,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EACxB,OAAO;IACHC,GAAG,EAAEF,CAAC;IACNG,EAAE,EAAEC,IAAI,CAACF,GAAG,CAACJ,CAAC,EAAEG,CAAC,CAAC;IAClBI,GAAG,EAAEJ,CAAC;IACNK,EAAE,EAAEF,IAAI,CAACG,GAAG,CAACT,CAAC,EAAEG,CAAC,CAAC;IAClBM,GAAG,EAAER;EACT,CAAC;AACL","ignoreList":[]},"metadata":{},"sourceType":"script"}