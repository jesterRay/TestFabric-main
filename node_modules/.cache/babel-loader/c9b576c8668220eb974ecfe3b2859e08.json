{"ast":null,"code":"'use strict';\n\nvar isNumeric = require('fast-isnumeric');\nvar isMobileOrTablet = require('is-mobile');\nmodule.exports = function preserveDrawingBuffer(opts) {\n  var ua;\n  if (opts && opts.hasOwnProperty('userAgent')) {\n    ua = opts.userAgent;\n  } else {\n    ua = getUserAgent();\n  }\n  if (typeof ua !== 'string') return true;\n  var enable = isMobileOrTablet({\n    ua: {\n      headers: {\n        'user-agent': ua\n      }\n    },\n    tablet: true,\n    featureDetect: false\n  });\n  if (!enable) {\n    var allParts = ua.split(' ');\n    for (var i = 1; i < allParts.length; i++) {\n      var part = allParts[i];\n      if (part.indexOf('Safari') !== -1) {\n        // find Safari version\n        for (var k = i - 1; k > -1; k--) {\n          var prevPart = allParts[k];\n          if (prevPart.substr(0, 8) === 'Version/') {\n            var v = prevPart.substr(8).split('.')[0];\n            if (isNumeric(v)) v = +v;\n            if (v >= 13) return true;\n          }\n        }\n      }\n    }\n  }\n  return enable;\n};\nfunction getUserAgent() {\n  // similar to https://github.com/juliangruber/is-mobile/blob/91ca39ccdd4cfc5edfb5391e2515b923a730fbea/index.js#L14-L17\n  var ua;\n  if (typeof navigator !== 'undefined') {\n    ua = navigator.userAgent;\n  }\n  if (ua && ua.headers && typeof ua.headers['user-agent'] === 'string') {\n    ua = ua.headers['user-agent'];\n  }\n  return ua;\n}","map":{"version":3,"names":["isNumeric","require","isMobileOrTablet","module","exports","preserveDrawingBuffer","opts","ua","hasOwnProperty","userAgent","getUserAgent","enable","headers","tablet","featureDetect","allParts","split","i","length","part","indexOf","k","prevPart","substr","v","navigator"],"sources":["E:/tog_workspace/TestFabric_main/TestFabric-main/node_modules/plotly.js/src/lib/preserve_drawing_buffer.js"],"sourcesContent":["'use strict';\n\nvar isNumeric = require('fast-isnumeric');\nvar isMobileOrTablet = require('is-mobile');\n\nmodule.exports = function preserveDrawingBuffer(opts) {\n    var ua;\n\n    if(opts && opts.hasOwnProperty('userAgent')) {\n        ua = opts.userAgent;\n    } else {\n        ua = getUserAgent();\n    }\n\n    if(typeof ua !== 'string') return true;\n\n    var enable = isMobileOrTablet({\n        ua: { headers: {'user-agent': ua }},\n        tablet: true,\n        featureDetect: false\n    });\n\n    if(!enable) {\n        var allParts = ua.split(' ');\n        for(var i = 1; i < allParts.length; i++) {\n            var part = allParts[i];\n            if(part.indexOf('Safari') !== -1) {\n                // find Safari version\n                for(var k = i - 1; k > -1; k--) {\n                    var prevPart = allParts[k];\n                    if(prevPart.substr(0, 8) === 'Version/') {\n                        var v = prevPart.substr(8).split('.')[0];\n                        if(isNumeric(v)) v = +v;\n                        if(v >= 13) return true;\n                    }\n                }\n            }\n        }\n    }\n\n    return enable;\n};\n\nfunction getUserAgent() {\n    // similar to https://github.com/juliangruber/is-mobile/blob/91ca39ccdd4cfc5edfb5391e2515b923a730fbea/index.js#L14-L17\n    var ua;\n    if(typeof navigator !== 'undefined') {\n        ua = navigator.userAgent;\n    }\n\n    if(\n        ua &&\n        ua.headers &&\n        typeof ua.headers['user-agent'] === 'string'\n    ) {\n        ua = ua.headers['user-agent'];\n    }\n\n    return ua;\n}\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,SAAS,GAAGC,OAAO,CAAC,gBAAgB,CAAC;AACzC,IAAIC,gBAAgB,GAAGD,OAAO,CAAC,WAAW,CAAC;AAE3CE,MAAM,CAACC,OAAO,GAAG,SAASC,qBAAqBA,CAACC,IAAI,EAAE;EAClD,IAAIC,EAAE;EAEN,IAAGD,IAAI,IAAIA,IAAI,CAACE,cAAc,CAAC,WAAW,CAAC,EAAE;IACzCD,EAAE,GAAGD,IAAI,CAACG,SAAS;EACvB,CAAC,MAAM;IACHF,EAAE,GAAGG,YAAY,CAAC,CAAC;EACvB;EAEA,IAAG,OAAOH,EAAE,KAAK,QAAQ,EAAE,OAAO,IAAI;EAEtC,IAAII,MAAM,GAAGT,gBAAgB,CAAC;IAC1BK,EAAE,EAAE;MAAEK,OAAO,EAAE;QAAC,YAAY,EAAEL;MAAG;IAAC,CAAC;IACnCM,MAAM,EAAE,IAAI;IACZC,aAAa,EAAE;EACnB,CAAC,CAAC;EAEF,IAAG,CAACH,MAAM,EAAE;IACR,IAAII,QAAQ,GAAGR,EAAE,CAACS,KAAK,CAAC,GAAG,CAAC;IAC5B,KAAI,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,QAAQ,CAACG,MAAM,EAAED,CAAC,EAAE,EAAE;MACrC,IAAIE,IAAI,GAAGJ,QAAQ,CAACE,CAAC,CAAC;MACtB,IAAGE,IAAI,CAACC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE;QAC9B;QACA,KAAI,IAAIC,CAAC,GAAGJ,CAAC,GAAG,CAAC,EAAEI,CAAC,GAAG,CAAC,CAAC,EAAEA,CAAC,EAAE,EAAE;UAC5B,IAAIC,QAAQ,GAAGP,QAAQ,CAACM,CAAC,CAAC;UAC1B,IAAGC,QAAQ,CAACC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,UAAU,EAAE;YACrC,IAAIC,CAAC,GAAGF,QAAQ,CAACC,MAAM,CAAC,CAAC,CAAC,CAACP,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YACxC,IAAGhB,SAAS,CAACwB,CAAC,CAAC,EAAEA,CAAC,GAAG,CAACA,CAAC;YACvB,IAAGA,CAAC,IAAI,EAAE,EAAE,OAAO,IAAI;UAC3B;QACJ;MACJ;IACJ;EACJ;EAEA,OAAOb,MAAM;AACjB,CAAC;AAED,SAASD,YAAYA,CAAA,EAAG;EACpB;EACA,IAAIH,EAAE;EACN,IAAG,OAAOkB,SAAS,KAAK,WAAW,EAAE;IACjClB,EAAE,GAAGkB,SAAS,CAAChB,SAAS;EAC5B;EAEA,IACIF,EAAE,IACFA,EAAE,CAACK,OAAO,IACV,OAAOL,EAAE,CAACK,OAAO,CAAC,YAAY,CAAC,KAAK,QAAQ,EAC9C;IACEL,EAAE,GAAGA,EAAE,CAACK,OAAO,CAAC,YAAY,CAAC;EACjC;EAEA,OAAOL,EAAE;AACb","ignoreList":[]},"metadata":{},"sourceType":"script"}